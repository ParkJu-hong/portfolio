/*! For license information please see main.e44cef34.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(9727)},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),u=n(1804),s=n(9145),c=n(5411),l=n(6467),f=n(221),h=n(9346);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,v=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete v["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var k=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(k+":"+b)}var w=u(e.baseURL,e.url);function _(){if(g){var r="getAllResponseHeaders"in g?s(g.getAllResponseHeaders()):null,a={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};i((function(e){t(e),y()}),(function(e){n(e),y()}),a),g=null}}if(g.open(e.method.toUpperCase(),o(w,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=_:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(_)},g.onabort=function(){g&&(n(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var x=(e.withCredentials||c(w))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;x&&(v[e.xsrfHeaderName]=x)}"setRequestHeader"in g&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),m&&"json"!==m&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){g&&(n(!e||e&&e.type?new h("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),g.send(p)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var u=function e(t){var n=new a(t),u=i(a.prototype.request,n);return r.extend(u,a.prototype,n),r.extend(u,n),u.create=function(n){return e(o(t,n))},u}(n(221));u.Axios=a,u.Cancel=n(9346),u.CancelToken=n(6857),u.isCancel=n(5517),u.VERSION=n(7600).version,u.all=function(e){return Promise.all(e)},u.spread=n(8089),u.isAxiosError=n(9580),e.exports=u,e.exports.default=u},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),u=n(777),s=n(7835),c=s.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e,t){if("string"===typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=u(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&s.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(l),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var h=t;r.length;){var d=r.shift(),p=r.shift();try{h=d(h)}catch(v){p(v);break}}try{a=o(h)}catch(v){return Promise.reject(v)}for(;l.length;)a=a.then(l.shift(),l.shift());return a},l.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=u(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(u(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(u(r||{},{method:e,url:t,data:n}))}})),e.exports=l},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(221),u=n(9346);function s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new u("canceled")}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function u(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function s(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:s};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==s||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(221);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(6460),o={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||s.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(u){if(o){if("SyntaxError"===u.name)throw a(u,this,"E_JSON_PARSE");throw u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(o)})),e.exports=s},7600:function(e){e.exports={version:"0.25.0"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(i)&&u.push("path="+i),r.isString(a)&&u.push("domain="+a),!0===o&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var r=n(7600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new TypeError("option "+a+" must be "+s)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},3589:function(e,t,n){"use strict";var r=n(4049),i=Object.prototype.toString;function a(e){return Array.isArray(e)}function o(e){return"undefined"===typeof e}function u(e){return"[object ArrayBuffer]"===i.call(e)}function s(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:f,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},390:function(e,t,n){"use strict";n.d(t,{aU:function(){return r},lX:function(){return h},q_:function(){return d},PP:function(){return p},Ep:function(){return l},cP:function(){return f}});var r,i=n(7462),a=r||(r={});a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE";var o=function(e){return e};function u(e){e.preventDefault(),e.returnValue=""}function s(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function c(){return Math.random().toString(36).substr(2,8)}function l(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function f(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function h(e){function t(){var e=p.location,t=v.state||{};return[t.idx,o({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:l(e)}function a(e,t){return void 0===t&&(t=null),o((0,i.Z)({pathname:k.pathname,hash:"",search:""},"string"===typeof e?f(e):e,{state:t,key:c()}))}function h(e){y=e,e=t(),g=e[0],k=e[1],b.call({action:y,location:k})}function d(e){v.go(e)}void 0===e&&(e={});var p=void 0===(e=e.window)?document.defaultView:e,v=p.history,m=null;p.addEventListener("popstate",(function(){if(m)w.call(m),m=null;else{var e=r.Pop,n=t(),i=n[0];if(n=n[1],w.length){if(null!=i){var a=g-i;a&&(m={action:e,location:n,retry:function(){d(-1*a)}},d(a))}}else h(e)}}));var y=r.Pop,g=(e=t())[0],k=e[1],b=s(),w=s();return null==g&&(g=0,v.replaceState((0,i.Z)({},v.state,{idx:g}),"")),{get action(){return y},get location(){return k},createHref:n,push:function e(t,i){var o=r.Push,u=a(t,i);if(!w.length||(w.call({action:o,location:u,retry:function(){e(t,i)}}),0)){var s=[{usr:u.state,key:u.key,idx:g+1},n(u)];u=s[0],s=s[1];try{v.pushState(u,"",s)}catch(c){p.location.assign(s)}h(o)}},replace:function e(t,i){var o=r.Replace,u=a(t,i);w.length&&(w.call({action:o,location:u,retry:function(){e(t,i)}}),1)||(u=[{usr:u.state,key:u.key,idx:g},n(u)],v.replaceState(u[0],"",u[1]),h(o))},go:d,back:function(){d(-1)},forward:function(){d(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&p.addEventListener("beforeunload",u),function(){t(),w.length||p.removeEventListener("beforeunload",u)}}}}function d(e){function t(){var e=f(v.location.hash.substr(1)),t=e.pathname,n=e.search;e=e.hash;var r=m.state||{};return[r.idx,o({pathname:void 0===t?"/":t,search:void 0===n?"":n,hash:void 0===e?"":e,state:r.usr||null,key:r.key||"default"})]}function n(){if(y)_.call(y),y=null;else{var e=r.Pop,n=t(),i=n[0];if(n=n[1],_.length){if(null!=i){var a=k-i;a&&(y={action:e,location:n,retry:function(){p(-1*a)}},p(a))}}else d(e)}}function a(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=-1===(n=(t=v.location.href).indexOf("#"))?t:t.slice(0,n)),n+"#"+("string"===typeof e?e:l(e))}function h(e,t){return void 0===t&&(t=null),o((0,i.Z)({pathname:b.pathname,hash:"",search:""},"string"===typeof e?f(e):e,{state:t,key:c()}))}function d(e){g=e,e=t(),k=e[0],b=e[1],w.call({action:g,location:b})}function p(e){m.go(e)}void 0===e&&(e={});var v=void 0===(e=e.window)?document.defaultView:e,m=v.history,y=null;v.addEventListener("popstate",n),v.addEventListener("hashchange",(function(){l(t()[1])!==l(b)&&n()}));var g=r.Pop,k=(e=t())[0],b=e[1],w=s(),_=s();return null==k&&(k=0,m.replaceState((0,i.Z)({},m.state,{idx:k}),"")),{get action(){return g},get location(){return b},createHref:a,push:function e(t,n){var i=r.Push,o=h(t,n);if(!_.length||(_.call({action:i,location:o,retry:function(){e(t,n)}}),0)){var u=[{usr:o.state,key:o.key,idx:k+1},a(o)];o=u[0],u=u[1];try{m.pushState(o,"",u)}catch(s){v.location.assign(u)}d(i)}},replace:function e(t,n){var i=r.Replace,o=h(t,n);_.length&&(_.call({action:i,location:o,retry:function(){e(t,n)}}),1)||(o=[{usr:o.state,key:o.key,idx:k},a(o)],m.replaceState(o[0],"",o[1]),d(i))},go:p,back:function(){p(-1)},forward:function(){p(1)},listen:function(e){return w.push(e)},block:function(e){var t=_.push(e);return 1===_.length&&v.addEventListener("beforeunload",u),function(){t(),_.length||v.removeEventListener("beforeunload",u)}}}}function p(e){function t(e,t){return void 0===t&&(t=null),o((0,i.Z)({pathname:m.pathname,search:"",hash:""},"string"===typeof e?f(e):e,{state:t,key:c()}))}function n(e,t,n){return!g.length||(g.call({action:e,location:t,retry:n}),!1)}function a(e,t){v=e,m=t,y.call({action:v,location:m})}function u(e){var t=Math.min(Math.max(p+e,0),d.length-1),i=r.Pop,o=d[t];n(i,o,(function(){u(e)}))&&(p=t,a(i,o))}void 0===e&&(e={});var h=e;e=h.initialEntries,h=h.initialIndex;var d=(void 0===e?["/"]:e).map((function(e){return o((0,i.Z)({pathname:"/",search:"",hash:"",state:null,key:c()},"string"===typeof e?f(e):e))})),p=Math.min(Math.max(null==h?d.length-1:h,0),d.length-1),v=r.Pop,m=d[p],y=s(),g=s();return{get index(){return p},get action(){return v},get location(){return m},createHref:function(e){return"string"===typeof e?e:l(e)},push:function e(i,o){var u=r.Push,s=t(i,o);n(u,s,(function(){e(i,o)}))&&(p+=1,d.splice(p,d.length,s),a(u,s))},replace:function e(i,o){var u=r.Replace,s=t(i,o);n(u,s,(function(){e(i,o)}))&&(d[p]=s,a(u,s))},go:u,back:function(){u(-1)},forward:function(){u(1)},listen:function(e){return y.push(e)},block:function(e){return g.push(e)}}}},2176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,c=32,l=64,f=128,h=256,d=1/0,p=9007199254740991,v=NaN,m=4294967295,y=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",c],["partialRight",l],["rearg",h]],g="[object Arguments]",k="[object Array]",b="[object Boolean]",w="[object Date]",_="[object Error]",x="[object Function]",E="[object GeneratorFunction]",T="[object Map]",I="[object Number]",S="[object Object]",C="[object Promise]",N="[object RegExp]",A="[object Set]",R="[object String]",O="[object Symbol]",P="[object WeakMap]",D="[object ArrayBuffer]",L="[object DataView]",M="[object Float32Array]",j="[object Float64Array]",F="[object Int8Array]",U="[object Int16Array]",V="[object Int32Array]",B="[object Uint8Array]",q="[object Uint8ClampedArray]",z="[object Uint16Array]",W="[object Uint32Array]",H=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,Y=RegExp(Q.source),J=RegExp(Z.source),$=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ke=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",Ie="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Ne="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="['\u2019]",Re="[\\ud800-\\udfff]",Oe="["+Ne+"]",Pe="["+Ee+"]",De="\\d+",Le="[\\u2700-\\u27bf]",Me="["+Ie+"]",je="[^\\ud800-\\udfff"+Ne+De+Te+Ie+Se+"]",Fe="\\ud83c[\\udffb-\\udfff]",Ue="[^\\ud800-\\udfff]",Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+Se+"]",ze="(?:"+Me+"|"+je+")",We="(?:"+qe+"|"+je+")",He="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ke="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Pe+"|"+Fe+")"+"?",Qe="[\\ufe0e\\ufe0f]?",Ze=Qe+Ge+("(?:\\u200d(?:"+[Ue,Ve,Be].join("|")+")"+Qe+Ge+")*"),Ye="(?:"+[Le,Ve,Be].join("|")+")"+Ze,Je="(?:"+[Ue+Pe+"?",Pe,Ve,Be,Re].join("|")+")",$e=RegExp(Ae,"g"),Xe=RegExp(Pe,"g"),et=RegExp(Fe+"(?="+Fe+")|"+Je+Ze,"g"),tt=RegExp([qe+"?"+Me+"+"+He+"(?="+[Oe,qe,"$"].join("|")+")",We+"+"+Ke+"(?="+[Oe,qe+ze,"$"].join("|")+")",qe+"?"+ze+"+"+He,qe+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Ye].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Ee+Ce+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ot={};ot[M]=ot[j]=ot[F]=ot[U]=ot[V]=ot[B]=ot[q]=ot[z]=ot[W]=!0,ot[g]=ot[k]=ot[D]=ot[b]=ot[L]=ot[w]=ot[_]=ot[x]=ot[T]=ot[I]=ot[S]=ot[N]=ot[A]=ot[R]=ot[P]=!1;var ut={};ut[g]=ut[k]=ut[D]=ut[L]=ut[b]=ut[w]=ut[M]=ut[j]=ut[F]=ut[U]=ut[V]=ut[T]=ut[I]=ut[S]=ut[N]=ut[A]=ut[R]=ut[O]=ut[B]=ut[q]=ut[z]=ut[W]=!0,ut[_]=ut[x]=ut[P]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,lt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,dt=ft||ht||Function("return this")(),pt=t&&!t.nodeType&&t,vt=pt&&e&&!e.nodeType&&e,mt=vt&&vt.exports===pt,yt=mt&&ft.process,gt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(t){}}(),kt=gt&&gt.isArrayBuffer,bt=gt&&gt.isDate,wt=gt&&gt.isMap,_t=gt&&gt.isRegExp,xt=gt&&gt.isSet,Et=gt&&gt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function It(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function At(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Rt(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function Ot(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Lt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=Ht("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Vt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Bt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,zt,n)}function qt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function zt(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:v}function Ht(e){return function(t){return null==t?i:t[e]}}function Kt(e){return function(t){return null==e?i:e[t]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Qt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,vn(e)+1).replace(oe,""):e}function Jt(e){return function(t){return e(t)}}function $t(e,t){return Pt(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Bt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Kt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+st[e]}function un(e){return nt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==u||(e[n]=u,a[i++]=n)}return a}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function dn(e){return un(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ft(e)}function pn(e){return un(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var mn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?dt:yn.defaults(dt.Object(),t,yn.pick(dt,it))).Array,r=t.Date,ue=t.Error,Ee=t.Function,Te=t.Math,Ie=t.Object,Se=t.RegExp,Ce=t.String,Ne=t.TypeError,Ae=n.prototype,Re=Ee.prototype,Oe=Ie.prototype,Pe=t["__core-js_shared__"],De=Re.toString,Le=Oe.hasOwnProperty,Me=0,je=function(){var e=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Oe.toString,Ue=De.call(Ie),Ve=dt._,Be=Se("^"+De.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=mt?t.Buffer:i,ze=t.Symbol,We=t.Uint8Array,He=qe?qe.allocUnsafe:i,Ke=cn(Ie.getPrototypeOf,Ie),Ge=Ie.create,Qe=Oe.propertyIsEnumerable,Ze=Ae.splice,Ye=ze?ze.isConcatSpreadable:i,Je=ze?ze.iterator:i,et=ze?ze.toStringTag:i,nt=function(){try{var e=ha(Ie,"defineProperty");return e({},"",{}),e}catch(t){}}(),st=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ft=r&&r.now!==dt.Date.now&&r.now,ht=t.setTimeout!==dt.setTimeout&&t.setTimeout,pt=Te.ceil,vt=Te.floor,yt=Ie.getOwnPropertySymbols,gt=qe?qe.isBuffer:i,Ft=t.isFinite,Kt=Ae.join,gn=cn(Ie.keys,Ie),kn=Te.max,bn=Te.min,wn=r.now,_n=t.parseInt,xn=Te.random,En=Ae.reverse,Tn=ha(t,"DataView"),In=ha(t,"Map"),Sn=ha(t,"Promise"),Cn=ha(t,"Set"),Nn=ha(t,"WeakMap"),An=ha(Ie,"create"),Rn=Nn&&new Nn,On={},Pn=Ua(Tn),Dn=Ua(In),Ln=Ua(Sn),Mn=Ua(Cn),jn=Ua(Nn),Fn=ze?ze.prototype:i,Un=Fn?Fn.valueOf:i,Vn=Fn?Fn.toString:i;function Bn(e){if(ru(e)&&!Ko(e)&&!(e instanceof Hn)){if(e instanceof Wn)return e;if(Le.call(e,"__wrapped__"))return Va(e)}return new Wn(e)}var qn=function(){function e(){}return function(t){if(!nu(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function zn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Qn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Jn(e,t){var n=Ko(e),r=!n&&Ho(e),i=!n&&!r&&Yo(e),a=!n&&!r&&!i&&fu(e),o=n||r||i||a,u=o?Zt(e.length,Ce):[],s=u.length;for(var c in e)!t&&!Le.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ka(c,s))||u.push(c);return u}function $n(e){var t=e.length;return t?e[Zr(0,t-1)]:i}function Xn(e,t){return Ma(Ai(e),sr(t,0,e.length))}function er(e){return Ma(Ai(e))}function tr(e,t,n){(n!==i&&!qo(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function nr(e,t,n){var r=e[t];Le.call(e,t)&&qo(r,n)&&(n!==i||t in e)||or(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(qo(e[n][0],t))return n;return-1}function ir(e,t,n,r){return dr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&Ri(t,Pu(t),e)}function or(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var r=-1,a=t.length,o=n(a),u=null==e;++r<a;)o[r]=u?i:Cu(e,t[r]);return o}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,a,o){var u,s=1&t,c=2&t,l=4&t;if(n&&(u=a?n(e,r,a,o):n(e)),u!==i)return u;if(!nu(e))return e;var f=Ko(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Ai(e,u)}else{var h=va(e),d=h==x||h==E;if(Yo(e))return Ei(e,s);if(h==S||h==g||d&&!a){if(u=c||d?{}:ya(e),!s)return c?function(e,t){return Ri(e,pa(e),t)}(e,function(e,t){return e&&Ri(t,Du(t),e)}(u,e)):function(e,t){return Ri(e,da(e),t)}(e,ar(u,e))}else{if(!ut[h])return a?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case D:return Ti(e);case b:case w:return new r(+e);case L:return function(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case j:case F:case U:case V:case B:case q:case z:case W:return Ii(e,n);case T:return new r;case I:case R:return new r(e);case N:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new r;case O:return i=e,Un?Ie(Un.call(i)):{}}var i}(e,h,s)}}o||(o=new Yn);var p=o.get(e);if(p)return p;o.set(e,u),su(e)?e.forEach((function(r){u.add(cr(r,t,n,r,e,o))})):iu(e)&&e.forEach((function(r,i){u.set(i,cr(r,t,n,i,e,o))}));var v=f?i:(l?c?aa:ia:c?Du:Pu)(e);return St(v||e,(function(r,i){v&&(r=e[i=r]),nr(u,i,cr(r,t,n,i,e,o))})),u}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ie(e);r--;){var a=n[r],o=t[a],u=e[a];if(u===i&&!(a in e)||!o(u))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ne(a);return Oa((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,a=Rt,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=Pt(t,Jt(n))),r?(a=Ot,o=!1):t.length>=200&&(a=Xt,o=!1,t=new Zn(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else a(t,f,r)||s.push(l)}return s}Bn.templateSettings={escape:$,evaluate:X,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=zn.prototype,Bn.prototype.constructor=Bn,Wn.prototype=qn(zn.prototype),Wn.prototype.constructor=Wn,Hn.prototype=qn(zn.prototype),Hn.prototype.constructor=Hn,Kn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},Kn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kn.prototype.get=function(e){var t=this.__data__;if(An){var n=t[e];return n===o?i:n}return Le.call(t,e)?t[e]:i},Kn.prototype.has=function(e){var t=this.__data__;return An?t[e]!==i:Le.call(t,e)},Kn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===i?o:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},Gn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Gn.prototype.has=function(e){return rr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(In||Gn),string:new Kn}},Qn.prototype.delete=function(e){var t=la(this,e).delete(e);return this.size-=t?1:0,t},Qn.prototype.get=function(e){return la(this,e).get(e)},Qn.prototype.has=function(e){return la(this,e).has(e)},Qn.prototype.set=function(e,t){var n=la(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,o),this},Zn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!In||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Qn(r)}return n.set(e,t),this.size=n.size,this};var dr=Di(wr),pr=Di(_r,!0);function vr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],u=t(o);if(null!=u&&(s===i?u===u&&!lu(u):n(u,s)))var s=u,c=o}return c}function yr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ga),i||(i=[]);++a<o;){var u=e[a];t>0&&n(u)?t>1?gr(u,t-1,n,r,i):Dt(i,u):r||(i[i.length]=u)}return i}var kr=Li(),br=Li(!0);function wr(e,t){return e&&kr(e,t,Pu)}function _r(e,t){return e&&br(e,t,Pu)}function xr(e,t){return At(t,(function(t){return Xo(e[t])}))}function Er(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Fa(t[n++])];return n&&n==r?e:i}function Tr(e,t,n){var r=t(e);return Ko(e)?r:Dt(r,n(e))}function Ir(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Ie(e)?function(e){var t=Le.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(o){}var a=Fe.call(e);r&&(t?e[et]=n:delete e[et]);return a}(e):function(e){return Fe.call(e)}(e)}function Sr(e,t){return e>t}function Cr(e,t){return null!=e&&Le.call(e,t)}function Nr(e,t){return null!=e&&t in Ie(e)}function Ar(e,t,r){for(var a=r?Ot:Rt,o=e[0].length,u=e.length,s=u,c=n(u),l=1/0,f=[];s--;){var h=e[s];s&&t&&(h=Pt(h,Jt(t))),l=bn(h.length,l),c[s]=!r&&(t||o>=120&&h.length>=120)?new Zn(s&&h):i}h=e[0];var d=-1,p=c[0];e:for(;++d<o&&f.length<l;){var v=h[d],m=t?t(v):v;if(v=r||0!==v?v:0,!(p?Xt(p,m):a(f,m,r))){for(s=u;--s;){var y=c[s];if(!(y?Xt(y,m):a(e[s],m,r)))continue e}p&&p.push(m),f.push(v)}}return f}function Rr(e,t,n){var r=null==(e=Ca(e,t=bi(t,e)))?e:e[Fa(Ja(t))];return null==r?i:Tt(r,e,n)}function Or(e){return ru(e)&&Ir(e)==g}function Pr(e,t,n,r,a){return e===t||(null==e||null==t||!ru(e)&&!ru(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var u=Ko(e),s=Ko(t),c=u?k:va(e),l=s?k:va(t),f=(c=c==g?S:c)==S,h=(l=l==g?S:l)==S,d=c==l;if(d&&Yo(e)){if(!Yo(t))return!1;u=!0,f=!1}if(d&&!f)return o||(o=new Yn),u||fu(e)?na(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case b:case w:case I:return qo(+e,+t);case _:return e.name==t.name&&e.message==t.message;case N:case R:return e==t+"";case T:var u=sn;case A:var s=1&r;if(u||(u=fn),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=na(u(e),u(t),r,i,a,o);return o.delete(e),l;case O:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,n,r,a,o);if(!(1&n)){var p=f&&Le.call(e,"__wrapped__"),v=h&&Le.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,y=v?t.value():t;return o||(o=new Yn),a(m,y,n,r,o)}}if(!d)return!1;return o||(o=new Yn),function(e,t,n,r,a,o){var u=1&n,s=ia(e),c=s.length,l=ia(t).length;if(c!=l&&!u)return!1;var f=c;for(;f--;){var h=s[f];if(!(u?h in t:Le.call(t,h)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var v=!0;o.set(e,t),o.set(t,e);var m=u;for(;++f<c;){var y=e[h=s[f]],g=t[h];if(r)var k=u?r(g,y,h,t,e,o):r(y,g,h,e,t,o);if(!(k===i?y===g||a(y,g,n,r,o):k)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,n,r,a,o)}(e,t,n,r,Pr,a))}function Dr(e,t,n,r){var a=n.length,o=a,u=!r;if(null==e)return!o;for(e=Ie(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=n[a])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in e))return!1}else{var h=new Yn;if(r)var d=r(l,f,c,e,t,h);if(!(d===i?Pr(f,l,3,r,h):d))return!1}}return!0}function Lr(e){return!(!nu(e)||(t=e,je&&je in t))&&(Xo(e)?Be:ge).test(Ua(e));var t}function Mr(e){return"function"==typeof e?e:null==e?as:"object"==typeof e?Ko(e)?qr(e[0],e[1]):Br(e):ps(e)}function jr(e){if(!Ea(e))return gn(e);var t=[];for(var n in Ie(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!nu(e))return function(e){var t=[];if(null!=e)for(var n in Ie(e))t.push(n);return t}(e);var t=Ea(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function Vr(e,t){var r=-1,i=Qo(e)?n(e.length):[];return dr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function Br(e){var t=fa(e);return 1==t.length&&t[0][2]?Ia(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function qr(e,t){return wa(e)&&Ta(t)?Ia(Fa(e),t):function(n){var r=Cu(n,e);return r===i&&r===t?Nu(n,e):Pr(t,r,3)}}function zr(e,t,n,r,a){e!==t&&kr(t,(function(o,u){if(a||(a=new Yn),nu(o))!function(e,t,n,r,a,o,u){var s=Aa(e,n),c=Aa(t,n),l=u.get(c);if(l)return void tr(e,n,l);var f=o?o(s,c,n+"",e,t,u):i,h=f===i;if(h){var d=Ko(c),p=!d&&Yo(c),v=!d&&!p&&fu(c);f=c,d||p||v?Ko(s)?f=s:Zo(s)?f=Ai(s):p?(h=!1,f=Ei(c,!0)):v?(h=!1,f=Ii(c,!0)):f=[]:ou(c)||Ho(c)?(f=s,Ho(s)?f=ku(s):nu(s)&&!Xo(s)||(f=ya(c))):h=!1}h&&(u.set(c,f),a(f,c,r,o,u),u.delete(c));tr(e,n,f)}(e,t,u,n,zr,r,a);else{var s=r?r(Aa(e,u),o,u+"",e,t,a):i;s===i&&(s=o),tr(e,u,s)}}),Du)}function Wr(e,t){var n=e.length;if(n)return ka(t+=t<0?n:0,n)?e[t]:i}function Hr(e,t,n){t=t.length?Pt(t,(function(e){return Ko(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[as];var r=-1;t=Pt(t,Jt(ca()));var i=Vr(e,(function(e,n,i){var a=Pt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,u=n.length;for(;++r<o;){var s=Si(i[r],a[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Kr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=Er(e,o);n(u,o)&&ei(a,bi(o,e),u)}return a}function Gr(e,t,n,r){var i=r?qt:Bt,a=-1,o=t.length,u=e;for(e===t&&(t=Ai(t)),n&&(u=Pt(e,Jt(n)));++a<o;)for(var s=0,c=t[a],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==e&&Ze.call(u,s,1),Ze.call(e,s,1);return e}function Qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ka(i)?Ze.call(e,i,1):hi(e,i)}}return e}function Zr(e,t){return e+vt(xn()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Pa(Sa(e,t,as),e+"")}function $r(e){return $n(qu(e))}function Xr(e,t){var n=qu(e);return Ma(n,sr(t,0,n.length))}function ei(e,t,n,r){if(!nu(e))return e;for(var a=-1,o=(t=bi(t,e)).length,u=o-1,s=e;null!=s&&++a<o;){var c=Fa(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=u){var f=s[c];(l=r?r(f,c,s):i)===i&&(l=nu(f)?f:ka(t[a+1])?[]:{})}nr(s,c,l),s=s[c]}return e}var ti=Rn?function(e,t){return Rn.set(e,t),e}:as,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:ns(t),writable:!0})}:as;function ri(e){return Ma(qu(e))}function ii(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ai(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!lu(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return ui(e,t,as,n)}function ui(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var u=(t=n(t))!==t,s=null===t,c=lu(t),l=t===i;a<o;){var f=vt((a+o)/2),h=n(e[f]),d=h!==i,p=null===h,v=h===h,m=lu(h);if(u)var y=r||v;else y=l?v&&(r||d):s?v&&d&&(r||!p):c?v&&d&&!p&&(r||!m):!p&&!m&&(r?h<=t:h<t);y?a=f+1:o=f}return bn(o,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!qo(u,s)){var s=u;a[i++]=0===o?0:o}}return a}function ci(e){return"number"==typeof e?e:lu(e)?v:+e}function li(e){if("string"==typeof e)return e;if(Ko(e))return Pt(e,li)+"";if(lu(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Rt,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=Ot;else if(a>=200){var c=t?null:Yi(e);if(c)return fn(c);o=!1,i=Xt,s=new Zn}else s=t?[]:u;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function hi(e,t){return null==(e=Ca(e,t=bi(t,e)))||delete e[Fa(Ja(t))]}function di(e,t,n,r){return ei(e,t,n(Er(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function vi(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function mi(e,t,r){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var u=e[a],s=-1;++s<i;)s!=a&&(o[a]=hr(o[a]||u,e[s],t,r));return fi(gr(o,1),t,r)}function yi(e,t,n){for(var r=-1,a=e.length,o=t.length,u={};++r<a;){var s=r<o?t[r]:i;n(u,e[r],s)}return u}function gi(e){return Zo(e)?e:[]}function ki(e){return"function"==typeof e?e:as}function bi(e,t){return Ko(e)?e:wa(e,t)?[e]:ja(bu(e))}var wi=Jr;function _i(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var xi=st||function(e){return dt.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Ti(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ii(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=lu(e),u=t!==i,s=null===t,c=t===t,l=lu(t);if(!s&&!l&&!o&&e>t||o&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!a)return 1;if(!r&&!o&&!l&&e<t||l&&n&&a&&!r&&!o||s&&n&&a||!u&&a||!c)return-1}return 0}function Ci(e,t,r,i){for(var a=-1,o=e.length,u=r.length,s=-1,c=t.length,l=kn(o-u,0),f=n(c+l),h=!i;++s<c;)f[s]=t[s];for(;++a<u;)(h||a<o)&&(f[r[a]]=e[a]);for(;l--;)f[s++]=e[a++];return f}function Ni(e,t,r,i){for(var a=-1,o=e.length,u=-1,s=r.length,c=-1,l=t.length,f=kn(o-s,0),h=n(f+l),d=!i;++a<f;)h[a]=e[a];for(var p=a;++c<l;)h[p+c]=t[c];for(;++u<s;)(d||a<o)&&(h[p+r[u]]=e[a++]);return h}function Ai(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ri(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],c=r?r(n[s],e[s],s,n,e):i;c===i&&(c=e[s]),a?or(n,s,c):nr(n,s,c)}return n}function Oi(e,t){return function(n,r){var i=Ko(n)?It:ir,a=t?t():{};return i(n,e,ca(r,2),a)}}function Pi(e){return Jr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,u=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,u&&ba(n[0],n[1],u)&&(o=a<3?i:o,a=1),t=Ie(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!Qo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ie(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Li(e){return function(t,n,r){for(var i=-1,a=Ie(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}function Mi(e){return function(t){var n=un(t=bu(t))?pn(t):i,r=n?n[0]:t.charAt(0),a=n?_i(n,1).join(""):t.slice(1);return r[e]()+a}}function ji(e){return function(t){return Lt(Xu(Hu(t).replace($e,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=qn(e.prototype),r=e.apply(n,t);return nu(r)?r:n}}function Ui(e){return function(t,n,r){var a=Ie(t);if(!Qo(t)){var o=ca(n,3);t=Pu(t),n=function(e){return o(a[e],e,a)}}var u=e(t,n,r);return u>-1?a[o?t[u]:u]:i}}function Vi(e){return ra((function(t){var n=t.length,r=n,o=Wn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Ne(a);if(o&&!s&&"wrapper"==ua(u))var s=new Wn([],!0)}for(r=s?r:n;++r<n;){var c=ua(u=t[r]),l="wrapper"==c?oa(u):i;s=l&&_a(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[ua(l[0])].apply(s,l[3]):1==u.length&&_a(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Ko(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Bi(e,t,r,a,o,u,s,c,l,h){var d=t&f,p=1&t,v=2&t,m=24&t,y=512&t,g=v?i:Fi(e);return function i(){for(var f=arguments.length,k=n(f),b=f;b--;)k[b]=arguments[b];if(m)var w=sa(i),_=nn(k,w);if(a&&(k=Ci(k,a,o,m)),u&&(k=Ni(k,u,s,m)),f-=_,m&&f<h){var x=ln(k,w);return Qi(e,t,Bi,i.placeholder,r,k,x,c,l,h-f)}var E=p?r:this,T=v?E[e]:e;return f=k.length,c?k=Na(k,c):y&&f>1&&k.reverse(),d&&l<f&&(k.length=l),this&&this!==dt&&this instanceof i&&(T=g||Fi(T)),T.apply(E,k)}}function qi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function zi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ci(n),r=ci(r)),a=e(n,r)}return a}}function Wi(e){return ra((function(t){return t=Pt(t,Jt(ca())),Jr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Hi(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,pt(e/dn(t)));return un(t)?_i(pn(r),0,e).join(""):r.slice(0,e)}function Ki(e){return function(t,r,a){return a&&"number"!=typeof a&&ba(t,r,a)&&(r=a=i),t=vu(t),r===i?(r=t,t=0):r=vu(r),function(e,t,r,i){for(var a=-1,o=kn(pt((t-e)/(r||1)),0),u=n(o);o--;)u[i?o:++a]=e,e+=r;return u}(t,r,a=a===i?t<r?1:-1:vu(a),e)}}function Gi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gu(t),n=gu(n)),e(t,n)}}function Qi(e,t,n,r,a,o,u,s,f,h){var d=8&t;t|=d?c:l,4&(t&=~(d?l:c))||(t&=-4);var p=[e,t,a,d?o:i,d?u:i,d?i:o,d?i:u,s,f,h],v=n.apply(i,p);return _a(e)&&Ra(v,p),v.placeholder=r,Da(v,e,t)}function Zi(e){var t=Te[e];return function(e,n){if(e=gu(e),(n=null==n?0:bn(mu(n),292))&&Ft(e)){var r=(bu(e)+"e").split("e");return+((r=(bu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=Cn&&1/fn(new Cn([,-0]))[1]==d?function(e){return new Cn(e)}:ls;function Ji(e){return function(t){var n=va(t);return n==T?sn(t):n==A?hn(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $i(e,t,r,o,d,p,v,m){var y=2&t;if(!y&&"function"!=typeof e)throw new Ne(a);var g=o?o.length:0;if(g||(t&=-97,o=d=i),v=v===i?v:kn(mu(v),0),m=m===i?m:mu(m),g-=d?d.length:0,t&l){var k=o,b=d;o=d=i}var w=y?i:oa(e),_=[e,t,r,o,d,k,b,p,v,m];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==f&&8==n||r==f&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Ci(c,s,t[4]):s,e[4]=c?ln(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Ni(c,s,t[6]):s,e[6]=c?ln(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&f&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,w),e=_[0],t=_[1],r=_[2],o=_[3],d=_[4],!(m=_[9]=_[9]===i?y?0:e.length:kn(_[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==s?function(e,t,r){var a=Fi(e);return function o(){for(var u=arguments.length,s=n(u),c=u,l=sa(o);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:ln(s,l);return(u-=f.length)<r?Qi(e,t,Bi,o.placeholder,i,s,f,i,i,r-u):Tt(this&&this!==dt&&this instanceof o?a:e,this,s)}}(e,t,m):t!=c&&33!=t||d.length?Bi.apply(i,_):function(e,t,r,i){var a=1&t,o=Fi(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=i.length,f=n(l+s),h=this&&this!==dt&&this instanceof t?o:e;++c<l;)f[c]=i[c];for(;s--;)f[c++]=arguments[++u];return Tt(h,a?r:this,f)}}(e,t,r,o);else var x=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Da((w?ti:Ra)(x,_),e,t)}function Xi(e,t,n,r){return e===i||qo(e,Oe[n])&&!Le.call(r,n)?t:e}function ea(e,t,n,r,a,o){return nu(e)&&nu(t)&&(o.set(t,e),zr(e,t,i,ea,o),o.delete(t)),e}function ta(e){return ou(e)?i:e}function na(e,t,n,r,a,o){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new Zn:i;for(o.set(e,t),o.set(t,e);++h<s;){var v=e[h],m=t[h];if(r)var y=u?r(m,v,h,t,e,o):r(v,m,h,e,t,o);if(y!==i){if(y)continue;d=!1;break}if(p){if(!jt(t,(function(e,t){if(!Xt(p,t)&&(v===e||a(v,e,n,r,o)))return p.push(t)}))){d=!1;break}}else if(v!==m&&!a(v,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ra(e){return Pa(Sa(e,i,Ka),e+"")}function ia(e){return Tr(e,Pu,da)}function aa(e){return Tr(e,Du,pa)}var oa=Rn?function(e){return Rn.get(e)}:ls;function ua(e){for(var t=e.name+"",n=On[t],r=Le.call(On,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function sa(e){return(Le.call(Bn,"placeholder")?Bn:e).placeholder}function ca(){var e=Bn.iteratee||os;return e=e===os?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function la(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fa(e){for(var t=Pu(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ta(i)]}return t}function ha(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Lr(n)?n:i}var da=yt?function(e){return null==e?[]:(e=Ie(e),At(yt(e),(function(t){return Qe.call(e,t)})))}:ys,pa=yt?function(e){for(var t=[];e;)Dt(t,da(e)),e=Ke(e);return t}:ys,va=Ir;function ma(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,a=!1;++r<i;){var o=Fa(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&tu(i)&&ka(o,i)&&(Ko(e)||Ho(e))}function ya(e){return"function"!=typeof e.constructor||Ea(e)?{}:qn(Ke(e))}function ga(e){return Ko(e)||Ho(e)||!!(Ye&&e&&e[Ye])}function ka(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function ba(e,t,n){if(!nu(n))return!1;var r=typeof t;return!!("number"==r?Qo(n)&&ka(t,n.length):"string"==r&&t in n)&&qo(n[t],e)}function wa(e,t){if(Ko(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!lu(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ie(t))}function _a(e){var t=ua(e),n=Bn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(Tn&&va(new Tn(new ArrayBuffer(1)))!=L||In&&va(new In)!=T||Sn&&va(Sn.resolve())!=C||Cn&&va(new Cn)!=A||Nn&&va(new Nn)!=P)&&(va=function(e){var t=Ir(e),n=t==S?e.constructor:i,r=n?Ua(n):"";if(r)switch(r){case Pn:return L;case Dn:return T;case Ln:return C;case Mn:return A;case jn:return P}return t});var xa=Pe?Xo:gs;function Ea(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Ta(e){return e===e&&!nu(e)}function Ia(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ie(n)))}}function Sa(e,t,r){return t=kn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=kn(i.length-t,0),u=n(o);++a<o;)u[a]=i[t+a];a=-1;for(var s=n(t+1);++a<t;)s[a]=i[a];return s[t]=r(u),Tt(e,this,s)}}function Ca(e,t){return t.length<2?e:Er(e,ii(t,0,-1))}function Na(e,t){for(var n=e.length,r=bn(t.length,n),a=Ai(e);r--;){var o=t[r];e[r]=ka(o,n)?a[o]:i}return e}function Aa(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ra=La(ti),Oa=ht||function(e,t){return dt.setTimeout(e,t)},Pa=La(ni);function Da(e,t,n){var r=t+"";return Pa(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return St(y,(function(n){var r="_."+n[0];t&n[1]&&!Rt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function La(e){var t=0,n=0;return function(){var r=wn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ma(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Zr(n,a),u=e[o];e[o]=e[n],e[n]=u}return e.length=t,e}var ja=function(e){var t=Mo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function Fa(e){if("string"==typeof e||lu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ua(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Va(e){if(e instanceof Hn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Ai(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ba=Jr((function(e,t){return Zo(e)?hr(e,gr(t,1,Zo,!0)):[]})),qa=Jr((function(e,t){var n=Ja(t);return Zo(n)&&(n=i),Zo(e)?hr(e,gr(t,1,Zo,!0),ca(n,2)):[]})),za=Jr((function(e,t){var n=Ja(t);return Zo(n)&&(n=i),Zo(e)?hr(e,gr(t,1,Zo,!0),i,n):[]}));function Wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:mu(n);return i<0&&(i=kn(r+i,0)),Vt(e,ca(t,3),i)}function Ha(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=mu(n),a=n<0?kn(r+a,0):bn(a,r-1)),Vt(e,ca(t,3),a,!0)}function Ka(e){return(null==e?0:e.length)?gr(e,1):[]}function Ga(e){return e&&e.length?e[0]:i}var Qa=Jr((function(e){var t=Pt(e,gi);return t.length&&t[0]===e[0]?Ar(t):[]})),Za=Jr((function(e){var t=Ja(e),n=Pt(e,gi);return t===Ja(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ar(n,ca(t,2)):[]})),Ya=Jr((function(e){var t=Ja(e),n=Pt(e,gi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ar(n,i,t):[]}));function Ja(e){var t=null==e?0:e.length;return t?e[t-1]:i}var $a=Jr(Xa);function Xa(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var eo=ra((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Qr(e,Pt(t,(function(e){return ka(e,n)?+e:e})).sort(Si)),r}));function to(e){return null==e?e:En.call(e)}var no=Jr((function(e){return fi(gr(e,1,Zo,!0))})),ro=Jr((function(e){var t=Ja(e);return Zo(t)&&(t=i),fi(gr(e,1,Zo,!0),ca(t,2))})),io=Jr((function(e){var t=Ja(e);return t="function"==typeof t?t:i,fi(gr(e,1,Zo,!0),i,t)}));function ao(e){if(!e||!e.length)return[];var t=0;return e=At(e,(function(e){if(Zo(e))return t=kn(e.length,t),!0})),Zt(t,(function(t){return Pt(e,Ht(t))}))}function oo(e,t){if(!e||!e.length)return[];var n=ao(e);return null==t?n:Pt(n,(function(e){return Tt(t,i,e)}))}var uo=Jr((function(e,t){return Zo(e)?hr(e,t):[]})),so=Jr((function(e){return mi(At(e,Zo))})),co=Jr((function(e){var t=Ja(e);return Zo(t)&&(t=i),mi(At(e,Zo),ca(t,2))})),lo=Jr((function(e){var t=Ja(e);return t="function"==typeof t?t:i,mi(At(e,Zo),i,t)})),fo=Jr(ao);var ho=Jr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oo(e,n)}));function po(e){var t=Bn(e);return t.__chain__=!0,t}function vo(e,t){return t(e)}var mo=ra((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Hn&&ka(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:vo,args:[a],thisArg:i}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var yo=Oi((function(e,t,n){Le.call(e,n)?++e[n]:or(e,n,1)}));var go=Ui(Wa),ko=Ui(Ha);function bo(e,t){return(Ko(e)?St:dr)(e,ca(t,3))}function wo(e,t){return(Ko(e)?Ct:pr)(e,ca(t,3))}var _o=Oi((function(e,t,n){Le.call(e,n)?e[n].push(t):or(e,n,[t])}));var xo=Jr((function(e,t,r){var i=-1,a="function"==typeof t,o=Qo(e)?n(e.length):[];return dr(e,(function(e){o[++i]=a?Tt(t,e,r):Rr(e,t,r)})),o})),Eo=Oi((function(e,t,n){or(e,n,t)}));function To(e,t){return(Ko(e)?Pt:Vr)(e,ca(t,3))}var Io=Oi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var So=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ba(e,t[0],t[1])?t=[]:n>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,gr(t,1),[])})),Co=ft||function(){return dt.Date.now()};function No(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,$i(e,f,i,i,i,i,t)}function Ao(e,t){var n;if("function"!=typeof t)throw new Ne(a);return e=mu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ro=Jr((function(e,t,n){var r=1;if(n.length){var i=ln(n,sa(Ro));r|=c}return $i(e,r,t,n,i)})),Oo=Jr((function(e,t,n){var r=3;if(n.length){var i=ln(n,sa(Oo));r|=c}return $i(t,r,e,n,i)}));function Po(e,t,n){var r,o,u,s,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ne(a);function v(t){var n=r,a=o;return r=o=i,f=t,s=e.apply(a,n)}function m(e){return f=e,c=Oa(g,t),h?v(e):s}function y(e){var n=e-l;return l===i||n>=t||n<0||d&&e-f>=u}function g(){var e=Co();if(y(e))return k(e);c=Oa(g,function(e){var n=t-(e-l);return d?bn(n,u-(e-f)):n}(e))}function k(e){return c=i,p&&r?v(e):(r=o=i,s)}function b(){var e=Co(),n=y(e);if(r=arguments,o=this,l=e,n){if(c===i)return m(l);if(d)return xi(c),c=Oa(g,t),v(l)}return c===i&&(c=Oa(g,t)),s}return t=gu(t)||0,nu(n)&&(h=!!n.leading,u=(d="maxWait"in n)?kn(gu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&xi(c),f=0,r=l=o=c=i},b.flush=function(){return c===i?s:k(Co())},b}var Do=Jr((function(e,t){return fr(e,1,t)})),Lo=Jr((function(e,t,n){return fr(e,gu(t)||0,n)}));function Mo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ne(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Mo.Cache||Qn),n}function jo(e){if("function"!=typeof e)throw new Ne(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Mo.Cache=Qn;var Fo=wi((function(e,t){var n=(t=1==t.length&&Ko(t[0])?Pt(t[0],Jt(ca())):Pt(gr(t,1),Jt(ca()))).length;return Jr((function(r){for(var i=-1,a=bn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Tt(e,this,r)}))})),Uo=Jr((function(e,t){var n=ln(t,sa(Uo));return $i(e,c,i,t,n)})),Vo=Jr((function(e,t){var n=ln(t,sa(Vo));return $i(e,l,i,t,n)})),Bo=ra((function(e,t){return $i(e,h,i,i,i,t)}));function qo(e,t){return e===t||e!==e&&t!==t}var zo=Gi(Sr),Wo=Gi((function(e,t){return e>=t})),Ho=Or(function(){return arguments}())?Or:function(e){return ru(e)&&Le.call(e,"callee")&&!Qe.call(e,"callee")},Ko=n.isArray,Go=kt?Jt(kt):function(e){return ru(e)&&Ir(e)==D};function Qo(e){return null!=e&&tu(e.length)&&!Xo(e)}function Zo(e){return ru(e)&&Qo(e)}var Yo=gt||gs,Jo=bt?Jt(bt):function(e){return ru(e)&&Ir(e)==w};function $o(e){if(!ru(e))return!1;var t=Ir(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ou(e)}function Xo(e){if(!nu(e))return!1;var t=Ir(e);return t==x||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eu(e){return"number"==typeof e&&e==mu(e)}function tu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function nu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ru(e){return null!=e&&"object"==typeof e}var iu=wt?Jt(wt):function(e){return ru(e)&&va(e)==T};function au(e){return"number"==typeof e||ru(e)&&Ir(e)==I}function ou(e){if(!ru(e)||Ir(e)!=S)return!1;var t=Ke(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Ue}var uu=_t?Jt(_t):function(e){return ru(e)&&Ir(e)==N};var su=xt?Jt(xt):function(e){return ru(e)&&va(e)==A};function cu(e){return"string"==typeof e||!Ko(e)&&ru(e)&&Ir(e)==R}function lu(e){return"symbol"==typeof e||ru(e)&&Ir(e)==O}var fu=Et?Jt(Et):function(e){return ru(e)&&tu(e.length)&&!!ot[Ir(e)]};var hu=Gi(Ur),du=Gi((function(e,t){return e<=t}));function pu(e){if(!e)return[];if(Qo(e))return cu(e)?pn(e):Ai(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=va(e);return(t==T?sn:t==A?fn:qu)(e)}function vu(e){return e?(e=gu(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function mu(e){var t=vu(e),n=t%1;return t===t?n?t-n:t:0}function yu(e){return e?sr(mu(e),0,m):0}function gu(e){if("number"==typeof e)return e;if(lu(e))return v;if(nu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=ye.test(e);return n||ke.test(e)?lt(e.slice(2),n?2:8):me.test(e)?v:+e}function ku(e){return Ri(e,Du(e))}function bu(e){return null==e?"":li(e)}var wu=Pi((function(e,t){if(Ea(t)||Qo(t))Ri(t,Pu(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),_u=Pi((function(e,t){Ri(t,Du(t),e)})),xu=Pi((function(e,t,n,r){Ri(t,Du(t),e,r)})),Eu=Pi((function(e,t,n,r){Ri(t,Pu(t),e,r)})),Tu=ra(ur);var Iu=Jr((function(e,t){e=Ie(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ba(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],u=Du(o),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===i||qo(f,Oe[l])&&!Le.call(e,l))&&(e[l]=o[l])}return e})),Su=Jr((function(e){return e.push(i,ea),Tt(Mu,i,e)}));function Cu(e,t,n){var r=null==e?i:Er(e,t);return r===i?n:r}function Nu(e,t){return null!=e&&ma(e,t,Nr)}var Au=qi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),ns(as)),Ru=qi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),ca),Ou=Jr(Rr);function Pu(e){return Qo(e)?Jn(e):jr(e)}function Du(e){return Qo(e)?Jn(e,!0):Fr(e)}var Lu=Pi((function(e,t,n){zr(e,t,n)})),Mu=Pi((function(e,t,n,r){zr(e,t,n,r)})),ju=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=Pt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Ri(e,aa(e),n),r&&(n=cr(n,7,ta));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Fu=ra((function(e,t){return null==e?{}:function(e,t){return Kr(e,t,(function(t,n){return Nu(e,n)}))}(e,t)}));function Uu(e,t){if(null==e)return{};var n=Pt(aa(e),(function(e){return[e]}));return t=ca(t),Kr(e,n,(function(e,n){return t(e,n[0])}))}var Vu=Ji(Pu),Bu=Ji(Du);function qu(e){return null==e?[]:$t(e,Pu(e))}var zu=ji((function(e,t,n){return t=t.toLowerCase(),e+(n?Wu(t):t)}));function Wu(e){return $u(bu(e).toLowerCase())}function Hu(e){return(e=bu(e))&&e.replace(we,rn).replace(Xe,"")}var Ku=ji((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Gu=ji((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Qu=Mi("toLowerCase");var Zu=ji((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Yu=ji((function(e,t,n){return e+(n?" ":"")+$u(t)}));var Ju=ji((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),$u=Mi("toUpperCase");function Xu(e,t,n){return e=bu(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var es=Jr((function(e,t){try{return Tt(e,i,t)}catch(n){return $o(n)?n:new ue(n)}})),ts=ra((function(e,t){return St(t,(function(t){t=Fa(t),or(e,t,Ro(e[t],e))})),e}));function ns(e){return function(){return e}}var rs=Vi(),is=Vi(!0);function as(e){return e}function os(e){return Mr("function"==typeof e?e:cr(e,1))}var us=Jr((function(e,t){return function(n){return Rr(n,e,t)}})),ss=Jr((function(e,t){return function(n){return Rr(e,n,t)}}));function cs(e,t,n){var r=Pu(t),i=xr(t,r);null!=n||nu(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=xr(t,Pu(t)));var a=!(nu(n)&&"chain"in n)||!!n.chain,o=Xo(e);return St(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=Ai(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function ls(){}var fs=Wi(Pt),hs=Wi(Nt),ds=Wi(jt);function ps(e){return wa(e)?Ht(Fa(e)):function(e){return function(t){return Er(t,e)}}(e)}var vs=Ki(),ms=Ki(!0);function ys(){return[]}function gs(){return!1}var ks=zi((function(e,t){return e+t}),0),bs=Zi("ceil"),ws=zi((function(e,t){return e/t}),1),_s=Zi("floor");var xs=zi((function(e,t){return e*t}),1),Es=Zi("round"),Ts=zi((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Ne(a);return e=mu(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=No,Bn.assign=wu,Bn.assignIn=_u,Bn.assignInWith=xu,Bn.assignWith=Eu,Bn.at=Tu,Bn.before=Ao,Bn.bind=Ro,Bn.bindAll=ts,Bn.bindKey=Oo,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ko(e)?e:[e]},Bn.chain=po,Bn.chunk=function(e,t,r){t=(r?ba(e,t,r):t===i)?1:kn(mu(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,u=0,s=n(pt(a/t));o<a;)s[u++]=ii(e,o,o+=t);return s},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt(Ko(r)?Ai(r):[r],gr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=ca();return e=t?Pt(e,(function(e){if("function"!=typeof e[1])throw new Ne(a);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Tt(i[0],this,n))return Tt(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Pu(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Bn.constant=ns,Bn.countBy=yo,Bn.create=function(e,t){var n=qn(e);return null==t?n:ar(n,t)},Bn.curry=function e(t,n,r){var a=$i(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Bn.curryRight=function e(t,n,r){var a=$i(t,s,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Bn.debounce=Po,Bn.defaults=Iu,Bn.defaultsDeep=Su,Bn.defer=Do,Bn.delay=Lo,Bn.difference=Ba,Bn.differenceBy=qa,Bn.differenceWith=za,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:mu(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:mu(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0):[]},Bn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ba(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=mu(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:mu(r))<0&&(r+=a),r=n>r?0:yu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Ko(e)?At:yr)(e,ca(t,3))},Bn.flatMap=function(e,t){return gr(To(e,t),1)},Bn.flatMapDeep=function(e,t){return gr(To(e,t),d)},Bn.flatMapDepth=function(e,t,n){return n=n===i?1:mu(n),gr(To(e,t),n)},Bn.flatten=Ka,Bn.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,d):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===i?1:mu(t)):[]},Bn.flip=function(e){return $i(e,512)},Bn.flow=rs,Bn.flowRight=is,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:xr(e,Pu(e))},Bn.functionsIn=function(e){return null==e?[]:xr(e,Du(e))},Bn.groupBy=_o,Bn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Bn.intersection=Qa,Bn.intersectionBy=Za,Bn.intersectionWith=Ya,Bn.invert=Au,Bn.invertBy=Ru,Bn.invokeMap=xo,Bn.iteratee=os,Bn.keyBy=Eo,Bn.keys=Pu,Bn.keysIn=Du,Bn.map=To,Bn.mapKeys=function(e,t){var n={};return t=ca(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=ca(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(cr(e,1))},Bn.matchesProperty=function(e,t){return qr(e,cr(t,1))},Bn.memoize=Mo,Bn.merge=Lu,Bn.mergeWith=Mu,Bn.method=us,Bn.methodOf=ss,Bn.mixin=cs,Bn.negate=jo,Bn.nthArg=function(e){return e=mu(e),Jr((function(t){return Wr(t,e)}))},Bn.omit=ju,Bn.omitBy=function(e,t){return Uu(e,jo(ca(t)))},Bn.once=function(e){return Ao(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Ko(t)||(t=null==t?[]:[t]),Ko(n=r?i:n)||(n=null==n?[]:[n]),Hr(e,t,n))},Bn.over=fs,Bn.overArgs=Fo,Bn.overEvery=hs,Bn.overSome=ds,Bn.partial=Uo,Bn.partialRight=Vo,Bn.partition=Io,Bn.pick=Fu,Bn.pickBy=Uu,Bn.property=ps,Bn.propertyOf=function(e){return function(t){return null==e?i:Er(e,t)}},Bn.pull=$a,Bn.pullAll=Xa,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,ca(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,i,n):e},Bn.pullAt=eo,Bn.range=vs,Bn.rangeRight=ms,Bn.rearg=Bo,Bn.reject=function(e,t){return(Ko(e)?At:yr)(e,jo(ca(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ca(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Qr(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Ne(a);return Jr(e,t=t===i?t:mu(t))},Bn.reverse=to,Bn.sampleSize=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:mu(t),(Ko(e)?Xn:Xr)(e,t)},Bn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Bn.shuffle=function(e){return(Ko(e)?er:ri)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ba(e,t,n)?(t=0,n=r):(t=null==t?0:mu(t),n=n===i?r:mu(n)),ii(e,t,n)):[]},Bn.sortBy=So,Bn.sortedUniq=function(e){return e&&e.length?si(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?si(e,ca(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&ba(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=bu(e))&&("string"==typeof t||null!=t&&!uu(t))&&!(t=li(t))&&un(e)?_i(pn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Ne(a);return t=null==t?0:kn(mu(t),0),Jr((function(n){var r=n[t],i=_i(n,0,t);return r&&Dt(i,r),Tt(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:mu(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:mu(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?pi(e,ca(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ne(a);return nu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Po(e,t,{leading:r,maxWait:t,trailing:i})},Bn.thru=vo,Bn.toArray=pu,Bn.toPairs=Vu,Bn.toPairsIn=Bu,Bn.toPath=function(e){return Ko(e)?Pt(e,Fa):lu(e)?[e]:Ai(ja(bu(e)))},Bn.toPlainObject=ku,Bn.transform=function(e,t,n){var r=Ko(e),i=r||Yo(e)||fu(e);if(t=ca(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:nu(e)&&Xo(a)?qn(Ke(e)):{}}return(i?St:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return No(e,1)},Bn.union=no,Bn.unionBy=ro,Bn.unionWith=io,Bn.uniq=function(e){return e&&e.length?fi(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?fi(e,ca(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},Bn.unset=function(e,t){return null==e||hi(e,t)},Bn.unzip=ao,Bn.unzipWith=oo,Bn.update=function(e,t,n){return null==e?e:di(e,t,ki(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,ki(n),r)},Bn.values=qu,Bn.valuesIn=function(e){return null==e?[]:$t(e,Du(e))},Bn.without=uo,Bn.words=Xu,Bn.wrap=function(e,t){return Uo(ki(t),e)},Bn.xor=so,Bn.xorBy=co,Bn.xorWith=lo,Bn.zip=fo,Bn.zipObject=function(e,t){return yi(e||[],t||[],nr)},Bn.zipObjectDeep=function(e,t){return yi(e||[],t||[],ei)},Bn.zipWith=ho,Bn.entries=Vu,Bn.entriesIn=Bu,Bn.extend=_u,Bn.extendWith=xu,cs(Bn,Bn),Bn.add=ks,Bn.attempt=es,Bn.camelCase=zu,Bn.capitalize=Wu,Bn.ceil=bs,Bn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=gu(n))===n?n:0),t!==i&&(t=(t=gu(t))===t?t:0),sr(gu(e),t,n)},Bn.clone=function(e){return cr(e,4)},Bn.cloneDeep=function(e){return cr(e,5)},Bn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Bn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Bn.conformsTo=function(e,t){return null==t||lr(e,t,Pu(t))},Bn.deburr=Hu,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=ws,Bn.endsWith=function(e,t,n){e=bu(e),t=li(t);var r=e.length,a=n=n===i?r:sr(mu(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Bn.eq=qo,Bn.escape=function(e){return(e=bu(e))&&J.test(e)?e.replace(Z,an):e},Bn.escapeRegExp=function(e){return(e=bu(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},Bn.every=function(e,t,n){var r=Ko(e)?Nt:vr;return n&&ba(e,t,n)&&(t=i),r(e,ca(t,3))},Bn.find=go,Bn.findIndex=Wa,Bn.findKey=function(e,t){return Ut(e,ca(t,3),wr)},Bn.findLast=ko,Bn.findLastIndex=Ha,Bn.findLastKey=function(e,t){return Ut(e,ca(t,3),_r)},Bn.floor=_s,Bn.forEach=bo,Bn.forEachRight=wo,Bn.forIn=function(e,t){return null==e?e:kr(e,ca(t,3),Du)},Bn.forInRight=function(e,t){return null==e?e:br(e,ca(t,3),Du)},Bn.forOwn=function(e,t){return e&&wr(e,ca(t,3))},Bn.forOwnRight=function(e,t){return e&&_r(e,ca(t,3))},Bn.get=Cu,Bn.gt=zo,Bn.gte=Wo,Bn.has=function(e,t){return null!=e&&ma(e,t,Cr)},Bn.hasIn=Nu,Bn.head=Ga,Bn.identity=as,Bn.includes=function(e,t,n,r){e=Qo(e)?e:qu(e),n=n&&!r?mu(n):0;var i=e.length;return n<0&&(n=kn(i+n,0)),cu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Bt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:mu(n);return i<0&&(i=kn(r+i,0)),Bt(e,t,i)},Bn.inRange=function(e,t,n){return t=vu(t),n===i?(n=t,t=0):n=vu(n),function(e,t,n){return e>=bn(t,n)&&e<kn(t,n)}(e=gu(e),t,n)},Bn.invoke=Ou,Bn.isArguments=Ho,Bn.isArray=Ko,Bn.isArrayBuffer=Go,Bn.isArrayLike=Qo,Bn.isArrayLikeObject=Zo,Bn.isBoolean=function(e){return!0===e||!1===e||ru(e)&&Ir(e)==b},Bn.isBuffer=Yo,Bn.isDate=Jo,Bn.isElement=function(e){return ru(e)&&1===e.nodeType&&!ou(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Qo(e)&&(Ko(e)||"string"==typeof e||"function"==typeof e.splice||Yo(e)||fu(e)||Ho(e)))return!e.length;var t=va(e);if(t==T||t==A)return!e.size;if(Ea(e))return!jr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Pr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},Bn.isError=$o,Bn.isFinite=function(e){return"number"==typeof e&&Ft(e)},Bn.isFunction=Xo,Bn.isInteger=eu,Bn.isLength=tu,Bn.isMap=iu,Bn.isMatch=function(e,t){return e===t||Dr(e,t,fa(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dr(e,t,fa(t),n)},Bn.isNaN=function(e){return au(e)&&e!=+e},Bn.isNative=function(e){if(xa(e))throw new ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=au,Bn.isObject=nu,Bn.isObjectLike=ru,Bn.isPlainObject=ou,Bn.isRegExp=uu,Bn.isSafeInteger=function(e){return eu(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=su,Bn.isString=cu,Bn.isSymbol=lu,Bn.isTypedArray=fu,Bn.isUndefined=function(e){return e===i},Bn.isWeakMap=function(e){return ru(e)&&va(e)==P},Bn.isWeakSet=function(e){return ru(e)&&"[object WeakSet]"==Ir(e)},Bn.join=function(e,t){return null==e?"":Kt.call(e,t)},Bn.kebabCase=Ku,Bn.last=Ja,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=mu(n))<0?kn(r+a,0):bn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Vt(e,zt,a,!0)},Bn.lowerCase=Gu,Bn.lowerFirst=Qu,Bn.lt=hu,Bn.lte=du,Bn.max=function(e){return e&&e.length?mr(e,as,Sr):i},Bn.maxBy=function(e,t){return e&&e.length?mr(e,ca(t,2),Sr):i},Bn.mean=function(e){return Wt(e,as)},Bn.meanBy=function(e,t){return Wt(e,ca(t,2))},Bn.min=function(e){return e&&e.length?mr(e,as,Ur):i},Bn.minBy=function(e,t){return e&&e.length?mr(e,ca(t,2),Ur):i},Bn.stubArray=ys,Bn.stubFalse=gs,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=xs,Bn.nth=function(e,t){return e&&e.length?Wr(e,mu(t)):i},Bn.noConflict=function(){return dt._===this&&(dt._=Ve),this},Bn.noop=ls,Bn.now=Co,Bn.pad=function(e,t,n){e=bu(e);var r=(t=mu(t))?dn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Hi(vt(i),n)+e+Hi(pt(i),n)},Bn.padEnd=function(e,t,n){e=bu(e);var r=(t=mu(t))?dn(e):0;return t&&r<t?e+Hi(t-r,n):e},Bn.padStart=function(e,t,n){e=bu(e);var r=(t=mu(t))?dn(e):0;return t&&r<t?Hi(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(bu(e).replace(oe,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ba(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vu(e),t===i?(t=e,e=0):t=vu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=xn();return bn(e+a*(t-e+ct("1e-"+((a+"").length-1))),t)}return Zr(e,t)},Bn.reduce=function(e,t,n){var r=Ko(e)?Lt:Gt,i=arguments.length<3;return r(e,ca(t,4),n,i,dr)},Bn.reduceRight=function(e,t,n){var r=Ko(e)?Mt:Gt,i=arguments.length<3;return r(e,ca(t,4),n,i,pr)},Bn.repeat=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:mu(t),Yr(bu(e),t)},Bn.replace=function(){var e=arguments,t=bu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,a=(t=bi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Fa(t[r])];o===i&&(r=a,o=n),e=Xo(o)?o.call(e):o}return e},Bn.round=Es,Bn.runInContext=e,Bn.sample=function(e){return(Ko(e)?$n:$r)(e)},Bn.size=function(e){if(null==e)return 0;if(Qo(e))return cu(e)?dn(e):e.length;var t=va(e);return t==T||t==A?e.size:jr(e).length},Bn.snakeCase=Zu,Bn.some=function(e,t,n){var r=Ko(e)?jt:ai;return n&&ba(e,t,n)&&(t=i),r(e,ca(t,3))},Bn.sortedIndex=function(e,t){return oi(e,t)},Bn.sortedIndexBy=function(e,t,n){return ui(e,t,ca(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&qo(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return ui(e,t,ca(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(qo(e[n],t))return n}return-1},Bn.startCase=Yu,Bn.startsWith=function(e,t,n){return e=bu(e),n=null==n?0:sr(mu(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Bn.subtract=Ts,Bn.sum=function(e){return e&&e.length?Qt(e,as):0},Bn.sumBy=function(e,t){return e&&e.length?Qt(e,ca(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&ba(e,t,n)&&(t=i),e=bu(e),t=xu({},t,r,Xi);var a,o,u=xu({},t.imports,r.imports,Xi),s=Pu(u),c=$t(u,s),l=0,f=t.interpolate||_e,h="__p += '",d=Se((t.escape||_e).source+"|"+f.source+"|"+(f===ee?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(d,(function(t,n,r,i,u,s){return r||(r=i),h+=e.slice(l,s).replace(xe,on),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),u&&(o=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t})),h+="';\n";var v=Le.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new ue("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(H,""):h).replace(K,"$1").replace(G,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=es((function(){return Ee(s,p+"return "+h).apply(i,c)}));if(m.source=h,$o(m))throw m;return m},Bn.times=function(e,t){if((e=mu(e))<1||e>p)return[];var n=m,r=bn(e,m);t=ca(t),e-=m;for(var i=Zt(r,t);++n<e;)t(n);return i},Bn.toFinite=vu,Bn.toInteger=mu,Bn.toLength=yu,Bn.toLower=function(e){return bu(e).toLowerCase()},Bn.toNumber=gu,Bn.toSafeInteger=function(e){return e?sr(mu(e),-9007199254740991,p):0===e?e:0},Bn.toString=bu,Bn.toUpper=function(e){return bu(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=bu(e))&&(n||t===i))return Yt(e);if(!e||!(t=li(t)))return e;var r=pn(e),a=pn(t);return _i(r,en(r,a),tn(r,a)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=li(t)))return e;var r=pn(e);return _i(r,0,tn(r,pn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=li(t)))return e;var r=pn(e);return _i(r,en(r,pn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(nu(t)){var a="separator"in t?t.separator:a;n="length"in t?mu(t.length):n,r="omission"in t?li(t.omission):r}var o=(e=bu(e)).length;if(un(e)){var u=pn(e);o=u.length}if(n>=o)return e;var s=n-dn(r);if(s<1)return r;var c=u?_i(u,0,s).join(""):e.slice(0,s);if(a===i)return c+r;if(u&&(s+=c.length-s),uu(a)){if(e.slice(s).search(a)){var l,f=c;for(a.global||(a=Se(a.source,bu(ve.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var h=l.index;c=c.slice(0,h===i?s:h)}}else if(e.indexOf(li(a),s)!=s){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+r},Bn.unescape=function(e){return(e=bu(e))&&Y.test(e)?e.replace(Q,mn):e},Bn.uniqueId=function(e){var t=++Me;return bu(e)+t},Bn.upperCase=Ju,Bn.upperFirst=$u,Bn.each=bo,Bn.eachRight=wo,Bn.first=Ga,cs(Bn,function(){var e={};return wr(Bn,(function(t,n){Le.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),St(["drop","take"],(function(e,t){Hn.prototype[e]=function(n){n=n===i?1:kn(mu(n),0);var r=this.__filtered__&&!t?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),St(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ca(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),St(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),St(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(as)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Rr(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(jo(ca(e)))},Hn.prototype.slice=function(e,t){e=mu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=mu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(m)},wr(Hn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Bn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Bn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Hn,c=u[0],l=s||Ko(t),f=function(e){var t=a.apply(Bn,Dt([e],u));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,v=s&&!d;if(!o&&l){t=v?t:new Hn(this);var m=e.apply(t,u);return m.__actions__.push({func:vo,args:[f],thisArg:i}),new Wn(m,h)}return p&&v?e.apply(this,u):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),St(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ko(i)?i:[],e)}return this[n]((function(n){return t.apply(Ko(n)?n:[],e)}))}})),wr(Hn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Le.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Bi(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Ai(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ai(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ai(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ko(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bn(t,e+o);break;case"takeRight":e=kn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,u=a.end,s=u-o,c=r?u:o-1,l=this.__iteratees__,f=l.length,h=0,d=bn(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return vi(e,this.__actions__);var p=[];e:for(;s--&&h<d;){for(var v=-1,m=e[c+=t];++v<f;){var y=l[v],g=y.iteratee,k=y.type,b=g(m);if(2==k)m=b;else if(!b){if(1==k)continue e;break e}}p[h++]=m}return p},Bn.prototype.at=mo,Bn.prototype.chain=function(){return po(this)},Bn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Va(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:vo,args:[to],thisArg:i}),new Wn(t,this.__chain__)}return this.thru(to)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Je&&(Bn.prototype[Je]=function(){return this}),Bn}();dt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,E=60107,T=60108,I=60114,S=60109,C=60110,N=60112,A=60113,R=60120,O=60115,P=60116,D=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;_=U("react.element"),x=U("react.portal"),E=U("react.fragment"),T=U("react.strict_mode"),I=U("react.profiler"),S=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),R=U("react.suspense_list"),O=U("react.memo"),P=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function K(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Re(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,je=!1,Fe=!1;function Ue(){null===Ce&&null===Ne||(Le(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Be=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function Ze(e,t,n,r,i,a,o,u,s){We=!1,He=null,ze.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Ye(e)!==e)throw Error(o(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Tt={},It={};function St(e){if(Tt[e])return Tt[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return Tt[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=St("animationend"),Nt=St("animationiteration"),At=St("animationstart"),Rt=St("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=jt(s),i=Mt):0!==(u&=a)&&(r=jt(u),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==u&&(r=jt(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Zt=!0;function Yt(e,t,n,r){je||Le();var i=$t,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Ue()}}function Jt(e,t,n,r){Qt(Gt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Zt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Xt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(wn),xn=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Sn}var Nn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Nn),Rn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!jn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zn=null,Yn=null;function Jn(e){Nr(e,0)}function $n(e){if(J(ii(e)))return e}function Xn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Zn&&(Zn.detachEvent("onpropertychange",ar),Yn=Zn=null)}function ar(e){if("value"===e.propertyName&&$n(Yn)){var t=[];if(Qn(t,Yn,e,Ie(e)),e=Jn,je)e(t);else{je=!0;try{Pe(e,t)}finally{je=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Zn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Yn)}function sr(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==kr||kr!==$(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Er.length;Tr++)Pt.set(Er[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ze.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,u.forEach((function(t){Sr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Ie(n),o=[];e:{var u=Ot.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Ct:case Nt:case At:s=bn;break;case Rt:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=jr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!jn&&zn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Zr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Jr,Xr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Zr(e);null!==e;){if(n=e[$r])return n;e=Zr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Xr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ei=null,Ti=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,Bi=!1,qi=Ai(),zi=1e4>qi?Ai:function(){return Ai()-qi};function Wi(){switch(Ri()){case Oi:return 99;case Pi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Ti(e,t)}function Gi(e,t,n){return e=Hi(e),Ii(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Zi()}function Zi(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ii(Oi,Qi),n}finally{Bi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ci(null),Xi=null,ea=null,ta=null;function na(){ta=ea=Xi=null}function ra(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Xi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Xi)throw Error(o(308));ea=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ta(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Js(t,e.mode,n)).return=e,t}if(_a(t)||q(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(_a(n)||q(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=xa(e,r,a),s.return=e,e=s)}return u(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(_a(a))return v(e,r,a,s);if(q(a))return m(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ia=Ta(!0),Sa=Ta(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Ra=ci(Ca);function Oa(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Ra,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Ra)}function La(e){Oa(Ra.current);var t=Oa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(li(Na),li(Aa))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,Ba=!1;function qa(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(Ba){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Ua=e);qa(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!Ba)return Ha(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,Ba=!1}var Qa=[];function Za(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,$a=0,Xa=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if($a=a,Xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Oo,t=null!==eo&&null!==eo.next,$a=0,to=eo=Xa=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Xa.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Xa.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Xa.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Xa.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Xa.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Xa;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Xa,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Xa,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xa.updateQueue)?(t={lastEffect:null},Xa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Xa.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Xa.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function _o(e,t){return bo(516,4,e,t)}function xo(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function To(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,To.bind(null,t,e),n)}function So(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ro(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Xa||null!==o&&o===Xa)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,To.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Xa,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Xa.mode)&&(Xa.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ia(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Wo(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_s(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_s(t,e),null;t.memoizedState={baseLanes:0},_s(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_s(t,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Qo,Zo,Yo,Jo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Zs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Xo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Zs(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Za(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Oa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Zo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Na.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[$r]=t,r[Xr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Ar(Ir[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Xr]=r,Qo(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Ar(Ir[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=X(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?_e(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Ra.current),Oa(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Pu||0===(134217727&Bu)&&0===(134217727&qu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ku&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=ja.current,fi(ja,u?1&t|2:1&t),n):null;case 23:case 24:return xs(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Za(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return xs(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Zo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Na.current);var o,u=null;switch(n){case"input":a=X(e,a),r=X(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$u?$u=new Set([this]):$u.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(js(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))js(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Tu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function _u(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xu(e,n,t):Eu(e,n,t)}function xu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xu(e,t,n),e=e.sibling;null!==e;)xu(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Tu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Iu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?_e(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=zi(),gu(t.child,!0)),void Su(t);case 19:return void Su(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Su(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=qs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=w.ReactCurrentDispatcher,Ru=w.ReactCurrentOwner,Ou=0,Pu=null,Du=null,Lu=0,Mu=0,ju=ci(0),Fu=0,Uu=null,Vu=0,Bu=0,qu=0,zu=0,Wu=null,Hu=0,Ku=1/0;function Gu(){Ku=zi()+500}var Qu,Zu=null,Yu=!1,Ju=null,$u=null,Xu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ou)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ou)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Pu&&(qu|=t,4===Fu&&gs(e,Lu));var r=Wi();1===t?0!==(8&Ou)&&0===(48&Ou)?ks(e):(ms(e,n),0===Ou&&(Gu(),Qi())):(0===(4&Ou)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Pu?Lu:0),t=Mt,0===r)null!==n&&(n!==ji&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Si(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],Vi=Ii(Oi,Zi)):Ui.push(n),n=ji):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Ou))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ft(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Ou;Ou|=16;var a=Is();for(Pu===e&&Lu===r||(Gu(),Es(e,r));;)try{Ns();break}catch(s){Ts(e,s)}if(na(),Au.current=a,Ou=i,null!==Du?r=0:(Pu=null,Lu=0,r=Fu),0!==(Vu&qu))Es(e,0);else if(0!==r){if(2===r&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ss(e,n))),1===r)throw t=Uu,Es(e,0),gs(e,n),ms(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Os(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Os.bind(null,e),r);break}Os(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Hr(Os.bind(null,e),n);break}Os(e);break;default:throw Error(o(329))}}return ms(e,zi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ou))throw Error(o(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ss(e,t);0!==(Vu&qu)&&(n=Ss(e,t=Ft(e,t)))}else n=Ss(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ss(e,t))),1===n)throw n=Uu,Es(e,0),gs(e,t),ms(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e),ms(e,zi()),null}function bs(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function ws(e,t){var n=Ou;Ou&=-2,Ou|=8;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function _s(e,t){fi(ju,Mu),Mu|=t,Vu|=t}function xs(){Mu=ju.current,li(ju)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Za();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:xs()}n=n.return}Pu=e,Du=Ks(e.current,null),Lu=Mu=Vu=t,Fu=0,Uu=null,zu=qu=Bu=0}function Ts(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Oo,no){for(var r=Xa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if($a=0,to=eo=Xa=null,ro=!1,Ru.current=null,null===n||null===n.return){Fu=1,Uu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===$u||!$u.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Rs(n)}catch(x){t=x,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Is(){var e=Au.current;return Au.current=Oo,null===e?Oo:e}function Ss(e,t){var n=Ou;Ou|=16;var r=Is();for(Pu===e&&Lu===t||Es(e,t);;)try{Cs();break}catch(i){Ts(e,i)}if(na(),Ou=n,Au.current=r,null!==Du)throw Error(o(261));return Pu=null,Lu=0,Fu}function Cs(){for(;null!==Du;)As(Du)}function Ns(){for(;null!==Du&&!Ci();)As(Du)}function As(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Rs(e):Du=t,Ru.current=null}function Rs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Fu&&(Fu=5)}function Os(e){var t=Wi();return Ki(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Ou))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Du=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ou,Ou|=32,Ru.current=null,Br=Zt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(I){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},Zt=!1,ls=null,fs=!1,Zu=r;do{try{Ds()}catch(I){if(null===Zu)throw Error(o(330));Vs(Zu,I),Zu=Zu.nextEffect}}while(null!==Zu);ls=null,Zu=r;do{try{for(u=e;null!==Zu;){var k=Zu.flags;if(16&k&&ge(Zu.stateNode,""),128&k){var b=Zu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:_u(Zu),Zu.flags&=-3;break;case 6:_u(Zu),Zu.flags&=-3,Iu(Zu.alternate,Zu);break;case 1024:Zu.flags&=-1025;break;case 1028:Zu.flags&=-1025,Iu(Zu.alternate,Zu);break;case 4:Iu(Zu.alternate,Zu);break;case 8:Tu(u,s=Zu);var _=s.alternate;bu(s),null!==_&&bu(_)}Zu=Zu.nextEffect}}catch(I){if(null===Zu)throw Error(o(330));Vs(Zu,I),Zu=Zu.nextEffect}}while(null!==Zu);if(w=qr,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,_=Math.min(u.start,s),u=void 0===u.end?_:Math.min(u.end,s),!w.extend&&_>u&&(s=u,u=_,_=s),s=pr(k,_),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),_>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Zt=!!Br,qr=Br=null,e.current=n,Zu=r;do{try{for(k=e;null!==Zu;){var x=Zu.flags;if(36&x&&yu(k,Zu.alternate,Zu),128&x){b=void 0;var E=Zu.ref;if(null!==E){var T=Zu.stateNode;Zu.tag,b=T,"function"===typeof E?E(b):E.current=b}}Zu=Zu.nextEffect}}catch(I){if(null===Zu)throw Error(o(330));Vs(Zu,I),Zu=Zu.nextEffect}}while(null!==Zu);Zu=null,Fi(),Ou=i}else e.current=n;if(Xu)Xu=!1,es=e,ts=t;else for(Zu=r;null!==Zu;)t=Zu.nextEffect,Zu.nextEffect=null,8&Zu.flags&&((x=Zu).sibling=null,x.stateNode=null),Zu=t;if(0===(r=e.pendingLanes)&&($u=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(I){}if(ms(e,zi()),Yu)throw Yu=!1,e=Ju,Ju=null,e;return 0!==(8&Ou)||Qi(),null}function Ds(){for(;null!==Zu;){var e=Zu.alternate;fs||null===ls||(0!==(8&Zu.flags)?et(Zu,ls)&&(fs=!0):13===Zu.tag&&Cu(e,Zu)&&et(Zu,ls)&&(fs=!0));var t=Zu.flags;0!==(256&t)&&mu(e,Zu),0===(512&t)||Xu||(Xu=!0,Gi(97,(function(){return Ls(),null}))),Zu=Zu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,Fs)}return!1}function Ms(e,t){ns.push(t,e),Xu||(Xu=!0,Gi(97,(function(){return Ls(),null})))}function js(e,t){rs.push(t,e),Xu||(Xu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ou))throw Error(o(331));var t=Ou;Ou|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ou=t,Qi(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===Fu||3===Fu&&(62914560&Lu)===Lu&&500>zi()-Hu?Es(e,0):zu|=n),ms(e,t)}function qs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=Vu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ms(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new zs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case T:u=8,i|=1;break;case I:return(e=Ws(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case A:return(e=Ws(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case R:return(e=Ws(19,n,t,i)).elementType=R,e.lanes=a,e;case j:return Zs(n,i,a,t);case F:return(e=Ws(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case C:u=9;break e;case N:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function Zs(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=j,e.lanes=n,e}function Ys(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $s(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Xs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $s(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Xs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(fi(ja,1&ja.current),null!==(t=au(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return au(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),zo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return $o(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi($i,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bs,De=function(e,t,n,r,i){var a=Ou;Ou|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ou=a)&&(Gu(),Qi())}},Le=function(){0===(49&Ou)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,zi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Ou;Ou|=2;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Re,Oe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ou;if(0!==(48&n))return e(t);Ou|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ou=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1965:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2791)),i=s(n(2007)),a=n(3504),o=n(763),u=["children","onClick","replace","to","activeClassName","className","activeStyle","style","isActive"];function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=function(e){var t=e.children,n=e.onClick,i=e.replace,s=e.to,c=e.activeClassName,f=e.className,p=e.activeStyle,v=e.style,m=e.isActive,y=d(e,u),g="object"===h(s)?s.pathname:s,k=(0,a.useNavigate)(),b=(0,a.useHref)("string"===typeof s?{pathname:s}:s),w=(0,a.useMatch)(g),_=(0,a.useLocation)(),x=r.default.Children.only(t),E=!!(m?(0,o.isFunction)(m)?m(w,_):m:w);return r.default.cloneElement(x,l(l({},y),{},{className:[f,x.props.className,E?c:null].join(" ").trim(),style:E?l(l({},v),p):v,href:b,onClick:function(e){t.props.onClick&&t.props.onClick(e),n&&n(e),e.defaultPrevented||0!==e.button||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),k(s,{replace:i}))}}))};p.propTypes={children:i.default.element.isRequired,onClick:i.default.func,replace:i.default.bool,to:i.default.oneOfType([i.default.string,i.default.object]).isRequired,className:i.default.string,activeClassName:i.default.string,style:i.default.objectOf(i.default.oneOfType([i.default.string,i.default.number])),activeStyle:i.default.objectOf(i.default.oneOfType([i.default.string,i.default.number])),isActive:i.default.oneOfType([i.default.func,i.default.bool])},p.defaultProps={replace:!1,activeClassName:"active",onClick:null,className:null,style:null,activeStyle:null,isActive:null};var v=p;t.default=v},1564:function(e,t,n){"use strict";Object.defineProperty(t,"J",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n(1965))&&r.__esModule?r:{default:r}},3504:function(e,t,n){"use strict";n.r(t),n.d(t,{MemoryRouter:function(){return u.VA},Navigate:function(){return u.Fg},Outlet:function(){return u.j3},Route:function(){return u.AW},Router:function(){return u.F0},Routes:function(){return u.Z5},UNSAFE_LocationContext:function(){return u.gd},UNSAFE_NavigationContext:function(){return u.Us},UNSAFE_RouteContext:function(){return u.pW},createRoutesFromChildren:function(){return u.is},generatePath:function(){return u.Gn},matchPath:function(){return u.LX},matchRoutes:function(){return u.fp},renderMatches:function(){return u.Oe},resolvePath:function(){return u.i3},useHref:function(){return u.oQ},useInRouterContext:function(){return u.GV},useLocation:function(){return u.TH},useMatch:function(){return u.bS},useNavigate:function(){return u.s0},useNavigationType:function(){return u.ur},useOutlet:function(){return u.pC},useOutletContext:function(){return u.bx},useParams:function(){return u.UO},useResolvedPath:function(){return u.WU},useRoutes:function(){return u.V$},BrowserRouter:function(){return h},HashRouter:function(){return d},Link:function(){return v},NavLink:function(){return m},createSearchParams:function(){return k},unstable_HistoryRouter:function(){return p},useLinkClickHandler:function(){return y},useSearchParams:function(){return g}});var r=n(7762),i=n(9439),a=n(2791),o=n(390),u=n(6871);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var l=["onClick","reloadDocument","replace","state","target","to"],f=["aria-current","caseSensitive","className","end","style","to","children"];function h(e){var t=e.basename,n=e.children,r=e.window,s=(0,a.useRef)();null==s.current&&(s.current=(0,o.lX)({window:r}));var c=s.current,l=(0,a.useState)({action:c.action,location:c.location}),f=(0,i.Z)(l,2),h=f[0],d=f[1];return(0,a.useLayoutEffect)((function(){return c.listen(d)}),[c]),(0,a.createElement)(u.F0,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c})}function d(e){var t=e.basename,n=e.children,r=e.window,s=(0,a.useRef)();null==s.current&&(s.current=(0,o.q_)({window:r}));var c=s.current,l=(0,a.useState)({action:c.action,location:c.location}),f=(0,i.Z)(l,2),h=f[0],d=f[1];return(0,a.useLayoutEffect)((function(){return c.listen(d)}),[c]),(0,a.createElement)(u.F0,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c})}function p(e){var t=e.basename,n=e.children,r=e.history,o=(0,a.useState)({action:r.action,location:r.location}),s=(0,i.Z)(o,2),c=s[0],l=s[1];return(0,a.useLayoutEffect)((function(){return r.listen(l)}),[r]),(0,a.createElement)(u.F0,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:r})}var v=(0,a.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,i=e.replace,o=void 0!==i&&i,f=e.state,h=e.target,d=e.to,p=c(e,l),v=(0,u.oQ)(d),m=y(d,{replace:o,state:f,target:h});return(0,a.createElement)("a",s({},p,{href:v,onClick:function(e){n&&n(e),e.defaultPrevented||r||m(e)},ref:t,target:h}))}));var m=(0,a.forwardRef)((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.caseSensitive,o=void 0!==i&&i,l=e.className,h=void 0===l?"":l,d=e.end,p=void 0!==d&&d,m=e.style,y=e.to,g=e.children,k=c(e,f),b=(0,u.TH)(),w=(0,u.WU)(y),_=b.pathname,x=w.pathname;o||(_=_.toLowerCase(),x=x.toLowerCase());var E,T=_===x||!p&&_.startsWith(x)&&"/"===_.charAt(x.length),I=T?r:void 0;E="function"===typeof h?h({isActive:T}):[h,T?"active":null].filter(Boolean).join(" ");var S="function"===typeof m?m({isActive:T}):m;return(0,a.createElement)(v,s({},k,{"aria-current":I,className:E,ref:t,style:S,to:y}),"function"===typeof g?g({isActive:T}):g)}));function y(e,t){var n=void 0===t?{}:t,r=n.target,i=n.replace,s=n.state,c=(0,u.s0)(),l=(0,u.TH)(),f=(0,u.WU)(e);return(0,a.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!i||(0,o.Ep)(l)===(0,o.Ep)(f);c(e,{replace:n,state:s})}}),[l,c,f,i,s,r,e])}function g(e){var t=(0,a.useRef)(k(e)),n=(0,u.TH)(),i=(0,a.useMemo)((function(){var e,i=k(n.search),a=(0,r.Z)(t.current.keys());try{var o=function(){var n=e.value;i.has(n)||t.current.getAll(n).forEach((function(e){i.append(n,e)}))};for(a.s();!(e=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}return i}),[n.search]),o=(0,u.s0)();return[i,(0,a.useCallback)((function(e,t){o("?"+k(e),t)}),[o])]}function k(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((function(t,n){var r=e[n];return t.concat(Array.isArray(r)?r.map((function(e){return[n,e]})):[[n,r]])}),[]))}},6871:function(e,t,n){"use strict";n.d(t,{VA:function(){return l},Fg:function(){return f},j3:function(){return h},AW:function(){return d},F0:function(){return p},Z5:function(){return v},gd:function(){return s},Us:function(){return u},pW:function(){return c},is:function(){return C},Gn:function(){return N},LX:function(){return F},fp:function(){return A},Oe:function(){return M},i3:function(){return U},oQ:function(){return m},GV:function(){return y},TH:function(){return g},bS:function(){return b},s0:function(){return w},ur:function(){return k},pC:function(){return E},bx:function(){return x},UO:function(){return T},WU:function(){return I},V$:function(){return S}});var r=n(9439),i=n(2791),a=n(390);function o(e,t){if(!e)throw new Error(t)}var u=(0,i.createContext)(null);var s=(0,i.createContext)(null);var c=(0,i.createContext)({outlet:null,matches:[]});function l(e){var t=e.basename,n=e.children,o=e.initialEntries,u=e.initialIndex,s=(0,i.useRef)();null==s.current&&(s.current=(0,a.PP)({initialEntries:o,initialIndex:u}));var c=s.current,l=(0,i.useState)({action:c.action,location:c.location}),f=(0,r.Z)(l,2),h=f[0],d=f[1];return(0,i.useLayoutEffect)((function(){return c.listen(d)}),[c]),(0,i.createElement)(p,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c})}function f(e){var t=e.to,n=e.replace,r=e.state;y()||o(!1);var a=w();return(0,i.useEffect)((function(){a(t,{replace:n,state:r})})),null}function h(e){return E(e.context)}function d(e){o(!1)}function p(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,c=void 0===r?null:r,l=e.location,f=e.navigationType,h=void 0===f?a.aU.Pop:f,d=e.navigator,p=e.static,v=void 0!==p&&p;y()&&o(!1);var m=z(n),g=(0,i.useMemo)((function(){return{basename:m,navigator:d,static:v}}),[m,d,v]);"string"===typeof l&&(l=(0,a.cP)(l));var k=l,b=k.pathname,w=void 0===b?"/":b,_=k.search,x=void 0===_?"":_,E=k.hash,T=void 0===E?"":E,I=k.state,S=void 0===I?null:I,C=k.key,N=void 0===C?"default":C,A=(0,i.useMemo)((function(){var e=B(w,m);return null==e?null:{pathname:e,search:x,hash:T,state:S,key:N}}),[m,w,x,T,S,N]);return null==A?null:(0,i.createElement)(u.Provider,{value:g},(0,i.createElement)(s.Provider,{children:c,value:{location:A,navigationType:h}}))}function v(e){var t=e.children,n=e.location;return S(C(t),n)}function m(e){y()||o(!1);var t=(0,i.useContext)(u),n=t.basename,r=t.navigator,s=I(e),c=s.hash,l=s.pathname,f=s.search,h=l;if("/"!==n){var d=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?(0,a.cP)(e).pathname:e.pathname}(e),p=null!=d&&d.endsWith("/");h="/"===l?n+(p?"/":""):q([n,l])}return r.createHref({pathname:h,search:f,hash:c})}function y(){return null!=(0,i.useContext)(s)}function g(){return y()||o(!1),(0,i.useContext)(s).location}function k(){return(0,i.useContext)(s).navigationType}function b(e){y()||o(!1);var t=g().pathname;return(0,i.useMemo)((function(){return F(e,t)}),[t,e])}function w(){y()||o(!1);var e=(0,i.useContext)(u),t=e.basename,n=e.navigator,r=(0,i.useContext)(c).matches,a=g().pathname,s=JSON.stringify(r.map((function(e){return e.pathnameBase}))),l=(0,i.useRef)(!1);return(0,i.useEffect)((function(){l.current=!0})),(0,i.useCallback)((function(e,r){if(void 0===r&&(r={}),l.current)if("number"!==typeof e){var i=V(e,JSON.parse(s),a);"/"!==t&&(i.pathname=q([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,s,a])}var _=(0,i.createContext)(null);function x(){return(0,i.useContext)(_)}function E(e){var t=(0,i.useContext)(c).outlet;return t?(0,i.createElement)(_.Provider,{value:e},t):t}function T(){var e=(0,i.useContext)(c).matches,t=e[e.length-1];return t?t.params:{}}function I(e){var t=(0,i.useContext)(c).matches,n=g().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,i.useMemo)((function(){return V(e,JSON.parse(r),n)}),[e,r,n])}function S(e,t){y()||o(!1);var n,r=(0,i.useContext)(c).matches,u=r[r.length-1],s=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,g());if(t){var h,d="string"===typeof t?(0,a.cP)(t):t;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||o(!1),n=d}else n=f;var p=n.pathname||"/",v=A(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});return j(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:q([l,e.pathname]),pathnameBase:"/"===e.pathnameBase?l:q([l,e.pathnameBase])})})),r)}function C(e){var t=[];return i.Children.forEach(e,(function(e){if((0,i.isValidElement)(e))if(e.type!==i.Fragment){e.type!==d&&o(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=C(e.props.children)),t.push(n)}else t.push.apply(t,C(e.props.children))})),t}function N(e,t){return void 0===t&&(t={}),e.replace(/:(\w+)/g,(function(e,n){return null==t[n]&&o(!1),t[n]})).replace(/\/*\*$/,(function(e){return null==t["*"]?"":t["*"].replace(/^\/*/,"/")}))}function A(e,t,n){void 0===n&&(n="/");var r=B(("string"===typeof t?(0,a.cP)(t):t).pathname||"/",n);if(null==r)return null;var i=R(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,u=0;null==o&&u<i.length;++u)o=L(i[u],r);return o}function R(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||o(!1),a.relativePath=a.relativePath.slice(r.length));var u=q([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&o(!1),R(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:D(u,e.index),routesMeta:s})})),t}var O=/^:\w+$/,P=function(e){return"*"===e};function D(e,t){var n=e.split("/"),r=n.length;return n.some(P)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!P(e)})).reduce((function(e,t){return e+(O.test(t)?3:""===t?1:10)}),r)}function L(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=F({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:q([i,l.pathname]),pathnameBase:q([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=q([i,l.pathnameBase]))}return a}function M(e){return j(e)}function j(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,a){return(0,i.createElement)(c.Provider,{children:void 0!==r.route.element?r.route.element:(0,i.createElement)(h,null),value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=(0,r.Z)(n,2),a=i[0],o=i[1],u=t.match(a);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function U(e,t){void 0===t&&(t="/");var n="string"===typeof e?(0,a.cP)(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,u=n.hash,s=void 0===u?"":u,c=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:c,search:W(o),hash:H(s)}}function V(e,t,n){var r,i="string"===typeof e?(0,a.cP)(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var u=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),u-=1;i.pathname=s.join("/")}r=u>=0?t[u]:"/"}var c=U(i,r);return o&&"/"!==o&&o.endsWith("/")&&!c.pathname.endsWith("/")&&(c.pathname+="/"),c}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var q=function(e){return e.join("/").replace(/\/\/+/g,"/")},z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},W=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},H=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""}},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+I(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(u=e[c],c);s+=S(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=S(u=u.value,t,n,l=r+I(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function R(){var e=A.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=T(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var _=g.prototype=m.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(_,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),s(_,u,"Generator"),s(_,a,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>T(o,n))void 0!==s&&0>T(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>T(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],S=[],C=1,N=null,A=3,R=!1,O=!1,P=!1;function D(e){for(var t=x(S);null!==t;){if(null===t.callback)E(S);else{if(!(t.startTime<=e))break;E(S),t.sortIndex=t.expirationTime,_(I,t)}t=x(S)}}function L(e){if(P=!1,D(e),!O)if(null!==x(I))O=!0,n(M);else{var t=x(S);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),R=!0;var a=A;try{for(D(n),N=x(I);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===x(I)&&E(I),D(n)}else E(I);N=x(I)}if(null!==N)var s=!0;else{var c=x(S);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{N=null,A=a,R=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return x(I)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,_(S,e),null===x(I)&&e===x(S)&&(P?i():P=!0,r(L,o-u))):(e.sortIndex=s,_(I,e),O||R||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},2391:function(e){"use strict";var t=function(){};e.exports=t},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return D},SDK_VERSION:function(){return Le},_DEFAULT_ENTRY_NAME:function(){return be},_addComponent:function(){return Ee},_addOrOverwriteComponent:function(){return Te},_apps:function(){return _e},_clearComponents:function(){return Ne},_components:function(){return xe},_getProvider:function(){return Se},_registerComponent:function(){return Ie},_removeServiceInstance:function(){return Ce},deleteApp:function(){return Ue},getApp:function(){return je},getApps:function(){return Fe},initializeApp:function(){return Me},onLog:function(){return qe},registerVersion:function(){return Be},setLogLevel:function(){return ze}});var t=n(2791),r=n(4164),i=n(9439);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=n(7762);function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function y(e){var t=p();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function g(e,t,n){return g=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&f(i,n.prototype),i},g.apply(null,arguments)}function k(e){var t="function"===typeof Map?new Map:void 0;return k=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return g(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)},k(e)}var b=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(b(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},_=function(e){return function(e){var t=b(e);return w.encodeByteArray(t,!0)}(e).replace(/\./g,"")},x=function(e){try{return w.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function E(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=E(e[n],t[n]));return e}var T=function(){function e(){var t=this;o(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return s(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function I(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_(JSON.stringify({alg:"none",type:"JWT"})),_(JSON.stringify(a)),""].join(".")}function S(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function N(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function A(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function R(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function O(){var e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function P(){return"object"===typeof indexedDB}var D=function(e){h(n,e);var t=y(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(l(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(l(a),L.prototype.create),a}return s(n)}(k(Error)),L=function(){function e(t,n,r){o(this,e),this.service=t,this.serviceName=n,this.errors=r}return s(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?M(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new D(n,a,t);return o}}]),e}();function M(e,t){return e.replace(j,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var j=/\{\$([^}]+)}/g;function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function U(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(V(u)&&V(s)){if(!U(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function V(e){return null!==e&&"object"===typeof e}function B(e){for(var t=[],n=function(){var e=(0,i.Z)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function q(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,i.Z)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function z(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function W(e,t){var n=new H(e,t);return n.subscribe.bind(n)}var H=function(){function e(t,n){var r=this;o(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return s(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=(0,c.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=K),void 0===r.error&&(r.error=K),void 0===r.complete&&(r.complete=K);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function K(){}function G(e){return e&&e._delegate?e._delegate:e}var Q=n(907);function Z(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var Y=n(181);function J(e){return function(e){if(Array.isArray(e))return(0,Q.Z)(e)}(e)||Z(e)||(0,Y.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){$(a,r,i,o,u,"next",e)}function u(e){$(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ee=n(7757),te=n.n(ee),ne=function(){function e(t,n,r){o(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return s(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),re="[DEFAULT]",ie=function(){function e(t,n){o(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return s(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new T;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:re})}catch(l){}var t,n=(0,c.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,i.Z)(t.value,2),a=r[0],o=r[1],u=this.normalizeInstanceIdentifier(a);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(l){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=X(ee.mark((function e(){var t;return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(J(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),J(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=(0,c.Z)(this.instancesDeferred.entries());try{for(u.s();!(a=u.n()).done;){var s=(0,i.Z)(a.value,2),l=s[0],f=s[1],h=this.normalizeInstanceIdentifier(l);r===h&&f.resolve(o)}}catch(d){u.e(d)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,c.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Mw){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===re?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Mw){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return this.component?this.component.multipleInstances?e:re:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ae,oe,ue=function(){function e(t){o(this,e),this.name=t,this.providers=new Map}return s(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ie(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),se=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(oe||(oe={}));var ce,le,fe={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},he=oe.INFO,de=(a(ae={},oe.DEBUG,"log"),a(ae,oe.VERBOSE,"log"),a(ae,oe.INFO,"info"),a(ae,oe.WARN,"warn"),a(ae,oe.ERROR,"error"),ae),pe=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=de[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ve=function(){function e(t){o(this,e),this.name=t,this._logLevel=he,this._logHandler=pe,this._userLogHandler=null,se.push(this)}return s(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in oe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?fe[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.DEBUG].concat(t)),this._logHandler.apply(this,[this,oe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,oe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.INFO].concat(t)),this._logHandler.apply(this,[this,oe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.WARN].concat(t)),this._logHandler.apply(this,[this,oe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.ERROR].concat(t)),this._logHandler.apply(this,[this,oe.ERROR].concat(t))}}]),e}();var me=function(){function e(t){o(this,e),this.container=t}return s(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ye="@firebase/app",ge="0.7.15",ke=new ve("@firebase/app"),be="[DEFAULT]",we=(a(ce={},ye,"fire-core"),a(ce,"@firebase/app-compat","fire-core-compat"),a(ce,"@firebase/analytics","fire-analytics"),a(ce,"@firebase/analytics-compat","fire-analytics-compat"),a(ce,"@firebase/app-check","fire-app-check"),a(ce,"@firebase/app-check-compat","fire-app-check-compat"),a(ce,"@firebase/auth","fire-auth"),a(ce,"@firebase/auth-compat","fire-auth-compat"),a(ce,"@firebase/database","fire-rtdb"),a(ce,"@firebase/database-compat","fire-rtdb-compat"),a(ce,"@firebase/functions","fire-fn"),a(ce,"@firebase/functions-compat","fire-fn-compat"),a(ce,"@firebase/installations","fire-iid"),a(ce,"@firebase/installations-compat","fire-iid-compat"),a(ce,"@firebase/messaging","fire-fcm"),a(ce,"@firebase/messaging-compat","fire-fcm-compat"),a(ce,"@firebase/performance","fire-perf"),a(ce,"@firebase/performance-compat","fire-perf-compat"),a(ce,"@firebase/remote-config","fire-rc"),a(ce,"@firebase/remote-config-compat","fire-rc-compat"),a(ce,"@firebase/storage","fire-gcs"),a(ce,"@firebase/storage-compat","fire-gcs-compat"),a(ce,"@firebase/firestore","fire-fst"),a(ce,"@firebase/firestore-compat","fire-fst-compat"),a(ce,"fire-js","fire-js"),a(ce,"firebase","fire-js-all"),ce),_e=new Map,xe=new Map;function Ee(e,t){try{e.container.addComponent(t)}catch(n){ke.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Te(e,t){e.container.addOrOverwriteComponent(t)}function Ie(e){var t=e.name;if(xe.has(t))return ke.debug("There were multiple attempts to register component ".concat(t,".")),!1;xe.set(t,e);var n,r=(0,c.Z)(_e.values());try{for(r.s();!(n=r.n()).done;){Ee(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Se(e,t){return e.container.getProvider(t)}function Ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:be;Se(e,t).clearInstance(n)}function Ne(){xe.clear()}var Ae,Re,Oe=(a(le={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),a(le,"bad-app-name","Illegal App name: '{$appName}"),a(le,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),a(le,"app-deleted","Firebase App named '{$appName}' already deleted"),a(le,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),a(le,"invalid-log-argument","First argument to `onLog` must be null or a function."),le),Pe=new L("app","Firebase",Oe),De=function(){function e(t,n,r){var i=this;o(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ne("app",(function(){return i}),"PUBLIC"))}return s(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Pe.create("app-deleted",{appName:this._name})}}]),e}(),Le="9.6.5";function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:be,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Pe.create("bad-app-name",{appName:String(i)});var a=_e.get(i);if(a){if(U(e,a.options)&&U(r,a.config))return a;throw Pe.create("duplicate-app",{appName:i})}var o,u=new ue(i),s=(0,c.Z)(xe.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(h){s.e(h)}finally{s.f()}var f=new De(e,r,u);return _e.set(i,f),f}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=_e.get(e);if(!t)throw Pe.create("no-app",{appName:e});return t}function Fe(){return Array.from(_e.values())}function Ue(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=X(ee.mark((function e(t){var n;return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!_e.has(n)){e.next=6;break}return _e.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t,n){var r,i=null!==(r=we[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ke.warn(u.join(" "))}Ie(new ne("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function qe(e,t){if(null!==e&&"function"!==typeof e)throw Pe.create("invalid-log-argument");!function(e,t){var n,r=(0,c.Z)(se);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=fe[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:oe[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ze(e){var t;t=e,se.forEach((function(e){e.setLogLevel(t)}))}Ae="",Ie(new ne("platform-logger",(function(e){return new me(e)}),"PRIVATE")),Be(ye,ge,Ae),Be(ye,ge,"esm2017"),Be("fire-js","");var We=function(){function e(t,n){var r=this;o(this,e),this._delegate=t,this.firebase=n,Ee(t,new ne("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return s(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ue(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ee(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Te(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),He=(a(Re={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),a(Re,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Re),Ke=new L("app-compat","Firebase",He);var Ge=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Me(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(F(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Be,setLogLevel:ze,onLog:qe,apps:null,SDK_VERSION:Le,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ie(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ke.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&E(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!F(n,e=e||be))throw Ke.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(We);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){E(n,e)},createSubscribe:W,ErrorFactory:L,deepExtend:E}),n}(),Qe=new ve("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Qe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&Qe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ye=Ge;!function(e){Be("@firebase/app-compat","0.1.16",e)}();Ye.registerVersion("firebase","9.6.5","app-compat");var Je=n(3878),$e=n(5267);function Xe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function et(){return et="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Xe(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},et.apply(this,arguments)}function tt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var nt;Object.create;var rt="facebook.com",it="github.com",at="google.com",ot="password",ut="twitter.com",st="EMAIL_SIGNIN",ct="PASSWORD_RESET",lt="RECOVER_EMAIL",ft="REVERT_SECOND_FACTOR_ADDITION",ht="VERIFY_AND_CHANGE_EMAIL",dt="VERIFY_EMAIL";function pt(){return a({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var vt=function(){var e;return a(e={},"admin-restricted-operation","This operation is restricted to administrators only."),a(e,"argument-error",""),a(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),a(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),a(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),a(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),a(e,"cordova-not-ready","Cordova framework is not ready."),a(e,"cors-unsupported","This browser is not supported."),a(e,"credential-already-in-use","This credential is already associated with a different user account."),a(e,"custom-token-mismatch","The custom token corresponds to a different audience."),a(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),a(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),a(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),a(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),a(e,"email-already-in-use","The email address is already in use by another account."),a(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),a(e,"expired-action-code","The action code has expired."),a(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),a(e,"internal-error","An internal AuthError has occurred."),a(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),a(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),a(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),a(e,"invalid-auth-event","An internal AuthError has occurred."),a(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),a(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),a(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),a(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),a(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),a(e,"invalid-email","The email address is badly formatted."),a(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),a(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),a(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),a(e,"invalid-credential","The supplied auth credential is malformed or has expired."),a(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),a(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),a(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),a(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),a(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),a(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),a(e,"wrong-password","The password is invalid or the user does not have a password."),a(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),a(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),a(e,"invalid-provider-id","The specified provider ID is invalid."),a(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),a(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),a(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),a(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),a(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),a(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),a(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),a(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),a(e,"missing-continue-uri","A continue URL must be provided in the request."),a(e,"missing-iframe-start","An internal AuthError has occurred."),a(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),a(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),a(e,"missing-multi-factor-info","No second factor identifier is provided."),a(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),a(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),a(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),a(e,"app-deleted","This instance of FirebaseApp has been deleted."),a(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),a(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),a(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),a(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),a(e,"no-auth-event","An internal AuthError has occurred."),a(e,"no-such-provider","User was not linked to an account with the given provider."),a(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),a(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),a(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),a(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),a(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),a(e,"provider-already-linked","User can only be linked to one identity for the given provider."),a(e,"quota-exceeded","The project's quota for this operation has been exceeded."),a(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),a(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),a(e,"rejected-credential","The request contains malformed or mismatching credentials."),a(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),a(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),a(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),a(e,"timeout","The operation has timed out."),a(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),a(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),a(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),a(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),a(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),a(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),a(e,"unverified-email","The operation requires a verified email."),a(e,"user-cancelled","The user did not grant your application the permissions it requested."),a(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),a(e,"user-disabled","The user account has been disabled by an administrator."),a(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),a(e,"user-signed-out",""),a(e,"weak-password","The password must be 6 characters long or more."),a(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),a(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},mt=pt,yt=new L("auth","Firebase",pt()),gt=new ve("@firebase/auth");function kt(e){if(gt.logLevel<=oe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gt.error.apply(gt,["Auth (".concat(Le,"): ").concat(e)].concat(n))}}function bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Et.apply(void 0,[e].concat(n))}function wt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Et.apply(void 0,[e].concat(n))}function _t(e,t,n){var r=Object.assign(Object.assign({},mt()),a({},t,n));return new L("auth","Firebase",r).create(t,{appName:e.name})}function xt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&bt(e,"argument-error"),_t(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=J(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(J(o)))}return yt.create.apply(yt,[e].concat(n))}function Tt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Et.apply(void 0,[t].concat(r))}}function It(e){var t="INTERNAL ASSERTION FAILED: "+e;throw kt(t),new Error(t)}function St(e,t){e||It(t)}var Ct=new Map;function Nt(e){St(e instanceof Function,"Expected a class definition");var t=Ct.get(e);return t?(St(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ct.set(e,t),t)}function At(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Rt(){return"http:"===Ot()||"https:"===Ot()}function Ot(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Pt=function(){function e(t,n){o(this,e),this.shortDelay=t,this.longDelay=n,St(n>t,"Short delay should be less than long delay!"),this.isMobile=C()||R()}return s(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Rt()||A()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Dt(e,t){St(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Lt=function(){function e(){o(this,e)}return s(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void It("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void It("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void It("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Mt=(a(nt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),a(nt,"MISSING_CUSTOM_TOKEN","internal-error"),a(nt,"INVALID_IDENTIFIER","invalid-email"),a(nt,"MISSING_CONTINUE_URI","internal-error"),a(nt,"INVALID_PASSWORD","wrong-password"),a(nt,"MISSING_PASSWORD","internal-error"),a(nt,"EMAIL_EXISTS","email-already-in-use"),a(nt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),a(nt,"INVALID_IDP_RESPONSE","invalid-credential"),a(nt,"INVALID_PENDING_TOKEN","invalid-credential"),a(nt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),a(nt,"MISSING_REQ_TYPE","internal-error"),a(nt,"EMAIL_NOT_FOUND","user-not-found"),a(nt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),a(nt,"EXPIRED_OOB_CODE","expired-action-code"),a(nt,"INVALID_OOB_CODE","invalid-action-code"),a(nt,"MISSING_OOB_CODE","internal-error"),a(nt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),a(nt,"INVALID_ID_TOKEN","invalid-user-token"),a(nt,"TOKEN_EXPIRED","user-token-expired"),a(nt,"USER_NOT_FOUND","user-token-expired"),a(nt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),a(nt,"INVALID_CODE","invalid-verification-code"),a(nt,"INVALID_SESSION_INFO","invalid-verification-id"),a(nt,"INVALID_TEMPORARY_PROOF","invalid-credential"),a(nt,"MISSING_SESSION_INFO","missing-verification-id"),a(nt,"SESSION_EXPIRED","code-expired"),a(nt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),a(nt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),a(nt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),a(nt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),a(nt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),a(nt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),a(nt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),a(nt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),a(nt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),a(nt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),a(nt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),nt),jt=new Pt(3e4,6e4);function Ft(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ut(e,t,n,r){return Vt.apply(this,arguments)}function Vt(){return Vt=X(te().mark((function e(t,n,r,i){var a,o=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Bt(t,a,X(te().mark((function e(){var a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=B(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Lt.fetch()(Ht(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Vt.apply(this,arguments)}function Bt(e,t,n){return qt.apply(this,arguments)}function qt(){return(qt=X(te().mark((function e(t,n,r){var a,o,u,s,c,l,f,h,d,p;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},Mt),n),e.prev=2,o=new Kt(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Gt(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,i.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Gt(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Gt(t,"email-already-in-use",s);case 25:if(p=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw _t(t,p,d);case 30:bt(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof D)){e.next=37;break}throw e.t0;case 37:bt(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function zt(e,t,n,r){return Wt.apply(this,arguments)}function Wt(){return Wt=X(te().mark((function e(t,n,r,i){var a,o,u=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ut(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&bt(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Wt.apply(this,arguments)}function Ht(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Dt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Kt=function(){function e(t){var n=this;o(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(wt(n.auth,"network-request-failed"))}),jt.get())}))}return s(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Gt(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=wt(e,t,r);return i.customData._tokenResponse=n,i}function Qt(e,t){return Zt.apply(this,arguments)}function Zt(){return(Zt=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e,t){return Jt.apply(this,arguments)}function Jt(){return(Jt=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e,t){return Xt.apply(this,arguments)}function Xt(){return(Xt=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function tn(){return tn=X(te().mark((function e(t){var n,r,i,a,o,u,s=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=G(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Tt((a=rn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:en(nn(a.auth_time)),issuedAtTime:en(nn(a.iat)),expirationTime:en(nn(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),tn.apply(this,arguments)}function nn(e){return 1e3*Number(e)}function rn(e){var t=e.split("."),n=(0,i.Z)(t,3),r=n[0],a=n[1],o=n[2];if(void 0===r||void 0===a||void 0===o)return kt("JWT malformed, contained fewer than 3 sections"),null;try{var u=x(a);return u?JSON.parse(u):(kt("Failed to decode base64 JWT payload"),null)}catch(s){return kt("Caught error parsing JWT payload as JSON",s),null}}function an(e,t){return on.apply(this,arguments)}function on(){return on=X(te().mark((function e(t,n){var r=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof D&&un(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),on.apply(this,arguments)}function un(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var sn=function(){function e(t){o(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return s(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(X(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),cn=function(){function e(t,n){o(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return s(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=en(this.lastLoginAt),this.creationTime=en(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ln(e){return fn.apply(this,arguments)}function fn(){return fn=X(te().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,an(t,$t(r,{idToken:i}));case 6:Tt(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?pn(o.providerUserInfo):[],s=dn(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new cn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),fn.apply(this,arguments)}function hn(){return(hn=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=G(t),e.next=3,ln(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(J(n),J(t))}function pn(e){return e.map((function(e){var t=e.providerId,n=tt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function vn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=X(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(t,{},X(te().mark((function e(){var r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=B({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ht(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Lt.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yn=function(){function e(){o(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return s(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Tt(e.idToken,"internal-error"),Tt("undefined"!==typeof e.idToken,"internal-error"),Tt("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=rn(e);return Tt(t,"internal-error"),Tt("undefined"!==typeof t.exp,"internal-error"),Tt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=X(te().mark((function e(t){var n,r=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Tt(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=X(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return It("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Tt("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Tt("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Tt("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function gn(e,t){Tt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var kn=function(){function e(t){o(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=tt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new cn(a.createdAt||void 0,a.lastLoginAt||void 0)}return s(e,[{key:"getIdToken",value:function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Tt(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return tn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return hn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=X(te().mark((function e(t){var n,r,i=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ln(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=X(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,an(this,Qt(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Tt(k&&x,t,"internal-error");var E=yn.fromJSON(this.name,x);Tt("string"===typeof k,t,"internal-error"),gn(f,t.name),gn(h,t.name),Tt("boolean"===typeof b,t,"internal-error"),Tt("boolean"===typeof w,t,"internal-error"),gn(d,t.name),gn(p,t.name),gn(v,t.name),gn(m,t.name),gn(y,t.name),gn(g,t.name);var T=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(T.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=X(te().mark((function t(n,r){var i,a,o,u=arguments;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new yn).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ln(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),bn=function(){function e(){o(this,e),this.type="NONE",this.storage={}}return s(e,[{key:"_isAvailable",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();bn.type="NONE";var wn=bn;function _n(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var xn=function(){function e(t,n,r){o(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,u=i.name;this.fullUserKey=_n(this.userKey,a.apiKey,u),this.fullPersistenceKey=_n("persistence",a.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return s(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=X(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?kn._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=X(te().mark((function t(n,r){var i,a,o,u,s,l,f,h,d,p,v,m=arguments;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Nt(wn),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Nt(wn),u=_n(i,n.config.apiKey,n.name),s=null,l=(0,c.Z)(r),t.prev=10,l.s();case 12:if((f=l.n()).done){t.next=29;break}return h=f.value,t.prev=14,t.next=17,h._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return p=kn._fromJSON(n,d),h!==o&&(s=p),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(v=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=v[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function En(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(An(t))return"Blackberry";if(Rn(t))return"Webos";if(In(t))return"Safari";if((t.includes("chrome/")||Sn(t))&&!t.includes("edge/"))return"Chrome";if(Nn(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/firefox\//i.test(e)}function In(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Sn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/crios\//i.test(e)}function Cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/iemobile/i.test(e)}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/android/i.test(e)}function An(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/blackberry/i.test(e)}function Rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/webos/i.test(e)}function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/iphone|ipad|ipod/i.test(e)}function Pn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return On(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Dn(){return O()&&10===document.documentMode}function Ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return On(e)||Nn(e)||Rn(e)||An(e)||/windows phone/i.test(e)||Cn(e)}function Mn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=En(S());break;case"Worker":t="".concat(En(S()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Le,"/").concat(r)}var jn=function(){function e(t,n){o(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Un(this),this.idTokenSubscription=new Un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return s(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Nt(t)),this._initializationPromise=this.queue(X(te().mark((function r(){var i,a;return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,xn.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=X(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=X(te().mark((function e(t){var n,r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Tt(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ln(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?G(t):null)&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=X(te().mark((function e(t){var n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(X(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Nt(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new L("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=X(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Tt(n=t&&Nt(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,xn.create(this,[Nt(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=X(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=X(te().mark((function e(t){var n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Tt(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mn(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=X(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fn(e){return G(e)}var Un=function(){function e(t){var n=this;o(this,e),this.auth=t,this.observer=null,this.addObserver=W((function(e){return n.observer=e}))}return s(e,[{key:"next",get:function(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Vn(e,t,n){var r=Fn(e);Tt(r._canInitEmulator,r,"emulator-config-failed"),Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var a=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Bn(t),u=function(e){var t=Bn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){var o=a[1];return{host:o,port:qn(r.substr(o.length+1))}}var u=r.split(":"),s=(0,i.Z)(u,2);return{host:s[0],port:qn(s[1])}}(t),s=u.host,c=u.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Bn(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qn(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var zn=function(){function e(t,n){o(this,e),this.providerId=t,this.signInMethod=n}return s(e,[{key:"toJSON",value:function(){return It("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return It("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return It("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return It("not implemented")}}]),e}();function Wn(e,t){return Hn.apply(this,arguments)}function Hn(){return(Hn=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:resetPassword",Ft(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kn(e,t){return Gn.apply(this,arguments)}function Gn(){return(Gn=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:update",Ft(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yn(e,t){return Jn.apply(this,arguments)}function Jn(){return(Jn=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zt(t,"POST","/v1/accounts:signInWithPassword",Ft(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $n(e,t){return Xn.apply(this,arguments)}function Xn(){return(Xn=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:sendOobCode",Ft(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function er(e,t){return tr.apply(this,arguments)}function tr(){return(tr=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nr(e,t){return rr.apply(this,arguments)}function rr(){return(rr=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ir(e,t){return ar.apply(this,arguments)}function ar(){return(ar=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function or(e,t){return ur.apply(this,arguments)}function ur(){return(ur=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sr(e,t){return cr.apply(this,arguments)}function cr(){return(cr=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zt(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lr(e,t){return fr.apply(this,arguments)}function fr(){return(fr=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zt(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hr=function(e){h(n,e);var t=y(n);function n(e,r,i){var a,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return o(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=u,a}return s(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Yn(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",sr(t,{email:this._email,oobCode:this._password}));case 5:bt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Kn(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",lr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:bt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(zn);function dr(e,t){return pr.apply(this,arguments)}function pr(){return(pr=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zt(t,"POST","/v1/accounts:signInWithIdp",Ft(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vr=function(e){h(n,e);var t=y(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return s(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return dr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,dr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,dr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=B(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bt("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=tt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(zn);function mr(e,t){return yr.apply(this,arguments)}function yr(){return(yr=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:sendVerificationCode",Ft(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gr(){return(gr=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zt(t,"POST","/v1/accounts:signInWithPhoneNumber",Ft(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kr(){return(kr=X(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt(t,"POST","/v1/accounts:signInWithPhoneNumber",Ft(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Gt(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var br=a({},"USER_NOT_FOUND","user-not-found");function wr(){return(wr=X(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",zt(t,"POST","/v1/accounts:signInWithPhoneNumber",Ft(t,r),br));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _r=function(e){h(n,e);var t=y(n);function n(e){var r;return o(this,n),(r=t.call(this,"phone","phone")).params=e,r}return s(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return gr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return kr.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return wr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(zn);var xr=function(){function e(t){var n,r,i,a,u,s;o(this,e);var c=q(z(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);Tt(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=c.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(u=c.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return s(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=q(z(e)).link,n=t?q(z(t)).deep_link_id:null,r=q(z(e)).deep_link_id;return(r?q(z(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Mw){return null}}}]),e}();var Er=function(){function e(){o(this,e),this.providerId=e.PROVIDER_ID}return s(e,null,[{key:"credential",value:function(e,t){return hr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=xr.parseLink(t);return Tt(n,"argument-error"),hr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Er.PROVIDER_ID="password",Er.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Er.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Tr=function(){function e(t){o(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return s(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ir=function(e){h(n,e);var t=y(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).scopes=[],e}return s(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return J(this.scopes)}}]),n}(Tr),Sr=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Tt(e.idToken||e.accessToken,"argument-error"),vr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Tt("providerId"in t&&"signInMethod"in t,"argument-error"),vr._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ir),Cr=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.call(this,"facebook.com")}return s(n,null,[{key:"credential",value:function(e){return vr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Mw){return null}}}]),n}(Ir);Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Cr.PROVIDER_ID="facebook.com";var Nr=function(e){h(n,e);var t=y(n);function n(){var e;return o(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return s(n,null,[{key:"credential",value:function(e,t){return vr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Mw){return null}}}]),n}(Ir);Nr.GOOGLE_SIGN_IN_METHOD="google.com",Nr.PROVIDER_ID="google.com";var Ar=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.call(this,"github.com")}return s(n,null,[{key:"credential",value:function(e){return vr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Mw){return null}}}]),n}(Ir);Ar.GITHUB_SIGN_IN_METHOD="github.com",Ar.PROVIDER_ID="github.com";var Rr=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return s(n,[{key:"_getIdTokenResponse",value:function(e){return dr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,dr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,dr(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(zn),Or=function(e){h(n,e);var t=y(n);function n(e){return o(this,n),Tt(e.startsWith("saml."),"argument-error"),t.call(this,e)}return s(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Rr.fromJSON(e);return Tt(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Rr._create(r,n)}catch(i){return null}}}]),n}(Tr),Pr=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.call(this,"twitter.com")}return s(n,null,[{key:"credential",value:function(e,t){return vr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Mw){return null}}}]),n}(Ir);function Dr(e,t){return Lr.apply(this,arguments)}function Lr(){return(Lr=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zt(t,"POST","/v1/accounts:signUp",Ft(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Pr.TWITTER_SIGN_IN_METHOD="twitter.com",Pr.PROVIDER_ID="twitter.com";var Mr=function(){function e(t){o(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return s(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=X(te().mark((function t(n,r,i){var a,o,u,s,c=arguments;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,kn._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=jr(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=X(te().mark((function t(n,r,i){var a;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=jr(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function jr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Fr(){return Fr=X(te().mark((function e(t){var n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fn(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Mr({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Dr(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Mr._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Fr.apply(this,arguments)}var Ur=function(e){h(n,e);var t=y(n);function n(e,r,i,a){var u,s;return o(this,n),(u=t.call(this,r.code,r.message)).operationType=i,u.user=a,Object.setPrototypeOf(l(u),n.prototype),u.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},u}return s(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(D);function Vr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ur._fromErrorAndOperation(e,n,t,r);throw n}))}function Br(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function qr(e,t){return zr.apply(this,arguments)}function zr(){return zr=X(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=G(t),e.next=3,Kr(!0,r,n);case 3:return e.t0=Yt,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Br(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}function Wr(e,t){return Hr.apply(this,arguments)}function Hr(){return Hr=X(te().mark((function e(t,n){var r,i,a=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=an,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Mr._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}function Kr(e,t,n){return Gr.apply(this,arguments)}function Gr(){return(Gr=X(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(n);case 2:i=Br(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Tt(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qr(e,t){return Zr.apply(this,arguments)}function Zr(){return Zr=X(te().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,an(t,Vr(i,a,n,t),r);case 6:return Tt((o=e.sent).idToken,i,"internal-error"),Tt(u=rn(o.idToken),i,"internal-error"),s=u.sub,Tt(t.uid===s,i,"user-mismatch"),e.abrupt("return",Mr._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&bt(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Zr.apply(this,arguments)}function Yr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=X(te().mark((function e(t,n){var r,i,a,o,u=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Vr(t,i,n);case 4:return a=e.sent,e.next=7,Mr._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}function $r(e,t){return Xr.apply(this,arguments)}function Xr(){return(Xr=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yr(Fn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(e,t){return ti.apply(this,arguments)}function ti(){return(ti=X(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=G(t),e.next=3,Kr(!1,r,n.providerId);case 3:return e.abrupt("return",Wr(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ni(e,t){return ri.apply(this,arguments)}function ri(){return(ri=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(G(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return(ai=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zt(t,"POST","/v1/accounts:signInWithCustomToken",Ft(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oi(){return(oi=X(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fn(t),e.next=3,ii(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Mr._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ui=function(){function e(t,n){o(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return s(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?si._fromServerResponse(e,t):bt(e,"internal-error")}}]),e}(),si=function(e){h(n,e);var t=y(n);function n(e){var r;return o(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return s(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ui);function ci(e,t,n){var r;Tt((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Tt("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Tt(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Tt(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function li(){return(li=X(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=G(t),a={requestType:"PASSWORD_RESET",email:n},r&&ci(i,a,r),e.next=5,nr(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fi(){return(fi=X(te().mark((function e(t,n,r){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(G(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hi(){return(hi=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(G(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function di(e,t){return pi.apply(this,arguments)}function pi(){return(pi=X(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=G(t),e.next=3,Wn(r,{oobCode:n});case 3:i=e.sent,Tt(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Tt(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Tt(i.mfaInfo,r,"internal-error");case 13:Tt(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ui._fromServerResponse(Fn(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vi(){return(vi=X(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,di(G(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mi(e,t,n){return yi.apply(this,arguments)}function yi(){return(yi=X(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fn(t),e.next=3,Dr(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Mr._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gi(){return(gi=X(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=G(t),a={requestType:"EMAIL_SIGNIN",email:n},Tt(r.handleCodeInApp,i,"argument-error"),r&&ci(i,a,r),e.next=6,ir(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ki(){return(ki=X(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=G(t),Tt((a=Er.credentialWithLink(n,r||At()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",$r(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bi(e,t){return wi.apply(this,arguments)}function wi(){return(wi=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:createAuthUri",Ft(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _i(){return(_i=X(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rt()?At():"http://localhost",i={identifier:n,continueUri:r},e.next=4,bi(G(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xi(){return(xi=X(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=G(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ci(r.auth,a,n),e.next=8,er(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ei(){return(Ei=X(te().mark((function e(t,n,r){var i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=G(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ci(i.auth,o,r),e.next=8,or(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ti(e,t){return Ii.apply(this,arguments)}function Ii(){return(Ii=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Si(){return(Si=X(te().mark((function e(t,n){var r,i,a,o,u,s,c;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=G(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,an(a,Ti(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ci(e,t,n){return Ni.apply(this,arguments)}function Ni(){return(Ni=X(te().mark((function e(t,n,r){var i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,an(t,Kn(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ai=s((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ri=function(e){h(n,e);var t=y(n);function n(e,r,i,a){var u;return o(this,n),(u=t.call(this,e,r,i)).username=a,u}return s(n)}(Ai),Oi=function(e){h(n,e);var t=y(n);function n(e,r){return o(this,n),t.call(this,e,"facebook.com",r)}return s(n)}(Ai),Pi=function(e){h(n,e);var t=y(n);function n(e,r){return o(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return s(n)}(Ri),Di=function(e){h(n,e);var t=y(n);function n(e,r){return o(this,n),t.call(this,e,"google.com",r)}return s(n)}(Ai),Li=function(e){h(n,e);var t=y(n);function n(e,r,i){return o(this,n),t.call(this,e,"twitter.com",r,i)}return s(n)}(Ri);function Mi(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=rn(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ai(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Oi(a,i);case"github.com":return new Pi(a,i);case"google.com":return new Di(a,i);case"twitter.com":return new Li(a,i,e.screenName||null);case"custom":case"anonymous":return new Ai(a,null);default:return new Ai(a,r,i)}}(n)}var ji=function(){function e(t,n){o(this,e),this.type=t,this.credential=n}return s(e,[{key:"toJSON",value:function(){return{multiFactorSession:a({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Fi=function(){function e(t,n,r){o(this,e),this.session=t,this.hints=n,this.signInResolver=r}return s(e,[{key:"resolveSignIn",value:function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Fn(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ui._fromServerResponse(r,e)}));Tt(i.mfaPendingCredential,r,"internal-error");var o=ji._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=X(te().mark((function e(t){var a,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Mr._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Tt(n.user,r,"internal-error"),e.abrupt("return",Mr._forOperation(n.user,n.operationType,u));case 17:bt(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ui(e,t){return Ut(e,"POST","/v2/accounts/mfaEnrollment:start",Ft(e,t))}var Vi=function(){function e(t){var n=this;o(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ui._fromServerResponse(t.auth,e)})))}))}return s(e,[{key:"getSession",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ji,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=X(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,an(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=X(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,an(this.user,Ut(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Bi=new WeakMap;var qi="__sak",zi=function(){function e(t,n){o(this,e),this.storageRetriever=t,this.type=n}return s(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(qi,"1"),this.storage.removeItem(qi),Promise.resolve(!0)):Promise.resolve(!1)}catch(Mw){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Wi=function(e){h(n,e);var t=y(n);function n(){var e;return o(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=S();return In(e)||On(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ln(),e._shouldAllowMigration=!0,e}return s(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Dn()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=X(te().mark((function e(t,r){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(d(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=X(te().mark((function e(t){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(d(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(d(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(zi);Wi.type="LOCAL";var Hi=Wi,Ki=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return s(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(zi);Ki.type="SESSION";var Gi=Ki;function Qi(e){return Promise.all(e.map(function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Zi=function(){function e(t){o(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return s(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=X(te().mark((function e(t){var n,r,i,a,o,u,s,c;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Qi(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Yi(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zi.receivers=[];var Ji=function(){function e(t){o(this,e),this.target=t,this.handlers=new Set}return s(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=X(te().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Yi("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function $i(){return window}function Xi(){return"undefined"!==typeof $i().WorkerGlobalScope&&"function"===typeof $i().importScripts}function ea(){return ta.apply(this,arguments)}function ta(){return(ta=X(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function na(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ra="firebaseLocalStorageDb",ia="firebaseLocalStorage",aa="fbase_key",oa=function(){function e(t){o(this,e),this.request=t}return s(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ua(e,t){return e.transaction([ia],t?"readwrite":"readonly").objectStore(ia)}function sa(){var e=indexedDB.deleteDatabase(ra);return new oa(e).toPromise()}function ca(){var e=indexedDB.open(ra,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ia,{keyPath:aa})}catch(r){n(r)}})),e.addEventListener("success",X(te().mark((function n(){var r;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ia)){n.next=12;break}return r.close(),n.next=5,sa();case 5:return n.t0=t,n.next=8,ca();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function la(e,t,n){return fa.apply(this,arguments)}function fa(){return fa=X(te().mark((function e(t,n,r){var i,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ua(t,!0).put((a(i={},aa,n),a(i,"value",r),i)),e.abrupt("return",new oa(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),fa.apply(this,arguments)}function ha(e,t){return da.apply(this,arguments)}function da(){return da=X(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ua(t,!1).get(n),e.next=3,new oa(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function pa(e,t){var n=ua(e,!0).delete(t);return new oa(n).toPromise()}var va=function(){function e(){o(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return s(e,[{key:"_openDb",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ca();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=X(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=X(te().mark((function e(){var t=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Zi._getInstance(Xi()?self:null),this.receiver._subscribe("keyChanged",function(){var e=X(te().mark((function e(n,r){var i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=X(te().mark((function e(){var t,n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ji(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&na()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=X(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ca();case 5:return t=e.sent,e.next=8,la(t,qi,"1");case 8:return e.next=10,pa(t,qi);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=X(te().mark((function e(t,n){var r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return la(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ha(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=X(te().mark((function e(t){var n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return pa(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=X(te().mark((function e(){var t,n,r,i,a,o,u,s,l,f,h;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ua(e,!1).getAll();return new oa(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=(0,c.Z)(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(X(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();va.type="LOCAL";var ma=va;function ya(e,t){return Ut(e,"POST","/v2/accounts/mfaSignIn:start",Ft(e,t))}function ga(e){return ka.apply(this,arguments)}function ka(){return(ka=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ba(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=wt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function wa(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var _a=1e12,xa=function(){function e(t){o(this,e),this.auth=t,this.counter=_a,this._widgets=new Map}return s(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ea(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||_a;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||_a;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=X(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||_a,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ea=function(){function e(t,n,r){var i=this;o(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Tt(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return s(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ta=wa("rcb"),Ia=new Pt(3e4,6e4),Sa="https://www.google.com/recaptcha/api.js?",Ca=function(){function e(){o(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!$i().grecaptcha}return s(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Tt(Na(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve($i().grecaptcha):new Promise((function(r,i){var a=$i().setTimeout((function(){i(wt(e,"network-request-failed"))}),Ia.get());$i()[Ta]=function(){$i().clearTimeout(a),delete $i()[Ta];var o=$i().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(wt(e,"internal-error"))},ba("".concat(Sa,"?").concat(B({onload:Ta,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(wt(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!$i().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Na(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Aa=function(){function e(){o(this,e)}return s(e,[{key:"load",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new xa(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ra="recaptcha",Oa={theme:"light",type:"image"},Pa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Oa),r=arguments.length>2?arguments[2]:void 0;o(this,e),this.parameters=n,this.type=Ra,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fn(r),this.isInvisible="invisible"===this.parameters.size,Tt("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Tt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Aa:new Ca,this.validateStartingState()}return s(e,[{key:"verify",value:function(){var e=X(te().mark((function e(){var t,n,r,i=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Tt(!this.parameters.sitekey,this.auth,"argument-error"),Tt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Tt("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=$i()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Tt(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=X(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=X(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tt(Rt()&&!Xi(),this.auth,"internal-error"),e.next=3,Da();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ga(this.auth);case 8:Tt(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Tt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Da(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var La=function(){function e(t,n){o(this,e),this.verificationId=t,this.onConfirmation=n}return s(e,[{key:"confirm",value:function(e){var t=_r._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ma(){return(Ma=X(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fn(t),e.next=3,Va(i,n,G(r));case 3:return a=e.sent,e.abrupt("return",new La(a,(function(e){return $r(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(e,t,n){return Fa.apply(this,arguments)}function Fa(){return(Fa=X(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=G(t),e.next=3,Kr(!1,i,"phone");case 3:return e.next=5,Va(i.auth,n,G(r));case 5:return a=e.sent,e.abrupt("return",new La(a,(function(e){return ei(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ua(){return(Ua=X(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=G(t),e.next=3,Va(i.auth,n,G(r));case 3:return a=e.sent,e.abrupt("return",new La(a,(function(e){return ni(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Va(e,t,n){return Ba.apply(this,arguments)}function Ba(){return Ba=X(te().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Tt("string"===typeof a,t,"argument-error"),Tt(r.type===Ra,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Tt("enroll"===u.type,t,"internal-error"),e.next=13,Ui(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Tt("signin"===u.type,t,"internal-error"),Tt(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ya(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,mr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ba.apply(this,arguments)}function qa(){return(qa=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr(G(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var za=function(){function e(t){o(this,e),this.providerId=e.PROVIDER_ID,this.auth=Fn(t)}return s(e,[{key:"verifyPhoneNumber",value:function(e,t){return Va(this.auth,e,G(t))}}],[{key:"credential",value:function(e,t){return _r._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?_r._fromTokenResponse(n,r):null}}]),e}();function Wa(e,t){return t?Nt(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}za.PROVIDER_ID="phone",za.PHONE_SIGN_IN_METHOD="phone";var Ha=function(e){h(n,e);var t=y(n);function n(e){var r;return o(this,n),(r=t.call(this,"custom","custom")).params=e,r}return s(n,[{key:"_getIdTokenResponse",value:function(e){return dr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return dr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return dr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(zn);function Ka(e){return Yr(e.auth,new Ha(e),e.bypassAuthState)}function Ga(e){var t=e.auth,n=e.user;return Tt(n,t,"internal-error"),Qr(n,new Ha(e),e.bypassAuthState)}function Qa(e){return Za.apply(this,arguments)}function Za(){return(Za=X(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Tt(r=t.user,n,"internal-error"),e.abrupt("return",Wr(r,new Ha(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ya=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];o(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return s(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=X(te().mark((function t(n,r){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=X(te().mark((function e(t){var n,r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ka;case"linkViaPopup":case"linkViaRedirect":return Qa;case"reauthViaPopup":case"reauthViaRedirect":return Ga;default:bt(this.auth,"internal-error")}}},{key:"resolve",value:function(e){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ja=new Pt(2e3,1e4);function $a(e,t,n){return Xa.apply(this,arguments)}function Xa(){return(Xa=X(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fn(t),xt(t,n,Tr),a=Wa(i,r),o=new ro(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(){return(eo=X(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xt((i=G(t)).auth,n,Tr),a=Wa(i.auth,r),o=new ro(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function to(e,t,n){return no.apply(this,arguments)}function no(){return(no=X(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xt((i=G(t)).auth,n,Tr),a=Wa(i.auth,r),o=new ro(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ro=function(e){h(n,e);var t=y(n);function n(e,r,i,a,u){var s;return o(this,n),(s=t.call(this,e,r,a,u)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=l(s),s}return s(n,[{key:"executeNotNull",value:function(){var e=X(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Tt(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=X(te().mark((function e(){var t,n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return St(1===this.filter.length,"Popup operations only handle one event"),t=Yi(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(wt(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(wt(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(wt(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ja.get())}()}}]),n}(Ya);ro.currentPopupAction=null;var io=new Map,ao=function(e){h(n,e);var t=y(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return s(n,[{key:"execute",value:function(){var e=X(te().mark((function e(){var t,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=io.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,oo(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,et(d(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:io.set(this.auth._key(),t);case 21:return this.bypassAuthState||io.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=X(te().mark((function e(t){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",et(d(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",et(d(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ya);function oo(e,t){return uo.apply(this,arguments)}function uo(){return(uo=X(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fo(n),i=lo(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function so(e,t){return co.apply(this,arguments)}function co(){return(co=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(t)._set(fo(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(e){return Nt(e._redirectPersistence)}function fo(e){return _n("pendingRedirect",e.config.apiKey,e.name)}function ho(e,t,n){return function(e,t,n){return po.apply(this,arguments)}(e,t,n)}function po(){return(po=X(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fn(t),xt(t,n,Tr),a=Wa(i,r),e.next=5,so(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vo(e,t,n){return function(e,t,n){return mo.apply(this,arguments)}(e,t,n)}function mo(){return(mo=X(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xt((i=G(t)).auth,n,Tr),a=Wa(i.auth,r),e.next=5,so(a,i.auth);case 5:return e.next=7,xo(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yo(e,t,n){return function(e,t,n){return go.apply(this,arguments)}(e,t,n)}function go(){return(go=X(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xt((i=G(t)).auth,n,Tr),a=Wa(i.auth,r),e.next=5,Kr(!1,i,n.providerId);case 5:return e.next=7,so(a,i.auth);case 7:return e.next=9,xo(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(e,t){return bo.apply(this,arguments)}function bo(){return(bo=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn(t)._initializationPromise;case 2:return e.abrupt("return",wo(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(e,t){return _o.apply(this,arguments)}function _o(){return _o=X(te().mark((function e(t,n){var r,i,a,o,u,s=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Fn(t),a=Wa(i,n),o=new ao(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}function xo(e){return Eo.apply(this,arguments)}function Eo(){return(Eo=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yi("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var To=function(){function e(t){o(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return s(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return So(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!So(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(wt(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Io(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Io(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Io(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function So(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Co(e){return No.apply(this,arguments)}function No(){return No=X(te().mark((function e(t){var n,r=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ut(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}var Ao=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ro=/^https?/;function Oo(){return(Oo=X(te().mark((function e(t){var n,r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Co(t);case 4:n=e.sent,r=n.authorizedDomains,i=(0,c.Z)(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Po(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:bt(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Po(e){var t=At(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ro.test(r))return!1;if(Ao.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Do=new Pt(3e4,6e4);function Lo(){var e=$i().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=J(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Mo=null;function jo(e){return Mo=Mo||function(e){return new Promise((function(t,n){var r,i,a;function o(){Lo(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Lo(),n(wt(e,"network-request-failed"))},timeout:Do.get()})}if(null===(i=null===(r=$i().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=$i().gapi)||void 0===a?void 0:a.load)){var u=wa("iframefcb");return $i()[u]=function(){gapi.load?o():n(wt(e,"network-request-failed"))},ba("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Mo=null,e}))}(e),Mo}var Fo=new Pt(5e3,15e3),Uo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bo(e){var t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Dt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Le},i=Vo.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(B(r).slice(1))}function qo(e){return zo.apply(this,arguments)}function zo(){return zo=X(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(t);case 2:return n=e.sent,Tt(r=$i().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Bo(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uo,dontclear:!0},(function(e){return new Promise(function(){var n=X(te().mark((function n(r,i){var a,o,u;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){$i().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=wt(t,"network-request-failed"),o=$i().setTimeout((function(){i(a)}),Fo.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}var Wo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ho="_blank",Ko="http://localhost",Go=function(){function e(t){o(this,e),this.window=t,this.associatedEvent=null}return s(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Qo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Wo),{width:r.toString(),height:a.toString(),top:o,left:u}),l=S().toLowerCase();n&&(s=Sn(l)?Ho:n),Tn(l)&&(t=t||Ko,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")}),"");if(Pn(l)&&"_self"!==s)return Zo(t||"",s),new Go(null);var h=window.open(t||"",s,f);Tt(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Go(h)}function Zo(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Yo="__/auth/handler",Jo="emulator/auth/handler";function $o(e,t,n,r,a,o){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Le,eventId:a};if(t instanceof Tr){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(o||{});s<c.length;s++){var l=(0,i.Z)(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof Ir){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Yo);return Dt(t,Jo)}(e),"?").concat(B(p).slice(1))}var Xo="webStorageSupport",eu=function(){function e(){o(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gi,this._completeRedirectFn=wo}return s(e,[{key:"_openPopup",value:function(){var e=X(te().mark((function e(t,n,r,i){var a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return St(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=$o(t,n,r,At(),i),e.abrupt("return",Qo(t,o,Yi()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=X(te().mark((function e(t,n,r,i){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=$o(t,n,r,At(),i),$i().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(St(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=X(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qo(t);case 2:return n=e.sent,r=new To(t),n.register("authEvent",(function(e){return Tt(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Xo,{type:Xo},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),bt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Oo.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ln()||In()||On()}}]),e}(),tu=eu,nu=function(e){h(n,e);var t=y(n);function n(e){var r;return o(this,n),(r=t.call(this,"phone")).credential=e,r}return s(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ut(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ut(e,"POST","/v2/accounts/mfaSignIn:finalize",Ft(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){o(this,e),this.factorId=t}return s(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return It("unexpected MultiFactorSessionType")}}}]),e}()),ru=function(){function e(){o(this,e)}return s(e,null,[{key:"assertion",value:function(e){return nu._fromCredential(e)}}]),e}();ru.FACTOR_ID="phone";var iu,au="@firebase/auth",ou="0.19.7",uu=function(){function e(t){o(this,e),this.auth=t,this.internalListeners=new Map}return s(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function su(){return window}iu="Browser",Ie(new ne("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Tt(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Tt(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:iu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mn(iu)},r=new jn(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nt);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ie(new ne("auth-internal",(function(e){return function(e){return new uu(e)}(Fn(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Be(au,ou,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(iu)),Be(au,ou,"esm2017");function cu(e,t,n){return lu.apply(this,arguments)}function lu(){return lu=X(te().mark((function e(t,n,r){var i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=su(),o=a.BuildInfo,St(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,mu(n.sessionId);case 4:return u=e.sent,s={},On()?s.ibi=o.packageName:Nn()?s.apn=o.packageName:bt(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",$o(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(){return(fu=X(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=su(),r=n.BuildInfo,i={},On()?i.iosBundleId=r.packageName:Nn()?i.androidPackageName=r.packageName:bt(t,"operation-not-supported-in-this-environment"),e.next=5,Co(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hu(e){var t=su().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function du(e,t,n){return pu.apply(this,arguments)}function pu(){return pu=X(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=su(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(wt(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Nn()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),pu.apply(this,arguments)}function vu(e){var t,n,r,i,a,o,u,s,c,l,f=su();Tt("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Tt("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Tt("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Tt("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Tt("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function mu(e){return yu.apply(this,arguments)}function yu(){return(yu=X(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gu(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(e){if(St(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var ku=function(e){h(n,e);var t=y(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return s(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),et(d(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(To);function bu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Tu(),postBody:null,tenantId:e.tenantId,error:wt(e,"no-auth-event")}}function wu(e,t){return Iu()._set(Su(e),t)}function _u(e){return xu.apply(this,arguments)}function xu(){return(xu=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iu()._get(Su(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Iu()._remove(Su(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(e,t){var n,r,i=function(e){var t=Cu(e),n=t.link?decodeURIComponent(t.link):void 0,r=Cu(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Cu(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Cu(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?wt(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Tu(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Iu(){return Nt(Hi)}function Su(e){return _n("authEvent",e.config.apiKey,e.name)}function Cu(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,Je.Z)(t)||Z(t)||(0,Y.Z)(t)||(0,$e.Z)());r[0];return q(r.slice(1).join("?"))}var Nu=function(){function e(){o(this,e),this._redirectPersistence=Gi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wo}return s(e,[{key:"_initialize",value:function(){var e=X(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new ku(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){bt(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=X(te().mark((function e(t,n,r,i){var a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vu(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),io.clear(),e.next=10,this._originValidation(t);case 10:return o=bu(t,r,i),e.next=13,wu(t,o);case 13:return e.next=15,cu(t,o,n);case 15:return u=e.sent,e.next=18,hu(u);case 18:return s=e.sent,e.abrupt("return",du(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return fu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=su(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(X(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_u(e);case 2:t.onEvent(Ru());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=X(te().mark((function n(r){var i,a;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,_u(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Eu(i,r.url)),t.onEvent(a||Ru());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");su().handleOpenURL=function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Au=Nu;function Ru(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:wt("no-auth-event")}}function Ou(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Pu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return!("file:"!==Ou()&&"ionic:"!==Ou()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Du(){return O()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/Edge\/\d+/.test(e)}function Mu(){try{var e=self.localStorage,t=Yi();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return Du()||Lu(e)}()||P()}catch(n){return ju()&&P()}return!1}function ju(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Fu(){return("http:"===Ou()||"https:"===Ou()||A()||Pu())&&!(R()||N())&&Mu()&&!ju()}function Uu(){return Pu()&&"undefined"!==typeof document}function Vu(){return Bu.apply(this,arguments)}function Bu(){return(Bu=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Uu()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qu={LOCAL:"local",NONE:"none",SESSION:"session"},zu=Tt,Wu="persistence";function Hu(e,t){zu(Object.values(qu).includes(t),e,"invalid-persistence-type"),R()?zu(t!==qu.SESSION,e,"unsupported-persistence-type"):N()?zu(t===qu.NONE,e,"unsupported-persistence-type"):ju()?zu(t===qu.NONE||t===qu.LOCAL&&P(),e,"unsupported-persistence-type"):zu(t===qu.NONE||Mu(),e,"unsupported-persistence-type")}function Ku(e){return Gu.apply(this,arguments)}function Gu(){return(Gu=X(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Qu(),r=_n(Wu,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qu(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Zu=Tt,Yu=function(){function e(){o(this,e),this.browserResolver=Nt(tu),this.cordovaResolver=Nt(Au),this.underlyingResolver=null,this._redirectPersistence=Gi,this._completeRedirectFn=wo}return s(e,[{key:"_initialize",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=X(te().mark((function e(t,n,r,i){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=X(te().mark((function e(t,n,r,i){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Uu()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Zu(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=X(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Vu();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ju(e){return e.unwrap()}function $u(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new rs(e,function(e,t){var n,r=G(e),i=t;return Tt(t.customData.operationType,r,"argument-error"),Tt(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Fi._fromError(r,i)}(e,t));else if(r){var i=Xu(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Xu(e){var t=(e instanceof D?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof D)&&"temporaryProof"in t&&"phoneNumber"in t)return za.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ot)return null;switch(r){case at:n=Nr;break;case rt:n=Cr;break;case it:n=Ar;break;case ut:n=Pr;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Rr._create(r,u):vr._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Sr(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof D?n.credentialFromError(e):n.credentialFromResult(e)}function es(e,t){return t.catch((function(t){throw t instanceof D&&$u(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Xu(t)),additionalUserInfo:Mi(e),user:is.getOrCreate(r)}}))}function ts(e,t){return ns.apply(this,arguments)}function ns(){return(ns=X(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return es(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rs=function(){function e(t,n){o(this,e),this.resolver=n,this.auth=t.wrapped()}return s(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return es(Ju(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),is=function(){function e(t){o(this,e),this._delegate=t,this.multiFactor=function(e){var t=G(e);return Bi.has(t)||Bi.set(t,Vi._fromUser(t)),Bi.get(t)}(t)}return s(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(this.auth,ei(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ts(this.auth,ja(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(this.auth,to(this._delegate,t,Yu)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ku(Fn(this.auth));case 2:return e.abrupt("return",yo(this._delegate,t,Yu));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(this.auth,ni(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return ts(this.auth,function(e,t,n){return Ua.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return es(this.auth,function(e,t,n){return eo.apply(this,arguments)}(this._delegate,e,Yu))}},{key:"reauthenticateWithRedirect",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ku(Fn(this.auth));case 2:return e.abrupt("return",vo(this._delegate,t,Yu));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return xi.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qr(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ci(G(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ci(G(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return qa.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Si.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ei.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();is.USER_MAP=new WeakMap;var as=Tt,os=function(){function e(t,n){if(o(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;as(r,"invalid-api-key",{appName:t.name}),as(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Yu:void 0;this._delegate=n.initialize({options:{persistence:ss(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(vt),this.linkUnderlyingAuth()}return s(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?is.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Vn(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return hi.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return di(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return fi.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(this._delegate,mi(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return _i.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=xr.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=X(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return as(Fu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ko(this._delegate,Yu);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",es(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Fn(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=us(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=us(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return gi.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return li.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=X(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hu(this._delegate,t),e.t0=t,e.next=e.t0===qu.SESSION?4:e.t0===qu.LOCAL?6:e.t0===qu.NONE?11:13;break;case 4:return n=Gi,e.abrupt("break",14);case 6:return e.next=8,Nt(ma)._isAvailable();case 8:return r=e.sent,n=r?ma:Hi,e.abrupt("break",14);case 11:return n=wn,e.abrupt("break",14);case 13:return e.abrupt("return",bt("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return es(this._delegate,function(e){return Fr.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return es(this._delegate,$r(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return es(this._delegate,function(e,t){return oi.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return es(this._delegate,function(e,t,n){return $r(G(e),Er.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return es(this._delegate,function(e,t,n){return ki.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return ts(this._delegate,function(e,t,n){return Ma.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return as(Fu(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",es(this._delegate,$a(this._delegate,t,Yu)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return as(Fu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ku(this._delegate);case 3:return e.abrupt("return",ho(this._delegate,t,Yu));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return vi.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function us(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&is.getOrCreate(e))},error:t,complete:n}}function ss(e,t){var n=function(e,t){var n=Qu();if(!n)return[];var r=_n(Wu,e,t);switch(n.getItem(r)){case qu.NONE:return[wn];case qu.LOCAL:return[ma,Gi];case qu.SESSION:return[Gi];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ma)||n.push(ma),"undefined"!==typeof window)for(var r=0,i=[Hi,Gi];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(wn)||n.push(wn),n}os.Persistence=qu;var cs=function(){function e(){o(this,e),this.providerId="phone",this._delegate=new za(Ju(Ye.auth()))}return s(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return za.credential(e,t)}}]),e}();cs.PHONE_SIGN_IN_METHOD=za.PHONE_SIGN_IN_METHOD,cs.PROVIDER_ID=za.PROVIDER_ID;var ls,fs=Tt,hs=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ye.app();o(this,e),fs(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Pa(t,n,i.auth()),this.type=this._delegate.type}return s(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(ls=Ye).INTERNAL.registerComponent(new ne("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new os(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:st,PASSWORD_RESET:ct,RECOVER_EMAIL:lt,REVERT_SECOND_FACTOR_ADDITION:ft,VERIFY_AND_CHANGE_EMAIL:ht,VERIFY_EMAIL:dt}},EmailAuthProvider:Er,FacebookAuthProvider:Cr,GithubAuthProvider:Ar,GoogleAuthProvider:Nr,OAuthProvider:Sr,SAMLAuthProvider:Or,PhoneAuthProvider:cs,PhoneMultiFactorGenerator:ru,RecaptchaVerifier:hs,TwitterAuthProvider:Pr,Auth:os,AuthCredential:zn,Error:D}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ls.registerVersion("@firebase/auth-compat","0.2.7");var ds,ps="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},vs={},ms=ms||{},ys=ps||self;function gs(){}function ks(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ws="closure_uid_"+(1e9*Math.random()>>>0),_s=0;function xs(e,t,n){return e.call.apply(e.bind,arguments)}function Es(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ts(e,t,n){return(Ts=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xs:Es).apply(null,arguments)}function Is(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ss(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Cs(){this.s=this.s,this.o=this.o}var Ns={};Cs.prototype.s=!1,Cs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ws)&&e[ws]||(e[ws]=++_s)}(this);delete Ns[e]}},Cs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var As=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Rs=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Os(e){return Array.prototype.concat.apply([],arguments)}function Ps(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ds(e){return/^[\s\xa0]*$/.test(e)}var Ls,Ms=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function js(e,t){return-1!=e.indexOf(t)}function Fs(e,t){return e<t?-1:e>t?1:0}e:{var Us=ys.navigator;if(Us){var Vs=Us.userAgent;if(Vs){Ls=Vs;break e}}Ls=""}function Bs(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function qs(e){var t={};for(var n in e)t[n]=e[n];return t}var zs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ws(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<zs.length;a++)n=zs[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Hs(e){return Hs[" "](e),e}Hs[" "]=gs;var Ks,Gs=js(Ls,"Opera"),Qs=js(Ls,"Trident")||js(Ls,"MSIE"),Zs=js(Ls,"Edge"),Ys=Zs||Qs,Js=js(Ls,"Gecko")&&!(js(Ls.toLowerCase(),"webkit")&&!js(Ls,"Edge"))&&!(js(Ls,"Trident")||js(Ls,"MSIE"))&&!js(Ls,"Edge"),$s=js(Ls.toLowerCase(),"webkit")&&!js(Ls,"Edge");function Xs(){var e=ys.document;return e?e.documentMode:void 0}e:{var ec="",tc=function(){var e=Ls;return Js?/rv:([^\);]+)(\)|;)/.exec(e):Zs?/Edge\/([\d\.]+)/.exec(e):Qs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$s?/WebKit\/(\S+)/.exec(e):Gs?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tc&&(ec=tc?tc[1]:""),Qs){var nc=Xs();if(null!=nc&&nc>parseFloat(ec)){Ks=String(nc);break e}}Ks=ec}var rc,ic={};function ac(){return function(e){var t=ic;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ms(String(Ks)).split("."),n=Ms("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Fs(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Fs(0==a[2].length,0==o[2].length)||Fs(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ys.document&&Qs){var oc=Xs();rc=oc||(parseInt(Ks,10)||void 0)}else rc=void 0;var uc=rc,sc=function(){if(!ys.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ys.addEventListener("test",gs,t),ys.removeEventListener("test",gs,t)}catch(n){}return e}();function cc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function lc(e,t){if(cc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Js){e:{try{Hs(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:fc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&lc.Z.h.call(this)}}cc.prototype.h=function(){this.defaultPrevented=!0},Ss(lc,cc);var fc={2:"touch",3:"pen",4:"mouse"};lc.prototype.h=function(){lc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hc="closure_listenable_"+(1e6*Math.random()|0),dc=0;function pc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++dc,this.ca=this.fa=!1}function vc(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function mc(e){this.src=e,this.g={},this.h=0}function yc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=As(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(vc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gc(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}mc.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=gc(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new pc(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var kc="closure_lm_"+(1e6*Math.random()|0),bc={};function wc(e,t,n,r,i){if(r&&r.once)return xc(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)wc(e,t[a],n,r,i);return null}return n=Ac(n),e&&e[hc]?e.N(t,n,bs(r)?!!r.capture:!!r,i):_c(e,t,n,!1,r,i)}function _c(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=bs(i)?!!i.capture:!!i,u=Cc(e);if(u||(e[kc]=u=new mc(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Sc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)sc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ic(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xc(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)xc(e,t[a],n,r,i);return null}return n=Ac(n),e&&e[hc]?e.O(t,n,bs(r)?!!r.capture:!!r,i):_c(e,t,n,!0,r,i)}function Ec(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ec(e,t[a],n,r,i);else r=bs(r)?!!r.capture:!!r,n=Ac(n),e&&e[hc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=gc(a=e.g[t],n,r,i))&&(vc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Cc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gc(t,n,r,i)),(n=-1<e?t[e]:null)&&Tc(n))}function Tc(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[hc])yc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ic(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Cc(t))?(yc(n,e),0==n.h&&(n.src=null,t[kc]=null)):vc(e)}}}function Ic(e){return e in bc?bc[e]:bc[e]="on"+e}function Sc(e,t){if(e.ca)e=!0;else{t=new lc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Tc(e),e=n.call(r,t)}return e}function Cc(e){return(e=e[kc])instanceof mc?e:null}var Nc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ac(e){return"function"===typeof e?e:(e[Nc]||(e[Nc]=function(t){return e.handleEvent(t)}),e[Nc])}function Rc(){Cs.call(this),this.i=new mc(this),this.P=this,this.I=null}function Oc(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new cc(t,e);else if(t instanceof cc)t.target=t.target||e;else{var i=t;Ws(t=new cc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Pc(o,r,!0,t)&&i}if(i=Pc(o=t.g=e,r,!0,t)&&i,i=Pc(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Pc(o=t.g=n[a],r,!1,t)&&i}function Pc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&yc(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ss(Rc,Cs),Rc.prototype[hc]=!0,Rc.prototype.removeEventListener=function(e,t,n,r){Ec(this,e,t,n,r)},Rc.prototype.M=function(){if(Rc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vc(n[r]);delete t.g[e],t.h--}}this.I=null},Rc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Rc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Dc=ys.JSON.stringify;function Lc(){var e=zc,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Mc,jc=function(){function e(){o(this,e),this.h=this.g=null}return s(e,[{key:"add",value:function(e,t){var n=Fc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Fc=new(function(){function e(t,n){o(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return s(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Uc}),(function(e){return e.reset()})),Uc=function(){function e(){o(this,e),this.next=this.g=this.h=null}return s(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Vc(e){ys.setTimeout((function(){throw e}),0)}function Bc(e,t){Mc||function(){var e=ys.Promise.resolve(void 0);Mc=function(){e.then(Wc)}}(),qc||(Mc(),qc=!0),zc.add(e,t)}var qc=!1,zc=new jc;function Wc(){for(var e;e=Lc();){try{e.h.call(e.g)}catch(n){Vc(n)}var t=Fc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qc=!1}function Hc(e,t){Rc.call(this),this.h=e||1,this.g=t||ys,this.j=Ts(this.kb,this),this.l=Date.now()}function Kc(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Gc(e,t,n){if("function"===typeof e)n&&(e=Ts(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ts(e.handleEvent,e)}return 2147483647<Number(t)?-1:ys.setTimeout(e,t||0)}function Qc(e){e.g=Gc((function(){e.g=null,e.i&&(e.i=!1,Qc(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ss(Hc,Rc),(ds=Hc.prototype).da=!1,ds.S=null,ds.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Oc(this,"tick"),this.da&&(Kc(this),this.start()))}},ds.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ds.M=function(){Hc.Z.M.call(this),Kc(this),delete this.g};var Zc=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return s(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Qc(this)}},{key:"M",value:function(){et(d(n.prototype),"M",this).call(this),this.g&&(ys.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Cs);function Yc(e){Cs.call(this),this.h=e,this.g={}}Ss(Yc,Cs);var Jc=[];function $c(e,t,n,r){Array.isArray(n)||(n&&(Jc[0]=n.toString()),n=Jc);for(var i=0;i<n.length;i++){var a=wc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Xc(e){Bs(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Tc(e)}),e),e.g={}}function el(){this.g=!0}function tl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Dc(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Yc.prototype.M=function(){Yc.Z.M.call(this),Xc(this)},Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},el.prototype.Aa=function(){this.g=!1},el.prototype.info=function(){};var nl={},rl=null;function il(){return rl=rl||new Rc}function al(e){cc.call(this,nl.Ma,e)}function ol(e){var t=il();Oc(t,new al(t,e))}function ul(e,t){cc.call(this,nl.STAT_EVENT,e),this.stat=t}function sl(e){var t=il();Oc(t,new ul(t,e))}function cl(e,t){cc.call(this,nl.Na,e),this.size=t}function ll(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ys.setTimeout((function(){e()}),t)}nl.Ma="serverreachability",Ss(al,cc),nl.STAT_EVENT="statevent",Ss(ul,cc),nl.Na="timingevent",Ss(cl,cc);var fl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hl={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dl(){}function pl(e){return e.h||(e.h=e.i())}function vl(){}dl.prototype.h=null;var ml,yl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gl(){cc.call(this,"d")}function kl(){cc.call(this,"c")}function bl(){}function wl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Yc(this),this.P=xl,e=Ys?125:void 0,this.W=new Hc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _l}function _l(){this.i=null,this.g="",this.h=!1}Ss(gl,cc),Ss(kl,cc),Ss(bl,dl),bl.prototype.g=function(){return new XMLHttpRequest},bl.prototype.i=function(){return{}},ml=new bl;var xl=45e3,El={},Tl={};function Il(e,t,n){e.K=1,e.v=Zl(zl(t)),e.s=n,e.U=!0,Sl(e,null)}function Sl(e,t){e.F=Date.now(),Rl(e),e.A=zl(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),cf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new _l,e.g=fh(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Zc(Ts(e.Ia,e,e.g),e.O)),$c(e.V,e.g,"readystatechange",e.gb),t=e.H?qs(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ol(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Cl(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Nl(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Al(e,n))==Tl){4==t&&(e.o=4,sl(14),i=!1),tl(e.j,e.m,null,"[Incomplete Response]");break}if(r==El){e.o=4,sl(15),tl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}tl(e.j,e.m,r,null),Ml(e,r)}Cl(e)&&r!=Tl&&r!=El&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,sl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),rh(t),t.L=!0,sl(11))):(tl(e.j,e.m,n,"[Invalid Chunked Response]"),Ll(e),Dl(e))}function Al(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Tl:(n=Number(t.substring(n,r)),isNaN(n)?El:(r+=1)+n>t.length?Tl:(t=t.substr(r,n),e.C=r+n,t))}function Rl(e){e.Y=Date.now()+e.P,Ol(e,e.P)}function Ol(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ll(Ts(e.eb,e),t)}function Pl(e){e.B&&(ys.clearTimeout(e.B),e.B=null)}function Dl(e){0==e.l.G||e.I||oh(e.l,e)}function Ll(e){Pl(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Kc(e.W),Xc(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ml(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||yf(n.i,e)))if(n.I=e.N,!e.J&&yf(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ah(n),Qf(n)}nh(n),sl(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ll(Ts(n.ab,n),6e3));if(1>=mf(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else sh(n,11)}else if((e.J||n.g==e)&&ah(n),!Ds(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(js(l,"spdy")||js(l,"quic")||js(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(gf(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ql(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=lh(r,r.H?r.la:null,r.W),d.J){kf(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Pl(p),Rl(p)),r.g=d}else th(r);0<n.l.length&&Jf(n)}else"stop"!=a[0]&&"close"!=a[0]||sh(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?sh(n,7):Gf(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ol(4)}catch(a){}}function jl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ks(e)||"string"===typeof e)Rs(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ks(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ks(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Fl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Fl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ul(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Vl(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Vl(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Vl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ds=wl.prototype).setTimeout=function(e){this.P=e},ds.gb=function(e){e=e.target;var t=this.L;t&&3==qf(e)?t.l():this.Ia(e)},ds.Ia=function(e){try{if(e==this.g)e:{var t=qf(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ys||this.g&&(this.h.h||this.g.ga()||zf(this.g)))){this.I||4!=t||7==n||ol(8==n||0>=r?3:2),Pl(this);var i=this.g.ba();this.N=i;t:if(Cl(this)){var a=zf(this.g);e="";var o=a.length,u=4==qf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ll(this),Dl(this);var s="";break t}this.h.i=new ys.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ds(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,sl(12),Ll(this),Dl(this);break e}tl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ml(this,i)}this.U?(Nl(this,t,s),Ys&&this.i&&3==t&&($c(this.V,this.W,"tick",this.fb),this.W.start())):(tl(this.j,this.m,s,null),Ml(this,s)),4==t&&Ll(this),this.i&&!this.I&&(4==t?oh(this.l,this):(this.i=!1,Rl(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,sl(12)):(this.o=0,sl(13)),Ll(this),Dl(this)}}}catch(t){}},ds.fb=function(){if(this.g){var e=qf(this.g),t=this.g.ga();this.C<t.length&&(Pl(this),Nl(this,e,t),this.i&&4!=e&&Rl(this))}},ds.cancel=function(){this.I=!0,Ll(this)},ds.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ol(3),sl(17)),Ll(this),this.o=2,Dl(this)):Ol(this,this.Y-e)},(ds=Fl.prototype).R=function(){Ul(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ds.T=function(){return Ul(this),this.g.concat()},ds.get=function(e,t){return Vl(this.h,e)?this.h[e]:t},ds.set=function(e,t){Vl(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ds.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Bl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ql(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ql){this.g=void 0!==t?t:e.g,Wl(this,e.j),this.s=e.s,Hl(this,e.i),Kl(this,e.m),this.l=e.l,t=e.h;var n=new af;n.i=t.i,t.g&&(n.g=new Fl(t.g),n.h=t.h),Gl(this,n),this.o=e.o}else e&&(n=String(e).match(Bl))?(this.g=!!t,Wl(this,n[1]||"",!0),this.s=Yl(n[2]||""),Hl(this,n[3]||"",!0),Kl(this,n[4]),this.l=Yl(n[5]||"",!0),Gl(this,n[6]||"",!0),this.o=Yl(n[7]||"")):(this.g=!!t,this.h=new af(null,this.g))}function zl(e){return new ql(e)}function Wl(e,t,n){e.j=n?Yl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Hl(e,t,n){e.i=n?Yl(t,!0):t}function Kl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gl(e,t,n){t instanceof af?(e.h=t,function(e,t){t&&!e.j&&(of(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(uf(this,t),cf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Jl(t,nf)),e.h=new af(t,e.g))}function Ql(e,t,n){e.h.set(t,n)}function Zl(e){return Ql(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Yl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$l),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $l(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ql.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Jl(t,Xl,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Jl(t,Xl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Jl(n,"/"==n.charAt(0)?tf:ef,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Jl(n,rf)),e.join("")};var Xl=/[#\/\?@]/g,ef=/[#\?:]/g,tf=/[#\?]/g,nf=/[#\?@]/g,rf=/#/g;function af(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function of(e){e.g||(e.g=new Fl,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function uf(e,t){of(e),t=lf(e,t),Vl(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Vl((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ul(e)))}function sf(e,t){return of(e),t=lf(e,t),Vl(e.g.h,t)}function cf(e,t,n){uf(e,t),0<n.length&&(e.i=null,e.g.set(lf(e,t),Ps(n)),e.h+=n.length)}function lf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ds=af.prototype).add=function(e,t){of(this),this.i=null,e=lf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ds.forEach=function(e,t){of(this),this.g.forEach((function(n,r){Rs(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ds.T=function(){of(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ds.R=function(e){of(this);var t=[];if("string"===typeof e)sf(this,e)&&(t=Os(t,this.g.get(lf(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Os(t,e[n])}return t},ds.set=function(e,t){return of(this),this.i=null,sf(this,e=lf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ds.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ds.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ff=s((function e(t,n){o(this,e),this.h=t,this.g=n}));function hf(e){this.l=e||pf,ys.PerformanceNavigationTiming?e=0<(e=ys.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ys.g&&ys.g.Ea&&ys.g.Ea()&&ys.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var df,pf=10;function vf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function mf(e){return e.h?1:e.g?e.g.size:0}function yf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function gf(e,t){e.g?e.g.add(t):e.h=t}function kf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function bf(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=(0,c.Z)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ps(e.i)}function wf(){}function _f(){this.g=new wf}function xf(e,t,n){var r=n||"";try{jl(e,(function(e,n){var i=e;bs(e)&&(i=Dc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ef(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Tf(e){this.l=e.$b||null,this.j=e.ib||!1}function If(e,t){Rc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hf.prototype.cancel=function(){if(this.i=bf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=(0,c.Z)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},wf.prototype.stringify=function(e){return ys.JSON.stringify(e,void 0)},wf.prototype.parse=function(e){return ys.JSON.parse(e,void 0)},Ss(Tf,dl),Tf.prototype.g=function(){return new If(this.l,this.j)},Tf.prototype.i=(df={},function(){return df}),Ss(If,Rc);var Sf=0;function Cf(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Nf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Af(e)}function Af(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ds=If.prototype).open=function(e,t){if(this.readyState!=Sf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Af(this)},ds.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ys).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ds.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nf(this)),this.readyState=Sf},ds.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Af(this)),this.g&&(this.readyState=3,Af(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ys.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cf(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ds.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nf(this):Af(this),3==this.readyState&&Cf(this)}},ds.Ua=function(e){this.g&&(this.response=this.responseText=e,Nf(this))},ds.Ta=function(e){this.g&&(this.response=e,Nf(this))},ds.ha=function(){this.g&&Nf(this)},ds.setRequestHeader=function(e,t){this.v.append(e,t)},ds.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ds.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(If.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Rf=ys.JSON.parse;function Of(e){Rc.call(this),this.headers=new Fl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Pf,this.K=this.L=!1}Ss(Of,Rc);var Pf="",Df=/^https?$/i,Lf=["POST","PUT"];function Mf(e){return"content-type"==e.toLowerCase()}function jf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ff(e),Vf(e)}function Ff(e){e.D||(e.D=!0,Oc(e,"complete"),Oc(e,"error"))}function Uf(e){if(e.h&&"undefined"!=typeof ms&&(!e.C[1]||4!=qf(e)||2!=e.ba()))if(e.v&&4==qf(e))Gc(e.Fa,0,e);else if(Oc(e,"readystatechange"),4==qf(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Bl)[1]||null;if(!a&&ys.self&&ys.self.location){var o=ys.self.location.protocol;a=o.substr(0,o.length-1)}i=!Df.test(a?a.toLowerCase():"")}t=i}if(t)Oc(e,"complete"),Oc(e,"success");else{e.m=6;try{var u=2<qf(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Ff(e)}}finally{Vf(e)}}}function Vf(e,t){if(e.g){Bf(e);var n=e.g,r=e.C[0]?gs:null;e.g=null,e.C=null,t||Oc(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Bf(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ys.clearTimeout(e.A),e.A=null)}function qf(e){return e.g?e.g.readyState:0}function zf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Pf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Bs(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ql(e,t,n))}function Hf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kf(e){this.za=0,this.l=[],this.h=new el,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hf("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hf("baseRetryDelayMs",5e3,e),this.$a=Hf("retryDelaySeedMs",1e4,e),this.Ya=Hf("forwardChannelMaxRetries",2,e),this.ra=Hf("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new hf(e&&e.concurrentRequestLimit),this.Ca=new _f,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Gf(e){if(Zf(e),3==e.G){var t=e.V++,n=zl(e.F);Ql(n,"SID",e.J),Ql(n,"RID",t),Ql(n,"TYPE","terminate"),Xf(e,n),(t=new wl(e,e.h,t,void 0)).K=2,t.v=Zl(zl(n)),n=!1,ys.navigator&&ys.navigator.sendBeacon&&(n=ys.navigator.sendBeacon(t.v.toString(),"")),!n&&ys.Image&&((new Image).src=t.v,n=!0),n||(t.g=fh(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Rl(t)}ch(e)}function Qf(e){e.g&&(rh(e),e.g.cancel(),e.g=null)}function Zf(e){Qf(e),e.u&&(ys.clearTimeout(e.u),e.u=null),ah(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ys.clearTimeout(e.m),e.m=null)}function Yf(e,t){e.l.push(new ff(e.Za++,t)),3==e.G&&Jf(e)}function Jf(e){vf(e.i)||e.m||(e.m=!0,Bc(e.Ha,e),e.C=0)}function $f(e,t){var n;n=t?t.m:e.V++;var r=zl(e.F);Ql(r,"SID",e.J),Ql(r,"RID",n),Ql(r,"AID",e.U),Xf(e,r),e.o&&e.s&&Wf(r,e.o,e.s),n=new wl(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=eh(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),gf(e.i,n),Il(n,r,t)}function Xf(e,t){e.j&&jl({},(function(e,n){Ql(t,n,e)}))}function eh(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ts(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{xf(l,o,"req"+c+"_")}catch(qh){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function th(e){e.g||e.u||(e.Y=1,Bc(e.Ga,e),e.A=0)}function nh(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ll(Ts(e.Ga,e),uh(e,e.A)),e.A++,!0)}function rh(e){null!=e.B&&(ys.clearTimeout(e.B),e.B=null)}function ih(e){e.g=new wl(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=zl(e.oa);Ql(t,"RID","rpc"),Ql(t,"SID",e.J),Ql(t,"CI",e.N?"0":"1"),Ql(t,"AID",e.U),Xf(e,t),Ql(t,"TYPE","xmlhttp"),e.o&&e.s&&Wf(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Zl(zl(t)),n.s=null,n.U=!0,Sl(n,e)}function ah(e){null!=e.v&&(ys.clearTimeout(e.v),e.v=null)}function oh(e,t){var n=null;if(e.g==t){ah(e),rh(e),e.g=null;var r=2}else{if(!yf(e.i,t))return;n=t.D,kf(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Oc(r=il(),new cl(r,n,t,i)),Jf(e)}else th(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(mf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ll(Ts(e.Ha,e,t),uh(e,e.C)),e.C++,!0))}(e,t)||2==r&&nh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:sh(e,5);break;case 4:sh(e,10);break;case 3:sh(e,6);break;default:sh(e,2)}}function uh(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function sh(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ts(e.jb,e);n||(n=new ql("//www.google.com/images/cleardot.gif"),ys.location&&"http"==ys.location.protocol||Wl(n,"https"),Zl(n)),function(e,t){var n=new el;if(ys.Image){var r=new Image;r.onload=Is(Ef,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Is(Ef,n,r,"TestLoadImage: error",!1,t),r.onabort=Is(Ef,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Is(Ef,n,r,"TestLoadImage: timeout",!1,t),ys.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else sl(2);e.G=0,e.j&&e.j.va(t),ch(e),Zf(e)}function ch(e){e.G=0,e.I=-1,e.j&&(0==bf(e.i).length&&0==e.l.length||(e.i.i.length=0,Ps(e.l),e.l.length=0),e.j.ua())}function lh(e,t,n){var r=function(e){return e instanceof ql?zl(e):new ql(e,void 0)}(n);if(""!=r.i)t&&Hl(r,t+"."+r.i),Kl(r,r.m);else{var i=ys.location;r=function(e,t,n,r){var i=new ql(null,void 0);return e&&Wl(i,e),t&&Hl(i,t),n&&Kl(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Bs(e.aa,(function(e,t){Ql(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ql(r,t,n),Ql(r,"VER",e.ma),Xf(e,r),r}function fh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Of(new Tf({ib:!0})):new Of(e.qa)).L=e.H,t}function hh(){}function dh(){if(Qs&&!(10<=Number(uc)))throw Error("Environmental error: no available transport.")}function ph(e,t){Rc.call(this),this.g=new Kf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ds(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ds(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yh(this)}function vh(e){gl.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mh(){kl.call(this),this.status=1}function yh(e){this.g=e}(ds=Of.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ml.g(),this.C=this.u?pl(this.u):pl(ml),this.g.onreadystatechange=Ts(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void jf(this,a)}e=n||"";var i=new Fl(this.headers);r&&jl(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Mf,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ys.FormData&&e instanceof ys.FormData,!(0<=As(Lf,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bf(this),0<this.B&&((this.K=function(e){return Qs&&ac()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ts(this.pa,this)):this.A=Gc(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){jf(this,a)}},ds.pa=function(){"undefined"!=typeof ms&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oc(this,"timeout"),this.abort(8))},ds.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Oc(this,"complete"),Oc(this,"abort"),Vf(this))},ds.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vf(this,!0)),Of.Z.M.call(this)},ds.Fa=function(){this.s||(this.F||this.v||this.l?Uf(this):this.cb())},ds.cb=function(){Uf(this)},ds.ba=function(){try{return 2<qf(this)?this.g.status:-1}catch(df){return-1}},ds.ga=function(){try{return this.g?this.g.responseText:""}catch(df){return""}},ds.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Rf(t)}},ds.Da=function(){return this.m},ds.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ds=Kf.prototype).ma=8,ds.G=1,ds.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},ds.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new wl(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ws(n=qs(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=eh(this,t,r),Ql(i=zl(this.F),"RID",e),Ql(i,"CVER",22),this.D&&Ql(i,"X-HTTP-Session-Id",this.D),Xf(this,i),this.o&&n&&Wf(i,this.o,n),gf(this.i,t),this.Ra&&Ql(i,"TYPE","init"),this.ja?(Ql(i,"$req",r),Ql(i,"SID","null"),t.$=!0,Il(t,i,null)):Il(t,i,r),this.G=2}}else 3==this.G&&(e?$f(this,e):0==this.l.length||vf(this.i)||$f(this))},ds.Ga=function(){if(this.u=null,ih(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ll(Ts(this.bb,this),e)}},ds.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,sl(10),Qf(this),ih(this))},ds.ab=function(){null!=this.v&&(this.v=null,Qf(this),nh(this),sl(19))},ds.jb=function(e){e?(this.h.info("Successfully pinged google.com"),sl(2)):(this.h.info("Failed to ping google.com"),sl(1))},(ds=hh.prototype).xa=function(){},ds.wa=function(){},ds.va=function(){},ds.ua=function(){},ds.Oa=function(){},dh.prototype.g=function(e,t){return new ph(e,t)},Ss(ph,Rc),ph.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Bc(Ts(e.hb,e,t))),sl(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=lh(e,null,e.W),Jf(e)},ph.prototype.close=function(){Gf(this.g)},ph.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Yf(this.g,t)}else this.v?((t={}).__data__=Dc(e),Yf(this.g,t)):Yf(this.g,e)},ph.prototype.M=function(){this.g.j=null,delete this.j,Gf(this.g),delete this.g,ph.Z.M.call(this)},Ss(vh,gl),Ss(mh,kl),Ss(yh,hh),yh.prototype.xa=function(){Oc(this.g,"a")},yh.prototype.wa=function(e){Oc(this.g,new vh(e))},yh.prototype.va=function(e){Oc(this.g,new mh(e))},yh.prototype.ua=function(){Oc(this.g,"b")},dh.prototype.createWebChannel=dh.prototype.g,ph.prototype.send=ph.prototype.u,ph.prototype.open=ph.prototype.m,ph.prototype.close=ph.prototype.close,fl.NO_ERROR=0,fl.TIMEOUT=8,fl.HTTP_ERROR=6,hl.COMPLETE="complete",vl.EventType=yl,yl.OPEN="a",yl.CLOSE="b",yl.ERROR="c",yl.MESSAGE="d",Rc.prototype.listen=Rc.prototype.N,Of.prototype.listenOnce=Of.prototype.O,Of.prototype.getLastError=Of.prototype.La,Of.prototype.getLastErrorCode=Of.prototype.Da,Of.prototype.getStatus=Of.prototype.ba,Of.prototype.getResponseJson=Of.prototype.Qa,Of.prototype.getResponseText=Of.prototype.ga,Of.prototype.send=Of.prototype.ea;var gh=vs.createWebChannelTransport=function(){return new dh},kh=vs.getStatEventTarget=function(){return il()},bh=vs.ErrorCode=fl,wh=vs.EventType=hl,_h=vs.Event=nl,xh=vs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Eh=vs.FetchXmlHttpFactory=Tf,Th=vs.WebChannel=vl,Ih=vs.XhrIo=Of,Sh="@firebase/firestore",Ch=function(){function e(t){o(this,e),this.uid=t}return s(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ch.UNAUTHENTICATED=new Ch(null),Ch.GOOGLE_CREDENTIALS=new Ch("google-credentials-uid"),Ch.FIRST_PARTY=new Ch("first-party-uid"),Ch.MOCK_USER=new Ch("mock-user");var Nh="9.6.5",Ah=new ve("@firebase/firestore");function Rh(){return Ah.logLevel}function Oh(e){if(Ah.logLevel<=oe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lh);Ah.debug.apply(Ah,["Firestore (".concat(Nh,"): ").concat(e)].concat(J(i)))}}function Ph(e){if(Ah.logLevel<=oe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lh);Ah.error.apply(Ah,["Firestore (".concat(Nh,"): ").concat(e)].concat(J(i)))}}function Dh(e){if(Ah.logLevel<=oe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lh);Ah.warn.apply(Ah,["Firestore (".concat(Nh,"): ").concat(e)].concat(J(i)))}}function Lh(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Mh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Nh,") INTERNAL ASSERTION FAILED: ")+e;throw Ph(t),new Error(t)}function jh(e,t){e||Mh()}function Fh(e,t){return e}var Uh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Vh=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return s(n)}(D),Bh=s((function e(){var t=this;o(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),qh=s((function e(t,n){o(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),zh=function(){function e(){o(this,e)}return s(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ch.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Wh=function(){function e(t){o(this,e),this.token=t,this.changeListener=null}return s(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Hh=function(){function e(t){o(this,e),this.t=t,this.currentUser=Ch.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return s(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Bh;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Bh,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Oh("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Oh("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Oh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(jh("string"==typeof n.accessToken),new qh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return jh(null===e||"string"==typeof e),new Ch(e)}}]),e}(),Kh=s((function e(t,n,r){o(this,e),this.type="FirstParty",this.user=Ch.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Gh=function(){function e(t,n,r){o(this,e),this.h=t,this.l=n,this.m=r}return s(e,[{key:"getToken",value:function(){return Promise.resolve(new Kh(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ch.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Qh=s((function e(t){o(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Zh=function(){function e(t){o(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return s(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Oh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Oh("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Oh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(jh("string"==typeof e.token),new Qh(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Yh=function(){function e(t,n){var r=this;o(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return s(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Jh(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Yh.I=-1;var $h=function(){function e(){o(this,e)}return s(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Jh(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Xh(e,t){return e<t?-1:e>t?1:0}function ed(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function td(e){return e+"\0"}var nd=function(){function e(t,n){if(o(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Vh(Uh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Vh(Uh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Vh(Uh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Vh(Uh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return s(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Xh(this.nanoseconds,e.nanoseconds):Xh(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),rd=function(){function e(t){o(this,e),this.timestamp=t}return s(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new nd(0,0))}}]),e}();function id(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ad(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function od(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ud=function(){function e(t,n,r){o(this,e),void 0===n?n=0:n>t.length&&Mh(),void 0===r?r=t.length-n:r>t.length-n&&Mh(),this.segments=t,this.offset=n,this.len=r}return s(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),sd=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Vh(Uh.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,J(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ud),cd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ld=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return cd.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Vh(Uh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Vh(Uh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Vh(Uh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Vh(Uh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ud),fd=function(){function e(t){o(this,e),this.fields=t,t.sort(ld.comparator)}return s(e,[{key:"covers",value:function(e){var t,n=(0,c.Z)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ed(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var hd=function(e){function t(e){o(this,t),this.binaryString=e}return s(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Xh(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();hd.EMPTY_BYTE_STRING=new hd("");var dd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pd(e){if(jh(!!e),"string"==typeof e){var t=0,n=dd.exec(e);if(jh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:vd(e.seconds),nanos:vd(e.nanos)}}function vd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function md(e){return"string"==typeof e?hd.fromBase64String(e):hd.fromUint8Array(e)}function yd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gd(e){var t=e.mapValue.fields.__previous_value__;return yd(t)?gd(t):t}function kd(e){var t=pd(e.mapValue.fields.__local_write_time__.timestampValue);return new nd(t.seconds,t.nanos)}function bd(e){return null==e}function wd(e){return 0===e&&1/e==-1/0}function _d(e){return"number"==typeof e&&Number.isInteger(e)&&!wd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var xd=function(){function e(t){o(this,e),this.path=t}return s(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===sd.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(sd.fromString(t))}},{key:"fromName",value:function(t){return new e(sd.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return sd.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new sd(t.slice()))}}]),e}();function Ed(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yd(e)?4:10:Mh()}function Td(e,t){if(e===t)return!0;var n=Ed(e);if(n!==Ed(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return kd(e).isEqual(kd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=pd(e.timestampValue),r=pd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return md(e.bytesValue).isEqual(md(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return vd(e.geoPointValue.latitude)===vd(t.geoPointValue.latitude)&&vd(e.geoPointValue.longitude)===vd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return vd(e.integerValue)===vd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=vd(e.doubleValue),r=vd(t.doubleValue);return n===r?wd(n)===wd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ed(e.arrayValue.values||[],t.arrayValue.values||[],Td);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(id(n)!==id(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Td(n[i],r[i])))return!1;return!0}(e,t);default:return Mh()}}function Id(e,t){return void 0!==(e.values||[]).find((function(e){return Td(e,t)}))}function Sd(e,t){if(e===t)return 0;var n=Ed(e),r=Ed(t);if(n!==r)return Xh(n,r);switch(n){case 0:return 0;case 1:return Xh(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=vd(e.integerValue||e.doubleValue),r=vd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cd(e.timestampValue,t.timestampValue);case 4:return Cd(kd(e),kd(t));case 5:return Xh(e.stringValue,t.stringValue);case 6:return function(e,t){var n=md(e),r=md(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Xh(n[i],r[i]);if(0!==a)return a}return Xh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Xh(vd(e.latitude),vd(t.latitude));return 0!==n?n:Xh(vd(e.longitude),vd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Sd(n[i],r[i]);if(a)return a}return Xh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Xh(r[o],a[o]);if(0!==u)return u;var s=Sd(n[r[o]],i[a[o]]);if(0!==s)return s}return Xh(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Mh()}}function Cd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xh(e,t);var n=pd(e),r=pd(t),i=Xh(n.seconds,r.seconds);return 0!==i?i:Xh(n.nanos,r.nanos)}function Nd(e){return Ad(e)}function Ad(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=pd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?md(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,xd.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=(0,c.Z)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ad(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=(0,c.Z)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(Ad(e.fields[o]))}}catch(u){a.e(u)}finally{a.f()}return r+"}"}(e.mapValue):Mh();var t,n}function Rd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Od(e){return!!e&&"integerValue"in e}function Pd(e){return!!e&&"arrayValue"in e}function Dd(e){return!!e&&"nullValue"in e}function Ld(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Md(e){return!!e&&"mapValue"in e}function jd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ad(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=jd(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=jd(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Fd=function(){function e(t){o(this,e),this.value=t}return s(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Md(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(t)}},{key:"setAll",value:function(e){var t=this,n=ld.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=jd(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Md(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Td(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Md(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ad(t,(function(t,n){return e[t]=n}));var r,i=(0,c.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(jd(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ud(e){var t=[];return ad(e.fields,(function(e,n){var r=new ld([e]);if(Md(n)){var i=Ud(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=(0,c.Z)(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new fd(t)}var Vd=function(){function e(t,n,r,i,a){o(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return s(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Fd.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Fd.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,rd.min(),Fd.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Fd.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Fd.empty(),2)}}]),e}(),Bd=s((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;o(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=s,this.R=null}));function qd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Bd(e,t,n,r,i,a,o)}function zd(e){var t=Fh(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Nd(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),bd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=np(t.startAt)),t.endAt&&(n+="|ub:",n+=np(t.endAt)),t.R=n}return t.R}function Wd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ip(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Td(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!op(e.startAt,t.startAt)&&op(e.endAt,t.endAt)}function Hd(e){return xd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Kd=function(e){h(n,e);var t=y(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return s(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Sd(t,this.value)):null!==t&&Ed(this.value)===Ed(t)&&this.v(Sd(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mh()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Gd(e,t,r):"array-contains"===t?new Jd(e,r):"in"===t?new $d(e,r):"not-in"===t?new Xd(e,r):"array-contains-any"===t?new ep(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Qd(e,n):new Zd(e,n)}}]),n}(function(){return s((function e(){o(this,e)}))}());var Gd=function(e){h(n,e);var t=y(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this,e,r,i)).key=xd.fromName(i.referenceValue),a}return s(n,[{key:"matches",value:function(e){var t=xd.comparator(e.key,this.key);return this.v(t)}}]),n}(Kd),Qd=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,"in",r)).keys=Yd("in",r),i}return s(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kd),Zd=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,"not-in",r)).keys=Yd("not-in",r),i}return s(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kd);function Yd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return xd.fromName(e.referenceValue)}))}var Jd=function(e){h(n,e);var t=y(n);function n(e,r){return o(this,n),t.call(this,e,"array-contains",r)}return s(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Pd(t)&&Id(t.arrayValue,this.value)}}]),n}(Kd),$d=function(e){h(n,e);var t=y(n);function n(e,r){return o(this,n),t.call(this,e,"in",r)}return s(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Id(this.value.arrayValue,t)}}]),n}(Kd),Xd=function(e){h(n,e);var t=y(n);function n(e,r){return o(this,n),t.call(this,e,"not-in",r)}return s(n,[{key:"matches",value:function(e){if(Id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Id(this.value.arrayValue,t)}}]),n}(Kd),ep=function(e){h(n,e);var t=y(n);function n(e,r){return o(this,n),t.call(this,e,"array-contains-any",r)}return s(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Pd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Id(t.value.arrayValue,e)}))}}]),n}(Kd),tp=s((function e(t,n){o(this,e),this.position=t,this.before=n}));function np(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Nd(e)})).join(","))}var rp=s((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";o(this,e),this.field=t,this.dir=n}));function ip(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ap(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?xd.comparator(xd.fromName(o.referenceValue),n.key):Sd(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function op(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Td(e.position[n],t.position[n]))return!1;return!0}var up=s((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;o(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=s,this.endAt=c,this.S=null,this.D=null,this.startAt,this.endAt}));function sp(e,t,n,r,i,a,o,u){return new up(e,t,n,r,i,a,o,u)}function cp(e){return new up(e)}function lp(e){return!bd(e.limit)&&"F"===e.limitType}function fp(e){return!bd(e.limit)&&"L"===e.limitType}function hp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function dp(e){var t,n=(0,c.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function pp(e){return null!==e.collectionGroup}function vp(e){var t=Fh(e);if(null===t.S){t.S=[];var n=dp(t),r=hp(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new rp(n)),t.S.push(new rp(ld.keyField(),"asc"));else{var i,a=!1,o=(0,c.Z)(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new rp(ld.keyField(),s))}}}return t.S}function mp(e){var t=Fh(e);if(!t.D)if("F"===t.limitType)t.D=qd(t.path,t.collectionGroup,vp(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=(0,c.Z)(vp(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new rp(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new tp(t.endAt.position,!t.endAt.before):null,s=t.startAt?new tp(t.startAt.position,!t.startAt.before):null;t.D=qd(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function yp(e,t,n){return new up(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function gp(e,t){return Wd(mp(e),mp(t))&&e.limitType===t.limitType}function kp(e){return"".concat(zd(mp(e)),"|lt:").concat(e.limitType)}function bp(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Nd(t.value));var t})).join(", "),"]")),bd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+np(e.startAt)),e.endAt&&(t+=", endAt: "+np(e.endAt)),"Target(".concat(t,")")}(mp(e)),"; limitType=").concat(e.limitType,")")}function wp(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=(0,c.Z)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=(0,c.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!ap(e.startAt,vp(e),t))&&(!e.endAt||!ap(e.endAt,vp(e),t))}(e,t)}function _p(e){return function(t,n){var r,i=!1,a=(0,c.Z)(vp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=xp(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function xp(e,t,n){var r=e.field.isKeyField()?xd.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Sd(r,i):Mh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mh()}}function Ep(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(t)?"-0":t}}function Tp(e){return{integerValue:""+e}}function Ip(e,t){return _d(t)?Tp(t):Ep(e,t)}var Sp=s((function e(){o(this,e),this._=void 0}));function Cp(e,t,n){return e instanceof Rp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Op?Pp(e,t):e instanceof Dp?Lp(e,t):function(e,t){var n=Ap(e,t),r=jp(n)+jp(e.N);return Od(n)&&Od(e.N)?Tp(r):Ep(e.k,r)}(e,t)}function Np(e,t,n){return e instanceof Op?Pp(e,t):e instanceof Dp?Lp(e,t):n}function Ap(e,t){return e instanceof Mp?Od(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Rp=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n)}(Sp),Op=function(e){h(n,e);var t=y(n);function n(e){var r;return o(this,n),(r=t.call(this)).elements=e,r}return s(n)}(Sp);function Pp(e,t){var n,r=Fp(t),i=(0,c.Z)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Td(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Dp=function(e){h(n,e);var t=y(n);function n(e){var r;return o(this,n),(r=t.call(this)).elements=e,r}return s(n)}(Sp);function Lp(e,t){var n,r=Fp(t),i=(0,c.Z)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Td(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Mp=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).k=e,i.N=r,i}return s(n)}(Sp);function jp(e){return vd(e.integerValue||e.doubleValue)}function Fp(e){return Pd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Up=s((function e(t,n){o(this,e),this.field=t,this.transform=n}));var Vp=s((function e(t,n){o(this,e),this.version=t,this.transformResults=n})),Bp=function(){function e(t,n){o(this,e),this.updateTime=t,this.exists=n}return s(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function qp(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var zp=s((function e(){o(this,e)}));function Wp(e,t,n){e instanceof Zp?function(e,t,n){var r=e.value.clone(),i=$p(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Yp?function(e,t,n){if(qp(e.precondition,t)){var r=$p(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Jp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hp(e,t,n){e instanceof Zp?function(e,t,n){if(qp(e.precondition,t)){var r=e.value.clone(),i=Xp(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Qp(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Yp?function(e,t,n){if(qp(e.precondition,t)){var r=Xp(e.fieldTransforms,n,t),i=t.data;i.setAll(Jp(e)),i.setAll(r),t.convertToFoundDocument(Qp(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){qp(e.precondition,t)&&t.convertToNoDocument(rd.min())}(e,t)}function Kp(e,t){var n,r=null,i=(0,c.Z)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Ap(a.transform,o||null);null!=u&&(null==r&&(r=Fd.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Gp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ed(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Op&&t instanceof Op||e instanceof Dp&&t instanceof Dp?ed(e.elements,t.elements,Td):e instanceof Mp&&t instanceof Mp?Td(e.N,t.N):e instanceof Rp&&t instanceof Rp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Qp(e){return e.isFoundDocument()?e.version:rd.min()}var Zp=function(e){h(n,e);var t=y(n);function n(e,r,i){var a,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return o(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=u,a.type=0,a}return s(n)}(zp),Yp=function(e){h(n,e);var t=y(n);function n(e,r,i,a){var u,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return o(this,n),(u=t.call(this)).key=e,u.data=r,u.fieldMask=i,u.precondition=a,u.fieldTransforms=s,u.type=1,u}return s(n)}(zp);function Jp(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function $p(e,t,n){var r=new Map;jh(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Np(o,u,n[i]))}return r}function Xp(e,t,n){var r,i=new Map,a=(0,c.Z)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Cp(u,s,t))}}catch(l){a.e(l)}finally{a.f()}return i}var ev,tv,nv=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return s(n)}(zp),rv=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return s(n)}(zp),iv=s((function e(t){o(this,e),this.count=t}));function av(e){switch(e){default:return Mh();case Uh.CANCELLED:case Uh.UNKNOWN:case Uh.DEADLINE_EXCEEDED:case Uh.RESOURCE_EXHAUSTED:case Uh.INTERNAL:case Uh.UNAVAILABLE:case Uh.UNAUTHENTICATED:return!1;case Uh.INVALID_ARGUMENT:case Uh.NOT_FOUND:case Uh.ALREADY_EXISTS:case Uh.PERMISSION_DENIED:case Uh.FAILED_PRECONDITION:case Uh.ABORTED:case Uh.OUT_OF_RANGE:case Uh.UNIMPLEMENTED:case Uh.DATA_LOSS:return!0}}function ov(e){if(void 0===e)return Ph("GRPC error has no .code"),Uh.UNKNOWN;switch(e){case ev.OK:return Uh.OK;case ev.CANCELLED:return Uh.CANCELLED;case ev.UNKNOWN:return Uh.UNKNOWN;case ev.DEADLINE_EXCEEDED:return Uh.DEADLINE_EXCEEDED;case ev.RESOURCE_EXHAUSTED:return Uh.RESOURCE_EXHAUSTED;case ev.INTERNAL:return Uh.INTERNAL;case ev.UNAVAILABLE:return Uh.UNAVAILABLE;case ev.UNAUTHENTICATED:return Uh.UNAUTHENTICATED;case ev.INVALID_ARGUMENT:return Uh.INVALID_ARGUMENT;case ev.NOT_FOUND:return Uh.NOT_FOUND;case ev.ALREADY_EXISTS:return Uh.ALREADY_EXISTS;case ev.PERMISSION_DENIED:return Uh.PERMISSION_DENIED;case ev.FAILED_PRECONDITION:return Uh.FAILED_PRECONDITION;case ev.ABORTED:return Uh.ABORTED;case ev.OUT_OF_RANGE:return Uh.OUT_OF_RANGE;case ev.UNIMPLEMENTED:return Uh.UNIMPLEMENTED;case ev.DATA_LOSS:return Uh.DATA_LOSS;default:return Mh()}}(tv=ev||(ev={}))[tv.OK=0]="OK",tv[tv.CANCELLED=1]="CANCELLED",tv[tv.UNKNOWN=2]="UNKNOWN",tv[tv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tv[tv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tv[tv.NOT_FOUND=5]="NOT_FOUND",tv[tv.ALREADY_EXISTS=6]="ALREADY_EXISTS",tv[tv.PERMISSION_DENIED=7]="PERMISSION_DENIED",tv[tv.UNAUTHENTICATED=16]="UNAUTHENTICATED",tv[tv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tv[tv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tv[tv.ABORTED=10]="ABORTED",tv[tv.OUT_OF_RANGE=11]="OUT_OF_RANGE",tv[tv.UNIMPLEMENTED=12]="UNIMPLEMENTED",tv[tv.INTERNAL=13]="INTERNAL",tv[tv.UNAVAILABLE=14]="UNAVAILABLE",tv[tv.DATA_LOSS=15]="DATA_LOSS";var uv=function(){function e(t,n){o(this,e),this.comparator=t,this.root=n||cv.EMPTY}return s(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,cv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new sv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new sv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new sv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new sv(this.root,e,this.comparator,!0)}}]),e}(),sv=function(){function e(t,n,r,i){o(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return s(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),cv=function(){function e(t,n,r,i,a){o(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return s(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Mh();if(this.right.isRed())throw Mh();var e=this.left.check();if(e!==this.right.check())throw Mh();return e+(this.isRed()?0:1)}}]),e}();cv.EMPTY=null,cv.RED=!0,cv.BLACK=!1,cv.EMPTY=new(function(){function e(){o(this,e),this.size=0}return s(e,[{key:"key",get:function(){throw Mh()}},{key:"value",get:function(){throw Mh()}},{key:"color",get:function(){throw Mh()}},{key:"left",get:function(){throw Mh()}},{key:"right",get:function(){throw Mh()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new cv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var lv=function(){function e(t){o(this,e),this.comparator=t,this.data=new uv(this.comparator)}return s(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new fv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new fv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),fv=function(){function e(t){o(this,e),this.iter=t}return s(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),hv=new uv(xd.comparator);function dv(){return hv}var pv=new uv(xd.comparator);function vv(){return pv}var mv=new uv(xd.comparator);function yv(){return mv}var gv=new lv(xd.comparator);function kv(){for(var e=gv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var bv=new lv(Xh);function wv(){return bv}var _v=function(){function e(t,n,r,i,a){o(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return s(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,xv.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(rd.min(),r,wv(),dv(),kv())}}]),e}(),xv=function(){function e(t,n,r,i,a){o(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return s(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(hd.EMPTY_BYTE_STRING,n,kv(),kv(),kv())}}]),e}(),Ev=s((function e(t,n,r,i){o(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),Tv=s((function e(t,n){o(this,e),this.targetId=t,this.M=n})),Iv=s((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;o(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Sv=function(){function e(){o(this,e),this.F=0,this.L=Av(),this.B=hd.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return s(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=kv(),t=kv(),n=kv();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mh()}})),new xv(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Av()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Cv=function(){function e(t){o(this,e),this.et=t,this.nt=new Map,this.st=dv(),this.it=Nv(),this.rt=new lv(Xh)}return s(e,[{key:"ot",value:function(e){var t,n=(0,c.Z)(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(u){n.e(u)}finally{n.f()}var i,a=(0,c.Z)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Mh()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(Hd(i))if(0===n){var a=new xd(i.path);this.at(t,a,Vd.newNoDocument(a,rd.min()))}else jh(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Hd(a.target)){var o=new xd(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,Vd.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=kv();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new _v(e,n,this.rt,this.st,r);return this.st=dv(),this.it=Nv(),this.rt=new lv(Xh),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Sv,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new lv(Xh),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Oh("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Sv),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Nv(){return new uv(xd.comparator)}function Av(){return new uv(xd.comparator)}var Rv={asc:"ASCENDING",desc:"DESCENDING"},Ov={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pv=s((function e(t,n){o(this,e),this.databaseId=t,this.C=n}));function Dv(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Lv(e,t){return e.C?t.toBase64():t.toUint8Array()}function Mv(e,t){return Dv(e,t.toTimestamp())}function jv(e){return jh(!!e),rd.fromTimestamp(function(e){var t=pd(e);return new nd(t.seconds,t.nanos)}(e))}function Fv(e,t){return function(e){return new sd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Uv(e){var t=sd.fromString(e);return jh(lm(t)),t}function Vv(e,t){return Fv(e.databaseId,t.path)}function Bv(e,t){var n=Uv(t);if(n.get(1)!==e.databaseId.projectId)throw new Vh(Uh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vh(Uh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xd(Hv(n))}function qv(e,t){return Fv(e.databaseId,t)}function zv(e){var t=Uv(e);return 4===t.length?sd.emptyPath():Hv(t)}function Wv(e){return new sd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Hv(e){return jh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Kv(e,t,n){return{name:Vv(e,t),fields:n.value.mapValue.fields}}function Gv(e,t,n){var r=Bv(e,t.name),i=jv(t.updateTime),a=new Fd({mapValue:{fields:t.fields}}),o=Vd.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Qv(e,t){return"found"in t?function(e,t){jh(!!t.found),t.found.name,t.found.updateTime;var n=Bv(e,t.found.name),r=jv(t.found.updateTime),i=new Fd({mapValue:{fields:t.found.fields}});return Vd.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){jh(!!t.missing),jh(!!t.readTime);var n=Bv(e,t.missing),r=jv(t.readTime);return Vd.newNoDocument(n,r)}(e,t):Mh()}function Zv(e,t){var n;if(t instanceof Zp)n={update:Kv(e,t.key,t.value)};else if(t instanceof nv)n={delete:Vv(e,t.key)};else if(t instanceof Yp)n={update:Kv(e,t.key,t.data),updateMask:cm(t.fieldMask)};else{if(!(t instanceof rv))return Mh();n={verify:Vv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Rp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Op)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Dp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Mp)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Mh()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Mv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mh()}(e,t.precondition)),n}function Yv(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Bp.updateTime(jv(e.updateTime)):void 0!==e.exists?Bp.exists(e.exists):Bp.none()}(t.currentDocument):Bp.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)jh("REQUEST_TIME"===t.setToServerValue),n=new Rp;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Op(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Dp(i)}else"increment"in t?n=new Mp(e,t.increment):Mh();var a=ld.fromServerFormat(t.fieldPath);return new Up(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Bv(e,t.update.name),a=new Fd({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new fd(t.map((function(e){return ld.fromServerFormat(e)})))}(t.updateMask);return new Yp(i,a,o,n,r)}return new Zp(i,a,n,r)}if(t.delete){var u=Bv(e,t.delete);return new nv(u,n)}if(t.verify){var s=Bv(e,t.verify);return new rv(s,n)}return Mh()}function Jv(e,t){return{documents:[qv(e,t.path)]}}function $v(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=qv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=qv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ld(e.value))return{unaryFilter:{field:am(e.field),op:"IS_NAN"}};if(Dd(e.value))return{unaryFilter:{field:am(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ld(e.value))return{unaryFilter:{field:am(e.field),op:"IS_NOT_NAN"}};if(Dd(e.value))return{unaryFilter:{field:am(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:am(e.field),op:im(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:am(e.field),direction:rm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||bd(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=tm(t.startAt)),t.endAt&&(n.structuredQuery.endAt=tm(t.endAt)),n}function Xv(e){var t=zv(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){jh(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=em(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new rp(om(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return bd(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=nm(n.startAt));var l=null;return n.endAt&&(l=nm(n.endAt)),sp(t,i,u,o,s,"F",c,l)}function em(e){return e?void 0!==e.unaryFilter?[sm(e)]:void 0!==e.fieldFilter?[um(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return em(e)})).reduce((function(e,t){return e.concat(t)})):Mh():[]}function tm(e){return{before:e.before,values:e.position}}function nm(e){var t=!!e.before,n=e.values||[];return new tp(n,t)}function rm(e){return Rv[e]}function im(e){return Ov[e]}function am(e){return{fieldPath:e.canonicalString()}}function om(e){return ld.fromServerFormat(e.fieldPath)}function um(e){return Kd.create(om(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mh()}}(e.fieldFilter.op),e.fieldFilter.value)}function sm(e){switch(e.unaryFilter.op){case"IS_NAN":var t=om(e.unaryFilter.field);return Kd.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=om(e.unaryFilter.field);return Kd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=om(e.unaryFilter.field);return Kd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=om(e.unaryFilter.field);return Kd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mh()}}function cm(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function lm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function fm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=dm(t)),t=hm(e.get(n),t);return dm(t)}function hm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function dm(e){return e+"\x01\x01"}function pm(e){var t=e.length;if(jh(t>=2),2===t)return jh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),sd.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Mh(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Mh()}a=o+2}return new sd(r)}var vm=s((function e(t,n){o(this,e),this.seconds=t,this.nanoseconds=n})),mm=s((function e(t,n,r){o(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));mm.store="owner",mm.key="owner";var ym=s((function e(t,n,r){o(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));ym.store="mutationQueues",ym.keyPath="userId";var gm=s((function e(t,n,r,i,a){o(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));gm.store="mutations",gm.keyPath="batchId",gm.userMutationsIndex="userMutationsIndex",gm.userMutationsKeyPath=["userId","batchId"];var km=function(){function e(){o(this,e)}return s(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,fm(t)]}},{key:"key",value:function(e,t,n){return[e,fm(t),n]}}]),e}();km.store="documentMutations",km.PLACEHOLDER=new km;var bm=s((function e(t,n){o(this,e),this.path=t,this.readTime=n})),wm=s((function e(t,n){o(this,e),this.path=t,this.version=n})),_m=s((function e(t,n,r,i,a,u){o(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=u}));_m.store="remoteDocuments",_m.readTimeIndex="readTimeIndex",_m.readTimeIndexPath="readTime",_m.collectionReadTimeIndex="collectionReadTimeIndex",_m.collectionReadTimeIndexPath=["parentPath","readTime"];var xm=s((function e(t){o(this,e),this.byteSize=t}));xm.store="remoteDocumentGlobal",xm.key="remoteDocumentGlobalKey";var Em=s((function e(t,n,r,i,a,u,s){o(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=u,this.query=s}));Em.store="targets",Em.keyPath="targetId",Em.queryTargetsIndexName="queryTargetsIndex",Em.queryTargetsKeyPath=["canonicalId","targetId"];var Tm=s((function e(t,n,r){o(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Tm.store="targetDocuments",Tm.keyPath=["targetId","path"],Tm.documentTargetsIndex="documentTargetsIndex",Tm.documentTargetsKeyPath=["path","targetId"];var Im=s((function e(t,n,r,i){o(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Im.key="targetGlobalKey",Im.store="targetGlobal";var Sm=s((function e(t,n){o(this,e),this.collectionId=t,this.parent=n}));Sm.store="collectionParents",Sm.keyPath=["collectionId","parent"];var Cm=s((function e(t,n,r,i){o(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Cm.store="clientMetadata",Cm.keyPath="clientId";var Nm=s((function e(t,n,r){o(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Nm.store="bundles",Nm.keyPath="bundleId";var Am=s((function e(t,n,r){o(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Am.store="namedQueries",Am.keyPath="name";var Rm=[ym.store,gm.store,km.store,_m.store,Em.store,mm.store,Im.store,Tm.store].concat([Cm.store]).concat([xm.store]).concat([Sm.store]).concat([Nm.store,Am.store]),Om="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Pm=function(){function e(){o(this,e),this.onCommittedListeners=[]}return s(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Dm=function(){function e(t){var n=this;o(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return s(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Mh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=(0,c.Z)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Lm=function(){function e(t,n){var r=this;o(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new Bh,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Fm(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=zm(e.target.error);r.It.reject(new Fm(t,n))}}return s(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Oh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Vm(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Fm(n,t)}}}]),e}(),Mm=function(){function e(t,n,r){o(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(S())&&Ph("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return s(e,[{key:"Ct",value:function(){var e=X(te().mark((function e(t){var n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Oh("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Fm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Vh(Uh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Vh(Uh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Fm(t,n))},i.onupgradeneeded=function(e){Oh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Oh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=X(te().mark((function e(t,n,r,i){var a,o,u,s,c=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(te().mark((function e(){var n,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Lm.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),Dm.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Oh("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Oh("SimpleDb","Removing database:",e),Bm(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!P())return!1;if(e.vt())return!0;var t=S(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),jm=function(){function e(t){o(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return s(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return Bm(this.$t.delete())}}]),e}(),Fm=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this,Uh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return s(n)}(Vh);function Um(e){return"IndexedDbTransactionError"===e.name}var Vm=function(){function e(t){o(this,e),this.store=t}return s(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Oh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Oh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Bm(n)}},{key:"add",value:function(e){return Oh("SimpleDb","ADD",this.store.name,e,e),Bm(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Bm(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Oh("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Oh("SimpleDb","DELETE",this.store.name,e),Bm(this.store.delete(e))}},{key:"count",value:function(){return Oh("SimpleDb","COUNT",this.store.name),Bm(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Oh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new Dm((function(n,r){t.onerror=function(e){var t=zm(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new Dm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new jm(i),o=t(i.primaryKey,i.value,a);if(o instanceof Dm){var u=o.catch((function(e){return a.done(),Dm.reject(e)}));n.push(u)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return Dm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Bm(e){return new Dm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=zm(e.target.error);n(t)}}))}var qm=!1;function zm(e){var t=Mm.bt(S());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Vh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return qm||(qm=!0,setTimeout((function(){throw r}),0)),r}}return e}var Wm=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return s(n)}(Pm);function Hm(e,t){var n=Fh(e);return Mm.Dt(n.Wt,t)}var Km=function(){function e(t,n,r,i){o(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return s(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Wp(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=(0,c.Z)(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Hp(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=(0,c.Z)(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Hp(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(rd.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),kv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ed(this.mutations,e.mutations,(function(e,t){return Gp(e,t)}))&&ed(this.baseMutations,e.baseMutations,(function(e,t){return Gp(e,t)}))}}]),e}(),Gm=function(){function e(t,n,r,i){o(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return s(e,null,[{key:"from",value:function(t,n,r){jh(t.mutations.length===r.length);for(var i=yv(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Qm=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rd.min(),u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rd.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hd.EMPTY_BYTE_STRING;o(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=s}return s(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Zm=s((function e(t){o(this,e),this.Gt=t}));function Ym(e,t){if(t.document)return Gv(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=xd.fromSegments(t.noDocument.path),r=ty(t.noDocument.readTime),i=Vd.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=xd.fromSegments(t.unknownDocument.path),o=ty(t.unknownDocument.version);return Vd.newUnknownDocument(a,o)}return Mh()}function Jm(e,t,n){var r=$m(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Vv(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Dv(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new _m(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=ey(t.version),c=t.hasCommittedMutations;return new _m(null,new bm(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=ey(t.version);return new _m(new wm(l,f),null,null,!0,r,i)}return Mh()}function $m(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Xm(e){var t=new nd(e[0],e[1]);return rd.fromTimestamp(t)}function ey(e){var t=e.toTimestamp();return new vm(t.seconds,t.nanoseconds)}function ty(e){var t=new nd(e.seconds,e.nanoseconds);return rd.fromTimestamp(t)}function ny(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Yv(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Yv(e.Gt,t)})),u=nd.fromMillis(t.localWriteTimeMs);return new Km(t.batchId,u,n,o)}function ry(e){var t,n,r=ty(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ty(e.lastLimboFreeSnapshotVersion):rd.min();return void 0!==e.query.documents?(jh(1===(n=e.query).documents.length),t=mp(cp(zv(n.documents[0])))):t=function(e){return mp(Xv(e))}(e.query),new Qm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,hd.fromBase64String(e.resumeToken))}function iy(e,t){var n,r=ey(t.snapshotVersion),i=ey(t.lastLimboFreeSnapshotVersion);n=Hd(t.target)?Jv(e.Gt,t.target):$v(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Em(t.targetId,zd(t.target),r,a,t.sequenceNumber,i,n)}function ay(e){var t=Xv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yp(t,t.limit,"L"):t}var oy=function(){function e(){o(this,e)}return s(e,[{key:"getBundleMetadata",value:function(e,t){return uy(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ty(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return uy(e).put({bundleId:(n=t).id,createTime:ey(jv(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return sy(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ay(t.bundledQuery),readTime:ty(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return sy(e).put(function(e){return{name:e.name,readTime:ey(jv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function uy(e){return Hm(e,Nm.store)}function sy(e){return Hm(e,Am.store)}var cy=function(){function e(){o(this,e),this.zt=new ly}return s(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Dm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Dm.resolve(this.zt.getEntries(t))}}]),e}(),ly=function(){function e(){o(this,e),this.index={}}return s(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new lv(sd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new lv(sd.comparator)).toArray()}}]),e}(),fy=function(){function e(){o(this,e),this.Ht=new ly}return s(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:fm(i)};return hy(e).put(a)}return Dm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[td(t),""],!1,!0);return hy(e).Bt(r).next((function(e){var r,i=(0,c.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(pm(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function hy(e){return Hm(e,Sm.store)}var dy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},py=function(){function e(t,n,r){o(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return s(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function vy(e,t,n){var r=e.store(gm.store),i=e.store(km.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.jt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){jh(1===u)})));var l,f=[],h=(0,c.Z)(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=km.key(t,d.key.path,n.batchId);a.push(i.delete(p)),f.push(d.key)}}catch(v){h.e(v)}finally{h.f()}return Dm.waitFor(a).next((function(){return f}))}function my(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Mh();t=e.noDocument}return JSON.stringify(t).length}py.DEFAULT_COLLECTION_PERCENTILE=10,py.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,py.DEFAULT=new py(41943040,py.DEFAULT_COLLECTION_PERCENTILE,py.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),py.DISABLED=new py(-1,0,0);var yy=function(){function e(t,n,r,i){o(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return s(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ky(e).jt({index:gm.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=by(e),o=ky(e);return o.add({}).next((function(u){jh("number"==typeof u);var s,l=new Km(u,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return Zv(e.Gt,t)})),i=n.mutations.map((function(t){return Zv(e.Gt,t)}));return new gm(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,l),h=[],d=new lv((function(e,t){return Xh(e.canonicalString(),t.canonicalString())})),p=(0,c.Z)(r);try{for(p.s();!(s=p.n()).done;){var v=s.value,m=km.key(i.userId,v.key.path,u);d=d.add(v.key.path.popLast()),h.push(o.put(f)),h.push(a.put(m,km.PLACEHOLDER))}}catch(y){p.e(y)}finally{p.f()}return d.forEach((function(t){h.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[u]=l.keys()})),Dm.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ky(e).get(t).next((function(e){return e?(jh(e.userId===n.userId),ny(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?Dm.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ky(e).jt({index:gm.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(jh(t.batchId>=r),a=ny(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ky(e).jt({index:gm.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ky(e).Bt(gm.userMutationsIndex,n).next((function(e){return e.map((function(e){return ny(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=km.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),o=[];return by(e).jt({range:a},(function(r,a,u){var s=(0,i.Z)(r,3),c=s[0],l=s[1],f=s[2],h=pm(l);if(c===n.userId&&t.path.isEqual(h))return ky(e).get(f).next((function(e){if(!e)throw Mh();jh(e.userId===n.userId),o.push(ny(n.k,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new lv(Xh),a=[];return t.forEach((function(t){var o=km.prefixForPath(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=by(e).jt({range:u},(function(e,a,o){var u=(0,i.Z)(e,3),s=u[0],c=u[1],l=u[2],f=pm(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));a.push(s)})),Dm.waitFor(a).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,a=r.length+1,o=km.prefixForPath(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new lv(Xh);return by(e).jt({range:u},(function(e,t,o){var u=(0,i.Z)(e,3),c=u[0],l=u[1],f=u[2],h=pm(l);c===n.userId&&r.isPrefixOf(h)?h.length===a&&(s=s.add(f)):o.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ky(e).get(t).next((function(e){if(null===e)throw Mh();jh(e.userId===n.userId),r.push(ny(n.k,e))})))})),Dm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return vy(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),Dm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Dm.resolve();var r=IDBKeyRange.lowerBound(km.prefixForUser(t.userId)),i=[];return by(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=pm(e[1]);i.push(a)}else r.done()})).next((function(){jh(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return gy(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return wy(e).get(this.userId).next((function(e){return e||new ym(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return jh(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function gy(e,t,n){var r=km.prefixForPath(t,n.path),a=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return by(e).jt({range:o,Kt:!0},(function(e,n,r){var o=(0,i.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===a&&(u=!0),r.done()})).next((function(){return u}))}function ky(e){return Hm(e,gm.store)}function by(e){return Hm(e,km.store)}function wy(e){return Hm(e,ym.store)}var _y=function(){function e(t){o(this,e),this.se=t}return s(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),xy=function(){function e(t,n){o(this,e),this.referenceDelegate=t,this.k=n}return s(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new _y(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return rd.fromTimestamp(new nd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ey(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return jh(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ey(e).jt((function(o,u){var s=ry(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Dm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ey(e).jt((function(e,n){var r=ry(n);t(r)}))}},{key:"oe",value:function(e){return Ty(e).get(Im.key).next((function(e){return jh(null!==e),e}))}},{key:"ce",value:function(e,t){return Ty(e).put(Im.key,t)}},{key:"ae",value:function(e,t){return Ey(e).put(iy(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=zd(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ey(e).jt({range:r,index:Em.queryTargetsIndexName},(function(e,n,r){var a=ry(n);Wd(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Iy(e);return t.forEach((function(t){var o=fm(t.path);i.push(a.put(new Tm(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Dm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Iy(e);return Dm.forEach(t,(function(t){var a=fm(t.path);return Dm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Iy(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Iy(e),i=kv();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=pm(e[1]),a=new xd(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=fm(t.path),r=IDBKeyRange.bound([n],[td(n)],!1,!0),a=0;return Iy(e).jt({index:Tm.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=(0,i.Z)(e,2),o=r[0];r[1];0!==o&&(a++,n.done())})).next((function(){return a>0}))}},{key:"Et",value:function(e,t){return Ey(e).get(t).next((function(e){return e?ry(e):null}))}}]),e}();function Ey(e){return Hm(e,Em.store)}function Ty(e){return Hm(e,Im.store)}function Iy(e){return Hm(e,Tm.store)}function Sy(e){return Cy.apply(this,arguments)}function Cy(){return Cy=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Uh.FAILED_PRECONDITION&&t.message===Om){e.next=2;break}throw t;case 2:Oh("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Cy.apply(this,arguments)}function Ny(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,i.Z)(t,2),u=o[0],s=o[1],c=Xh(r,u);return 0===c?Xh(a,s):c}var Ay=function(){function e(t){o(this,e),this.he=t,this.buffer=new lv(Ny),this.le=0}return s(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ny(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Ry=function(){function e(t,n){o(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return s(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Oh("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,X(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Um(n.t0)){n.next=12;break}Oh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Sy(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Oy=function(){function e(t,n){o(this,e),this.ge=t,this.params=n}return s(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Dm.resolve(Yh.I);var r=new Ay(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Oh("LruGarbageCollector","Garbage collection skipped; disabled"),Dm.resolve(dy)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Oh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),dy):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Oh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Rh()<=oe.DEBUG&&Oh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Dm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Py=function(){function e(t,n){o(this,e),this.db=t,this.garbageCollector=function(e,t){return new Oy(e,t)}(this,n)}return s(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Dy(e,n)}},{key:"removeReference",value:function(e,t,n){return Dy(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Dy(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return wy(e).Qt((function(r){return gy(e,r,t).next((function(e){return e&&(n=!0),Dm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Iy(e).delete([0,fm(o.path)])}))}));i.push(s)}})).next((function(){return Dm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Dy(e,t)}},{key:"Ie",value:function(e,t){var n,r=Iy(e),a=Yh.I;return r.jt({index:Tm.documentTargetsIndex},(function(e,r){var o=(0,i.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(a!==Yh.I&&t(new xd(pm(n)),a),a=c,n=s):a=Yh.I})).next((function(){a!==Yh.I&&t(new xd(pm(n)),a)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Dy(e,t){return Iy(e).put(function(e,t){return new Tm(0,fm(e.path),t)}(t,e.currentSequenceNumber))}var Ly=function(){function e(t,n){o(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return s(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=(0,c.Z)(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(l){a.e(l)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){ad(this.inner,(function(t,n){var r,a=(0,c.Z)(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(l){a.e(l)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return od(this.inner)}}]),e}(),My=function(){function e(){o(this,e),this.changes=new Ly((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return s(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:rd.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Vd.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Dm.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),jy=function(){function e(t,n){o(this,e),this.k=t,this.Jt=n}return s(e,[{key:"addEntry",value:function(e,t,n){return Vy(e).put(By(t),n)}},{key:"removeEntry",value:function(e,t){var n=Vy(e),r=By(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Vy(e).get(By(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return Vy(e).get(By(t)).next((function(e){return{document:n.be(t,e),size:my(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=dv();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=dv(),i=new uv(xd.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,my(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return Dm.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Vy(e).jt({range:r},(function(e,t,r){for(var o=xd.fromSegments(e);a&&xd.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=dv(),a=t.path.length+1,o={};if(n.isEqual(rd.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=$m(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=_m.collectionReadTimeIndex}return Vy(e).jt(o,(function(e,n,o){if(e.length===a){var u=Ym(r.k,n);t.path.isPrefixOf(u.key.path)?wp(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Fy(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Uy(e).get(xm.key).next((function(e){return jh(!!e),e}))}},{key:"Re",value:function(e,t){return Uy(e).put(xm.key,t)}},{key:"be",value:function(e,t){if(t){var n=Ym(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(rd.min()))return n}return Vd.newInvalidDocument(e)}}]),e}(),Fy=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Ly((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return s(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new lv((function(e,t){return Xh(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=Jm(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=my(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=Jm(t.De.k,Vd.newNoDocument(a,rd.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),Dm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(My);function Uy(e){return Hm(e,xm.store)}function Vy(e){return Hm(e,_m.store)}function By(e){return e.path.toArray()}var qy=function(){function e(t){o(this,e),this.k=t}return s(e,[{key:"Nt",value:function(e,t,n,r){var i=this;jh(n<r&&n>=0&&r<=11);var a=new Lm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(mm.store)}(e),function(e){e.createObjectStore(ym.store,{keyPath:ym.keyPath}),e.createObjectStore(gm.store,{keyPath:gm.keyPath,autoIncrement:!0}).createIndex(gm.userMutationsIndex,gm.userMutationsKeyPath,{unique:!0}),e.createObjectStore(km.store)}(e),zy(e),function(e){e.createObjectStore(_m.store)}(e));var o=Dm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Tm.store),e.deleteObjectStore(Em.store),e.deleteObjectStore(Im.store)}(e),zy(e)),o=o.next((function(){return function(e){var t=e.store(Im.store),n=new Im(0,0,rd.min().toTimestamp(),0);return t.put(Im.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(gm.store).Bt().next((function(n){e.deleteObjectStore(gm.store),e.createObjectStore(gm.store,{keyPath:gm.keyPath,autoIncrement:!0}).createIndex(gm.userMutationsIndex,gm.userMutationsKeyPath,{unique:!0});var r=t.store(gm.store),i=n.map((function(e){return r.put(e)}));return Dm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Cm.store,{keyPath:Cm.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(xm.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(_m.store);t.createIndex(_m.readTimeIndex,_m.readTimeIndexPath,{unique:!1}),t.createIndex(_m.collectionReadTimeIndex,_m.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Nm.store,{keyPath:Nm.keyPath})}(e),function(e){e.createObjectStore(Am.store,{keyPath:Am.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(_m.store).jt((function(e,n){t+=my(n)})).next((function(){var n=new xm(t);return e.store(xm.store).put(xm.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(ym.store),r=e.store(gm.store);return n.Bt().next((function(n){return Dm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(gm.userMutationsIndex,i).next((function(r){return Dm.forEach(r,(function(r){jh(r.userId===n.userId);var i=ny(t.k,r);return vy(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Tm.store),n=e.store(_m.store);return e.store(Im.store).get(Im.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new sd(n),o=function(e){return[0,fm(e)]}(a);r.push(t.get(o).next((function(n){return n?Dm.resolve():function(n){return t.put(new Tm(0,fm(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Dm.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Sm.store,{keyPath:Sm.keyPath});var n=t.store(Sm.store),r=new ly,a=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:fm(i)})}};return t.store(_m.store).jt({Kt:!0},(function(e,t){var n=new sd(e);return a(n.popLast())})).next((function(){return t.store(km.store).jt({Kt:!0},(function(e,t){var n=(0,i.Z)(e,3),r=(n[0],n[1]),o=(n[2],pm(r));return a(o.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(Em.store);return n.jt((function(e,r){var i=ry(r),a=iy(t.k,i);return n.put(a)}))}}]),e}();function zy(e){e.createObjectStore(Tm.store,{keyPath:Tm.keyPath}).createIndex(Tm.documentTargetsIndex,Tm.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Em.store,{keyPath:Em.keyPath}).createIndex(Em.queryTargetsIndexName,Em.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Im.store)}var Wy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Hy=function(){function e(t,n,r,i,a,u,s,c,l,f){if(o(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=u,this.document=s,this.Fe=l,this.Le=f,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new Vh(Uh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Py(this,i),this.Ge=n+"main",this.k=new Zm(c),this.ze=new Mm(this.Ge,11,new qy(this.k)),this.He=new xy(this.referenceDelegate,this.k),this.Jt=new fy,this.Je=function(e,t){return new jy(e,t)}(this.k,this.Jt),this.Ye=new oy,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===f&&Ph("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return s(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Vh(Uh.FAILED_PRECONDITION,Wy);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Yh(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=X(te().mark((function n(r){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=X(te().mark((function t(n){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Gy(t).put(new Cm(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(Um(t))return Oh("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Oh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Ky(e).get(mm.key).next((function(e){return Dm.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Gy(e).delete(this.clientId)}},{key:"ln",value:function(){var e=X(te().mark((function e(){var t,n,r,i,a=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Hm(e,Cm.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Dm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=(0,c.Z)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?Dm.resolve(!0):Ky(e).get(mm.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Vh(Uh.FAILED_PRECONDITION,Wy);return!1}}return!(!t.networkEnabled||!t.inForeground)||Gy(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Oh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=X(te().mark((function e(){var t=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[mm.store,Cm.store],(function(e){var n=new Wm(e,Yh.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Gy(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return yy.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Oh("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Rm,(function(a){return i=new Wm(a,r.Be?r.Be.next():Yh.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Ph("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new Vh(Uh.FAILED_PRECONDITION,Om);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Ky(e).get(mm.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Vh(Uh.FAILED_PRECONDITION,Wy)}))}},{key:"an",value:function(e){var t=new mm(this.clientId,this.allowTabSynchronization,Date.now());return Ky(e).put(mm.key,t)}},{key:"cn",value:function(e){var t=this,n=Ky(e);return n.get(mm.key).next((function(e){return t.un(e)?(Oh("IndexedDbPersistence","Releasing primary lease."),n.delete(mm.key)):Dm.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ph("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!N()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Oh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ph("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Ss){Ph("Failed to set zombie client id.",Ss)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Ss){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return Mm.Pt()}}]),e}();function Ky(e){return Hm(e,mm.store)}function Gy(e){return Hm(e,Cm.store)}function Qy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Zy=s((function e(t,n){o(this,e),this.progress=t,this.In=n})),Yy=function(){function e(t,n,r){o(this,e),this.Je=t,this.An=n,this.Jt=r}return s(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=(0,c.Z)(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=(0,c.Z)(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return xd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):pp(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new xd(t)).next((function(e){var t=vv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=vv();return this.Jt.getCollectionParents(e,i).next((function(o){return Dm.forEach(o,(function(o){var u=function(e,t){return new up(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=(0,c.Z)(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=(0,c.Z)(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,l=s.key,f=r.get(l);null==f&&(f=Vd.newInvalidDocument(l),r=r.insert(l,f)),Hp(s,f,o.localWriteTime),f.isFoundDocument()||(r=r.remove(l))}}catch(h){u.e(h)}finally{u.f()}}}catch(h){n.e(h)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){wp(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=kv(),a=(0,c.Z)(t);try{for(a.s();!(r=a.n()).done;){var o,u=r.value,s=(0,c.Z)(u.mutations);try{for(s.s();!(o=s.n()).done;){var l=o.value;l instanceof Yp&&null===n.get(l.key)&&(i=i.add(l.key))}}catch(h){s.e(h)}finally{s.f()}}}catch(h){a.e(h)}finally{a.f()}var f=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(f=f.insert(e,t))})),f}))}}]),e}(),Jy=function(){function e(t,n,r,i){o(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return s(e,null,[{key:"$n",value:function(t,n){var r,i=kv(),a=kv(),o=(0,c.Z)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),$y=function(){function e(){o(this,e)}return s(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(rd.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(lp(t)||fp(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(Rh()<=oe.DEBUG&&Oh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bp(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new lv(_p(e));return t.forEach((function(t,r){wp(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return Rh()<=oe.DEBUG&&Oh("QueryEngine","Using full collection scan to execute query:",bp(t)),this.Mn.getDocumentsMatchingQuery(e,t,rd.min())}}]),e}(),Xy=function(){function e(t,n,r,i){o(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new uv(Xh),this.Kn=new Ly((function(e){return zd(e)}),Wd),this.jn=rd.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Yy(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return s(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function eg(e,t,n,r){return new Xy(e,t,n,r)}function tg(e,t){return ng.apply(this,arguments)}function ng(){return ng=X(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Yy(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=kv(),s=(0,c.Z)(t);try{for(s.s();!(r=s.n()).done;){var l=r.value;i.push(l.batchId);var f,h=(0,c.Z)(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;u=u.add(d.key)}}catch(b){h.e(b)}finally{h.f()}}}catch(b){s.e(b)}finally{s.f()}var p,v=(0,c.Z)(n);try{for(v.s();!(p=v.n()).done;){var m=p.value;o.push(m.batchId);var y,g=(0,c.Z)(m.mutations);try{for(g.s();!(y=g.n()).done;){var k=y.value;u=u.add(k.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){v.e(b)}finally{v.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),ng.apply(this,arguments)}function rg(e,t){var n=Fh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Dm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);jh(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function ig(e){var t=Fh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function ag(e,t){var n=Fh(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(hd.EMPTY_BYTE_STRING,rd.min()).withLastLimboFreeSnapshotVersion(rd.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var u=dv();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(og(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(rd.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Dm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function og(e,t,n,r,i){var a=kv();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=dv();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(rd.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):Oh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function ug(e,t){var n=Fh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function sg(e,t){var n=Fh(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Dm.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Qm(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function cg(e,t,n){return lg.apply(this,arguments)}function lg(){return lg=X(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fh(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Um(e.t1)){e.next=12;break}throw e.t1;case 12:Oh("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),lg.apply(this,arguments)}function fg(e,t,n){var r=Fh(e),i=rd.min(),a=kv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Fh(e),i=r.Kn.get(n);return void 0!==i?Dm.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,mp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:rd.min(),n?a:kv())})).next((function(e){return{documents:e,zn:a}}))}))}function hg(e,t){var n=Fh(e),r=Fh(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function dg(e){var t=Fh(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Fh(e),i=dv(),a=$m(n),o=Vy(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:_m.readTimeIndex,range:u},(function(e,t){var n=Ym(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Xm(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function pg(e){return vg.apply(this,arguments)}function vg(){return vg=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fh(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Vy(e),n=rd.min();return t.jt({index:_m.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Xm(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),vg.apply(this,arguments)}function mg(e,t,n,r){return yg.apply(this,arguments)}function yg(){return yg=X(te().mark((function e(t,n,r,i){var a,o,u,s,l,f,h,d,p,v;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Fh(t),o=kv(),u=dv(),s=yv(),l=(0,c.Z)(r);try{for(l.s();!(f=l.n()).done;)h=f.value,d=n.Hn(h.metadata.name),h.document&&(o=o.add(d)),u=u.insert(d,n.Jn(h)),s=s.insert(d,n.Yn(h.metadata.readTime))}catch(m){l.e(m)}finally{l.f()}return p=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,sg(a,function(e){return mp(cp(sd.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return og(e,p,u,rd.min(),s).next((function(t){return p.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.He.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}function gg(e,t){return kg.apply(this,arguments)}function kg(){return kg=X(te().mark((function e(t,n){var r,i,a,o=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:kv(),e.next=3,sg(t,mp(ay(n.bundledQuery)));case 3:return i=e.sent,a=Fh(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=jv(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(hd.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),kg.apply(this,arguments)}var bg=function(){function e(t){o(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return s(e,[{key:"getBundleMetadata",value:function(e,t){return Dm.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:jv(n.createTime)}),Dm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Dm.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:ay(e.bundledQuery),readTime:jv(e.readTime)}}(t)),Dm.resolve()}}]),e}(),wg=function(){function e(){o(this,e),this.ts=new lv(_g.es),this.ns=new lv(_g.ss)}return s(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new _g(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new _g(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new xd(new sd([])),r=new _g(n,e),i=new _g(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new xd(new sd([])),n=new _g(t,e),r=new _g(t,e+1),i=kv();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new _g(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),_g=function(){function e(t,n){o(this,e),this.key=t,this.fs=n}return s(e,null,[{key:"es",value:function(e,t){return xd.comparator(e.key,t.key)||Xh(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Xh(e.fs,t.fs)||xd.comparator(e.key,t.key)}}]),e}(),xg=function(){function e(t,n){o(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new lv(_g.es)}return s(e,[{key:"checkEmpty",value:function(e){return Dm.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Km(i,t,n,r);this.An.push(a);var o,u=(0,c.Z)(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new _g(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return Dm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Dm.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Dm.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Dm.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Dm.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new _g(t,0),i=new _g(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Dm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new lv(Xh);return t.forEach((function(e){var t=new _g(e,0),i=new _g(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Dm.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;xd.isDocumentKey(i)||(i=i.child(""));var a=new _g(new xd(i),0),o=new lv(Xh);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Dm.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;jh(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Dm.forEach(t.mutations,(function(i){var a=new _g(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new _g(t,0),r=this.ws.firstAfterOrEqual(n);return Dm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Dm.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Eg=function(){function e(t,n){o(this,e),this.Jt=t,this.Ts=n,this.docs=new uv(xd.comparator),this.size=0}return s(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Dm.resolve(n?n.document.mutableCopy():Vd.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=dv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Vd.newInvalidDocument(e))})),Dm.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=dv(),i=new xd(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||wp(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return Dm.resolve(r)}},{key:"Es",value:function(e,t){return Dm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Tg(this)}},{key:"getSize",value:function(e){return Dm.resolve(this.size)}}]),e}(),Tg=function(e){h(n,e);var t=y(n);function n(e){var r;return o(this,n),(r=t.call(this)).De=e,r}return s(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Dm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(My),Ig=function(){function e(t){o(this,e),this.persistence=t,this.Is=new Ly((function(e){return zd(e)}),Wd),this.lastRemoteSnapshotVersion=rd.min(),this.highestTargetId=0,this.As=0,this.Rs=new wg,this.targetCount=0,this.bs=_y.ie()}return s(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Dm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Dm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Dm.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),Dm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Dm.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new _y(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,Dm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),Dm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Dm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Dm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Dm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Dm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Dm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Dm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Dm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Dm.resolve(n)}},{key:"containsKey",value:function(e,t){return Dm.resolve(this.Rs.containsKey(t))}}]),e}(),Sg=function(){function e(t,n){var r=this;o(this,e),this.Ps={},this.Be=new Yh(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Ig(this),this.Jt=new cy,this.Je=function(e,t){return new Eg(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Zm(n),this.Ye=new bg(this.k)}return s(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new xg(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Oh("MemoryPersistence","Starting transaction:",e);var i=new Cg(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Dm.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Cg=function(e){h(n,e);var t=y(n);function n(e){var r;return o(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return s(n)}(Pm),Ng=function(){function e(t){o(this,e),this.persistence=t,this.Cs=new wg,this.Ns=null}return s(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Mh()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Dm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Dm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Dm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dm.forEach(this.xs,(function(r){var i=xd.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Dm.or([function(){return Dm.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Ag(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Rg(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Og(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Pg=function(){function e(t,n,r,i){o(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return s(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Vh(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ph("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Dg=function(){function e(t,n,r){o(this,e),this.targetId=t,this.state=n,this.error=r}return s(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Vh(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ph("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Lg=function(){function e(t,n){o(this,e),this.clientId=t,this.activeTargetIds=n}return s(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=wv(),o=0;i&&o<r.activeTargetIds.length;++o)i=_d(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ph("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Mg=function(){function e(t,n){o(this,e),this.clientId=t,this.onlineState=n}return s(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ph("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),jg=function(){function e(){o(this,e),this.activeTargetIds=wv()}return s(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Fg=function(){function e(t,n,r,i,a){o(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new uv(Xh),this.started=!1,this.js=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Ag(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new jg),this.Gs=new RegExp("^firestore_clients_".concat(u,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(u,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(u,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return s(e,[{key:"start",value:function(){var e=X(te().mark((function e(){var t,n,r,i,a,o,u,s,l,f,h,d=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=(0,c.Z)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ag(this.persistenceKey,i)))&&(o=Lg.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(s=this.Zs(u))&&this.ti(s),l=(0,c.Z)(this.js);try{for(l.s();!(f=l.n()).done;)h=f.value,this.qs(h)}catch(p){l.e(p)}finally{l.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Og(this.persistenceKey,e));if(n){var r=Dg.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Og(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Oh("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Oh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Oh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Oh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Ph("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(X(te().mark((function e(){var r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=Yh.I;if(null!=e)try{var n=JSON.parse(e);jh("number"==typeof n),t=n}catch(e){Ph("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Yh.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new Pg(this.currentUser,e,t,n),i=Rg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=Rg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Og(this.persistenceKey,e),i=new Dg(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return Lg.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Pg.Os(new Ch(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return Dg.Os(r,t)}},{key:"Zs",value:function(e){return Mg.Os(e)}},{key:"fi",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Oh("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=wv();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ug=function(){function e(){o(this,e),this.pi=new jg,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return s(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new jg,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Vg=function(){function e(){o(this,e)}return s(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Bg=function(){function e(){var t=this;o(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return s(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Oh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=(0,c.Z)(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){Oh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=(0,c.Z)(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),qg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},zg=function(){function e(t){o(this,e),this.Vi=t.Vi,this.Si=t.Si}return s(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),Wg=function(e){h(n,e);var t=y(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return s(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Ih;o.listenOnce(wh.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case bh.NO_ERROR:var t=o.getResponseJson();Oh("Connection","XHR received:",JSON.stringify(t)),i(t);break;case bh.TIMEOUT:Oh("Connection",'RPC "'+e+'" timed out'),a(new Vh(Uh.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:var n=o.getStatus();if(Oh("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Uh).indexOf(t)>=0?t:Uh.UNKNOWN}(r.status);a(new Vh(u,r.message))}else a(new Vh(Uh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Vh(Uh.UNAVAILABLE,"Connection failed."));break;default:Mh()}}finally{Oh("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=gh(),a=kh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Eh({})),this.qi(o.initMessageHeaders,t,n),C()||R()||S().indexOf("Electron/")>=0||O()||S().indexOf("MSAppHost/")>=0||A()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Oh("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new zg({Vi:function(e){l?Oh("Connection","Not sending because WebChannel is closed:",e):(c||(Oh("Connection","Opening WebChannel transport."),s.open(),c=!0),Oh("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Th.EventType.OPEN,(function(){l||Oh("Connection","WebChannel transport opened.")})),h(s,Th.EventType.CLOSE,(function(){l||(l=!0,Oh("Connection","WebChannel transport closed"),f.Oi())})),h(s,Th.EventType.ERROR,(function(e){l||(l=!0,Dh("Connection","WebChannel transport errored:",e),f.Oi(new Vh(Uh.UNAVAILABLE,"The operation could not be completed")))})),h(s,Th.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];jh(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Oh("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ev[e];if(void 0!==t)return ov(t)}(a),u=i.message;void 0===o&&(o=Uh.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new Vh(o,u)),s.close()}else Oh("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,_h.STAT_EVENT,(function(e){e.stat===xh.PROXY?Oh("Connection","Detected buffering proxy"):e.stat===xh.NOPROXY&&Oh("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){o(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return s(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Oh("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Oh("RestConnection","Received: ",e),e}),(function(t){throw Dh("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=qg[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function Hg(){return"undefined"!=typeof window?window:null}function Kg(){return"undefined"!=typeof document?document:null}function Gg(e){return new Pv(e,!0)}var Qg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;o(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return s(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Oh("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Zg=function(){function e(t,n,r,i,a,u,s,c){o(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Qg(t,n)}return s(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Uh.RESOURCE_EXHAUSTED?(Ph(n.toString()),Ph("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Uh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,i.Z)(t,2),a=r[0],o=r[1];e.rr===n&&e.Ir(a,o)}),(function(n){t((function(){var t=new Vh(Uh.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(X(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Oh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(Oh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Yg=function(e){h(n,e);var t=y(n);function n(e,r,i,a,u,s){var c;return o(this,n),(c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=u,c}return s(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(jh(void 0===t||"string"==typeof t),hd.fromBase64String(t||"")):(jh(void 0===t||t instanceof Uint8Array),hd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Uh.UNKNOWN:ov(e.code);return new Vh(t,e.message||"")}(o);n=new Iv(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Bv(e,s.document.name),l=jv(s.document.updateTime),f=new Fd({mapValue:{fields:s.document.fields}}),h=Vd.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Ev(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Bv(e,v.document),y=v.readTime?jv(v.readTime):rd.min(),g=Vd.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Ev([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Bv(e,b.document),_=b.removedTargetIds||[];n=new Ev([],_,w,null)}else{if(!("filter"in t))return Mh();t.filter;var x=t.filter;x.targetId;var E=x.count||0,T=new iv(E),I=x.targetId;n=new Tv(I,T)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return rd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?rd.min():t.readTime?jv(t.readTime):rd.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=Wv(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Hd(r)?{documents:Jv(e,r)}:{query:$v(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Lv(e,t.resumeToken):t.snapshotVersion.compareTo(rd.min())>0&&(n.readTime=Dv(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mh()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Wv(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Zg),Jg=function(e){h(n,e);var t=y(n);function n(e,r,i,a,u,s){var c;return o(this,n),(c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=u,c.Vr=!1,c}return s(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,et(d(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(jh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(jh(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?jv(e.updateTime):jv(t);return n.isEqual(rd.min())&&(n=jv(t)),new Vp(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=jv(e.commitTime);return this.listener.Cr(n,t)}return jh(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Wv(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Zv(t.k,e)}))};this.gr(n)}}]),n}(Zg),$g=function(e){h(n,e);var t=y(n);function n(e,r,i,a){var u;return o(this,n),(u=t.call(this)).authCredentials=e,u.appCheckCredentials=r,u.ir=i,u.k=a,u.$r=!1,u}return s(n,[{key:"Or",value:function(){if(this.$r)throw new Vh(Uh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),u=o[0],s=o[1];return r.ir.Bi(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Uh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Vh(Uh.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),u=o[0],s=o[1];return r.ir.ji(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Uh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Vh(Uh.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return s((function e(){o(this,e)}))}()),Xg=function(){function e(t,n){o(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return s(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Ph(t),this.Lr=!1):Oh("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),ek=s((function e(t,n,r,i,a){var u=this;o(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=fk(u),!e.t0){e.next=5;break}return Oh("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fh(t)).Gr.add(4),e.next=4,rk(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,tk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Xg(r,i)}));function tk(e){return nk.apply(this,arguments)}function nk(){return nk=X(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fk(t)){e.next=18;break}n=(0,c.Z)(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),nk.apply(this,arguments)}function rk(e){return ik.apply(this,arguments)}function ik(){return ik=X(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,c.Z)(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ik.apply(this,arguments)}function ak(e,t){var n=Fh(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),lk(n)?ck(n):Vk(n).lr()&&uk(n,t))}function ok(e,t){var n=Fh(e),r=Vk(n);n.Wr.delete(t),r.lr()&&sk(n,t),0===n.Wr.size&&(r.lr()?r._r():fk(n)&&n.Jr.set("Unknown"))}function uk(e,t){e.Yr.X(t.targetId),Vk(e).Pr(t)}function sk(e,t){e.Yr.X(t),Vk(e).vr(t)}function ck(e){e.Yr=new Cv({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Vk(e).start(),e.Jr.Br()}function lk(e){return fk(e)&&!Vk(e).hr()&&e.Wr.size>0}function fk(e){return 0===Fh(e).Gr.size}function hk(e){e.Yr=void 0}function dk(e){return pk.apply(this,arguments)}function pk(){return pk=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){uk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),pk.apply(this,arguments)}function vk(e,t){return mk.apply(this,arguments)}function mk(){return mk=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hk(t),lk(t)?(t.Jr.Kr(n),ck(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),mk.apply(this,arguments)}function yk(e,t,n){return gk.apply(this,arguments)}function gk(){return gk=X(te().mark((function e(t,n,r){var i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Iv&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=X(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=(0,c.Z)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Oh("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,kk(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ev?t.Yr.ot(n):n instanceof Tv?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(rd.min())){e.next=29;break}return e.prev=14,e.next=17,ig(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(hd.EMPTY_BYTE_STRING,n.snapshotVersion)),sk(e,t);var r=new Qm(n.target,t,1,n.sequenceNumber);uk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Oh("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,kk(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),gk.apply(this,arguments)}function kk(e,t,n){return bk.apply(this,arguments)}function bk(){return bk=X(te().mark((function e(t,n,r){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Um(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,rk(t);case 5:t.Jr.set("Offline"),r||(r=function(){return ig(t.localStore)}),t.asyncQueue.enqueueRetryable(X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oh("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,tk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),bk.apply(this,arguments)}function wk(e,t){return t().catch((function(n){return kk(e,n,t)}))}function _k(e){return xk.apply(this,arguments)}function xk(){return xk=X(te().mark((function e(t){var n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fh(t),r=Bk(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Ek(n)){e.next=19;break}return e.prev=3,e.next=6,ug(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,Tk(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,kk(n,e.t0);case 17:e.next=2;break;case 19:Ik(n)&&Sk(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),xk.apply(this,arguments)}function Ek(e){return fk(e)&&e.Qr.length<10}function Tk(e,t){e.Qr.push(t);var n=Bk(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Ik(e){return fk(e)&&!Bk(e).hr()&&e.Qr.length>0}function Sk(e){Bk(e).start()}function Ck(e){return Nk.apply(this,arguments)}function Nk(){return Nk=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Bk(t).kr();case 1:case"end":return e.stop()}}),e)}))),Nk.apply(this,arguments)}function Ak(e){return Rk.apply(this,arguments)}function Rk(){return Rk=X(te().mark((function e(t){var n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Bk(t),r=(0,c.Z)(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Rk.apply(this,arguments)}function Ok(e,t,n){return Pk.apply(this,arguments)}function Pk(){return Pk=X(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Gm.from(i,n,r),e.next=3,wk(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,_k(t);case 5:case"end":return e.stop()}}),e)}))),Pk.apply(this,arguments)}function Dk(e,t){return Lk.apply(this,arguments)}function Lk(){return Lk=X(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Bk(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=X(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!av(i=n.code)||i===Uh.ABORTED){e.next=7;break}return r=t.Qr.shift(),Bk(t).wr(),e.next=5,wk(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,_k(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ik(t)&&Sk(t);case 5:case"end":return e.stop()}}),e)}))),Lk.apply(this,arguments)}function Mk(e,t){return jk.apply(this,arguments)}function jk(){return jk=X(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Fh(t)).asyncQueue.verifyOperationInProgress(),Oh("RemoteStore","RemoteStore received new credentials"),i=fk(r),r.Gr.add(3),e.next=6,rk(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,tk(r);case 12:case"end":return e.stop()}}),e)}))),jk.apply(this,arguments)}function Fk(e,t){return Uk.apply(this,arguments)}function Uk(){return Uk=X(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fh(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,tk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,rk(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Uk.apply(this,arguments)}function Vk(e){return e.Xr||(e.Xr=function(e,t,n){var r=Fh(e);return r.Or(),new Yg(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:dk.bind(null,e),Ni:vk.bind(null,e),br:yk.bind(null,e)}),e.zr.push(function(){var t=X(te().mark((function t(n){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),lk(e)?ck(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:hk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function Bk(e){return e.Zr||(e.Zr=function(e,t,n){var r=Fh(e);return r.Or(),new Jg(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Ck.bind(null,e),Ni:Dk.bind(null,e),Nr:Ak.bind(null,e),Cr:Ok.bind(null,e)}),e.zr.push(function(){var t=X(te().mark((function t(n){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,_k(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Oh("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var qk=function(){function e(t,n,r,i,a){o(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Bh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return s(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vh(Uh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function zk(e,t){if(Ph("AsyncQueue","".concat(t,": ").concat(e)),Um(e))return new Vh(Uh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Wk=function(){function e(t){o(this,e),this.comparator=t?function(e,n){return t(e,n)||xd.comparator(e.key,n.key)}:function(e,t){return xd.comparator(e.key,t.key)},this.keyedMap=vv(),this.sortedSet=new uv(this.comparator)}return s(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Hk=function(){function e(){o(this,e),this.eo=new uv(xd.comparator)}return s(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Mh():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Kk=function(){function e(t,n,r,i,a,u,s,c){o(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=s,this.excludesMetadataChanges=c}return s(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Wk.emptySet(n),a,r,i,!0,!1)}}]),e}(),Gk=s((function e(){o(this,e),this.so=void 0,this.listeners=[]})),Qk=s((function e(){o(this,e),this.queries=new Ly((function(e){return kp(e)}),gp),this.onlineState="Unknown",this.io=new Set}));function Zk(e,t){return Yk.apply(this,arguments)}function Yk(){return Yk=X(te().mark((function e(t,n){var r,i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fh(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Gk),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=zk(e.t0,"Initialization of query '".concat(bp(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&tb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Yk.apply(this,arguments)}function Jk(e,t){return $k.apply(this,arguments)}function $k(){return $k=X(te().mark((function e(t,n){var r,i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fh(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),$k.apply(this,arguments)}function Xk(e,t){var n,r=Fh(e),i=!1,a=(0,c.Z)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var l,f=(0,c.Z)(s.listeners);try{for(f.s();!(l=f.n()).done;){l.value.oo(o)&&(i=!0)}}catch(h){f.e(h)}finally{f.f()}s.so=o}}}catch(h){a.e(h)}finally{a.f()}i&&tb(r)}function eb(e,t,n){var r=Fh(e),i=r.queries.get(t);if(i){var a,o=(0,c.Z)(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function tb(e){e.io.forEach((function(e){e.next()}))}var nb=function(){function e(t,n,r){o(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return s(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=(0,c.Z)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Kk(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Kk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),rb=function(){function e(t,n){o(this,e),this.payload=t,this.byteLength=n}return s(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),ib=function(){function e(t){o(this,e),this.k=t}return s(e,[{key:"Hn",value:function(e){return Bv(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Gv(this.k,e.document,!1):Vd.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return jv(e)}}]),e}(),ab=function(){function e(t,n,r){o(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=ob(t)}return s(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new ib(this.k),i=(0,c.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),s=(0,c.Z)(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var l=o.value,f=(n.get(l)||kv()).add(u);n.set(l,f)}}catch(h){s.e(h)}finally{s.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=X(te().mark((function e(){var t,n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mg(this.localStore,new ib(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=(0,c.Z)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,gg(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Zy(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function ob(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ub=s((function e(t){o(this,e),this.key=t})),sb=s((function e(t){o(this,e),this.key=t})),cb=function(){function e(t,n){o(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=kv(),this.mutatedKeys=kv(),this.Ao=_p(t),this.Ro=new Wk(this.Ao)}return s(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new Hk,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=lp(this.query)&&i.size===this.query.limit?i.last():null,c=fp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=wp(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),lp(this.query)||fp(this.query))for(;o.size>this.query.limit;){var l=lp(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mh()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new Kk(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Hk,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=kv(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new sb(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new ub(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=kv();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Kk.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),lb=s((function e(t,n,r){o(this,e),this.query=t,this.targetId=n,this.view=r})),fb=s((function e(t){o(this,e),this.key=t,this.$o=!1})),hb=function(){function e(t,n,r,i,a,u){o(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Oo={},this.Mo=new Ly((function(e){return kp(e)}),gp),this.Fo=new Map,this.Lo=new Set,this.Bo=new uv(xd.comparator),this.Uo=new Map,this.qo=new wg,this.Ko={},this.jo=new Map,this.Qo=_y.re(),this.onlineState="Unknown",this.Wo=void 0}return s(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function db(e,t){return pb.apply(this,arguments)}function pb(){return pb=X(te().mark((function e(t,n){var r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ow(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,sg(r.localStore,mp(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,vb(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&ak(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),pb.apply(this,arguments)}function vb(e,t,n,r){return mb.apply(this,arguments)}function mb(){return mb=X(te().mark((function e(t,n,r,i){var a,o,u,s,c,l;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=X(te().mark((function e(t,n,r,i){var a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,fg(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Mb(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,fg(t.localStore,n,!0);case 3:return a=e.sent,o=new cb(n,a.zn),u=o.Po(a.documents),s=xv.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Mb(t,r,c.Co),l=new lb(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),mb.apply(this,arguments)}function yb(e,t){return gb.apply(this,arguments)}function gb(){return gb=X(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fh(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!gp(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,cg(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ok(r.remoteStore,i.targetId),Db(r,i.targetId)})).catch(Sy);case 9:e.next=14;break;case 11:return Db(r,i.targetId),e.next=14,cg(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),gb.apply(this,arguments)}function kb(e,t,n){return bb.apply(this,arguments)}function bb(){return bb=X(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=uw(t),e.prev=1,e.next=4,function(e,t){var n,r=Fh(e),i=nd.now(),a=t.reduce((function(e,t){return e.add(t.key)}),kv());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=(0,c.Z)(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,f=Kp(l,n.get(l.key));null!=f&&u.push(new Yp(l.key,f,Ud(f.value.mapValue),Bp.exists(!0)))}}catch(h){s.e(h)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new uv(Xh)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ub(i,a.changes);case 9:return e.next=11,_k(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=zk(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),bb.apply(this,arguments)}function wb(e,t){return _b.apply(this,arguments)}function _b(){return _b=X(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),e.prev=1,e.next=4,ag(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(jh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?jh(n.$o):e.removedDocuments.size>0&&(jh(n.$o),n.$o=!1))})),e.next=8,Ub(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Sy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),_b.apply(this,arguments)}function xb(e,t,n){var r=Fh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Fh(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=(0,c.Z)(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&tb(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Eb(e,t,n){return Tb.apply(this,arguments)}function Tb(){return Tb=X(te().mark((function e(t,n,r){var i,a,o,u,s,c;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Fh(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new uv(xd.comparator)).insert(o,Vd.newNoDocument(o,rd.min())),s=kv().add(o),c=new _v(rd.min(),new Map,new lv(Xh),u,s),e.next=9,wb(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),Fb(i),e.next=16;break;case 14:return e.next=16,cg(i.localStore,n,!1).then((function(){return Db(i,n,r)})).catch(Sy);case 16:case"end":return e.stop()}}),e)}))),Tb.apply(this,arguments)}function Ib(e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=X(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),i=n.batch.batchId,e.prev=1,e.next=4,rg(r.localStore,n);case 4:return a=e.sent,Pb(r,i,null),Ob(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ub(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Sy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Sb.apply(this,arguments)}function Cb(e,t,n){return Nb.apply(this,arguments)}function Nb(){return Nb=X(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fh(t),e.prev=1,e.next=4,function(e,t){var n=Fh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return jh(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Pb(i,n,r),Ob(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ub(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Sy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Nb.apply(this,arguments)}function Ab(e,t){return Rb.apply(this,arguments)}function Rb(){return Rb=X(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fk((r=Fh(t)).remoteStore)||Oh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Fh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=zk(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Rb.apply(this,arguments)}function Ob(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Pb(e,t,n){var r=Fh(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Db(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=(0,c.Z)(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||Lb(e,t)}))}function Lb(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(ok(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Fb(e))}function Mb(e,t,n){var r,i=(0,c.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ub?(e.qo.addReference(a.key,t),jb(e,a)):a instanceof sb?(Oh("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||Lb(e,a.key)):Mh()}}catch(o){i.e(o)}finally{i.f()}}function jb(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Oh("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Fb(e))}function Fb(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new xd(sd.fromString(t)),r=e.Qo.next();e.Uo.set(r,new fb(n)),e.Bo=e.Bo.insert(n,r),ak(e.remoteStore,new Qm(mp(cp(n.path)),r,2,Yh.I))}}function Ub(e,t,n){return Vb.apply(this,arguments)}function Vb(){return Vb=X(te().mark((function e(t,n,r){var i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fh(t),a=[],o=[],u=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Jy.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Oo.br(a),e.next=9,function(){var e=X(te().mark((function e(t,n){var r,i,a,o,u,s,l,f;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Dm.forEach(n,(function(t){return Dm.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Dm.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Um(e.t0)){e.next=10;break}throw e.t0;case 10:Oh("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=(0,c.Z)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),l=s.snapshotVersion,f=s.withLastLimboFreeSnapshotVersion(l),r.qn=r.qn.insert(u,f))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Vb.apply(this,arguments)}function Bb(e,t){return qb.apply(this,arguments)}function qb(){return qb=X(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Fh(t)).currentUser.isEqual(n)){e.next=11;break}return Oh("SyncEngine","User change. New user:",n.toKey()),e.next=5,tg(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Vh(Uh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ub(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),qb.apply(this,arguments)}function zb(e,t){var n=Fh(e),r=n.Uo.get(t);if(r&&r.$o)return kv().add(r.key);var i=kv(),a=n.Fo.get(t);if(!a)return i;var o,u=(0,c.Z)(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=n.Mo.get(s);i=i.unionWith(l.view.bo)}}catch(f){u.e(f)}finally{u.f()}return i}function Wb(e,t){return Hb.apply(this,arguments)}function Hb(){return Hb=X(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),e.next=3,fg(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&Mb(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),Hb.apply(this,arguments)}function Kb(e){return Gb.apply(this,arguments)}function Gb(){return Gb=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fh(t),e.abrupt("return",dg(n.localStore).then((function(e){return Ub(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Gb.apply(this,arguments)}function Qb(e,t,n,r){return Zb.apply(this,arguments)}function Zb(){return Zb=X(te().mark((function e(t,n,r,i){var a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fh(t),e.next=3,function(e,t){var n=Fh(e),r=Fh(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):Dm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,_k(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Pb(a,n,i||null),Ob(a,n),function(e,t){Fh(Fh(e).An).ee(t)}(a.localStore,n)):Mh();case 11:return e.next=13,Ub(a,o);case 13:e.next=16;break;case 15:Oh("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function Yb(e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=X(te().mark((function e(t,n){var r,i,a,o,u,s,l,f;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ow(r=Fh(t)),uw(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,$b(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,Fk(r.remoteStore,!0);case 9:o=(0,c.Z)(a);try{for(o.s();!(u=o.n()).done;)s=u.value,ak(r.remoteStore,s)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return l=[],f=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return Db(r,t),cg(r.localStore,t,!0)})),ok(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,$b(r,l);case 21:return function(e){var t=Fh(e);t.Uo.forEach((function(e,n){ok(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new uv(xd.comparator)}(r),r.Wo=!1,e.next=25,Fk(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Jb.apply(this,arguments)}function $b(e,t,n){return Xb.apply(this,arguments)}function Xb(){return Xb=X(te().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p,v,m,y,g;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Fh(t),a=[],o=[],u=(0,c.Z)(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(l=s.value,f=void 0,!(h=i.Fo.get(l))||0===h.length){e.next=34;break}return e.next=11,sg(i.localStore,mp(h[0]));case 11:f=e.sent,d=(0,c.Z)(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,m=i.Mo.get(v),e.next=20,Wb(i,m);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,hg(i.localStore,l);case 36:return g=e.sent,e.next=39,sg(i.localStore,g);case 39:return f=e.sent,e.next=42,vb(i,ew(g),l,!1);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Xb.apply(this,arguments)}function ew(e){return sp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function tw(e){var t=Fh(e);return Fh(Fh(t.localStore).persistence).Tn()}function nw(e,t,n,r){return rw.apply(this,arguments)}function rw(){return rw=X(te().mark((function e(t,n,r,i){var a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Fh(t)).Wo){e.next=5;break}Oh("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,dg(a.localStore);case 11:return o=e.sent,u=_v.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Ub(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,cg(a.localStore,n,!0);case 18:return Db(a,n,i),e.abrupt("break",21);case 20:Mh();case 21:case"end":return e.stop()}}),e)}))),rw.apply(this,arguments)}function iw(e,t,n){return aw.apply(this,arguments)}function aw(){return aw=X(te().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ow(t)).Wo){e.next=45;break}a=(0,c.Z)(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Fo.has(u)){e.next=10;break}return Oh("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,hg(i.localStore,u);case 12:return s=e.sent,e.next=15,sg(i.localStore,s);case 15:return l=e.sent,e.next=18,vb(i,ew(s),l.targetId,!1);case 18:ak(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=(0,c.Z)(r),e.prev=30,d=te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,cg(i.localStore,t,!1).then((function(){ok(i.remoteStore,t),Db(i,t)})).catch(Sy);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),aw.apply(this,arguments)}function ow(e){var t=Fh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Eb.bind(null,t),t.Oo.br=Xk.bind(null,t.eventManager),t.Oo.zo=eb.bind(null,t.eventManager),t}function uw(e){var t=Fh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ib.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Cb.bind(null,t),t}function sw(e,t,n){var r=Fh(e);(function(){var e=X(te().mark((function e(t,n,r){var i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Fh(e),r=jv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(ob(i)),a=new ab(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,Ub(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=Fh(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Dh("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var cw=function(){function e(){o(this,e),this.synchronizeTabs=!1}return s(e,[{key:"initialize",value:function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Gg(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return eg(this.persistence,new $y,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Sg(Ng.ks,this.k)}},{key:"Jo",value:function(e){return new Ug}},{key:"terminate",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),lw=function(e){h(n,e);var t=y(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return s(n,[{key:"initialize",value:function(){var e=X(te().mark((function e(t){var r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(d(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,pg(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,uw(this.tc.syncEngine);case 8:return e.next=10,_k(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return eg(this.persistence,new $y,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Ry(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Qy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?py.withCacheSize(this.cacheSizeBytes):py.DEFAULT;return new Hy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Hg(),Kg(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Ug}}]),n}(cw),fw=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return s(n,[{key:"initialize",value:function(){var e=X(te().mark((function e(t){var r,i=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(d(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof Fg,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:Qb.bind(null,r),gi:nw.bind(null,r),yi:iw.bind(null,r),Tn:tw.bind(null,r),_i:Kb.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yb(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Hg();if(!Fg.Pt(t))throw new Vh(Uh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fg(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(lw),hw=function(){function e(){o(this,e)}return s(e,[{key:"initialize",value:function(){var e=X(te().mark((function e(t,n){var r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return xb(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Bb.bind(null,this.syncEngine),e.next=12,Fk(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Qk}},{key:"createDatastore",value:function(e){var t,n=Gg(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Wg(t));return function(e,t,n,r){return new $g(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return xb(o.syncEngine,e,0)},a=Bg.Pt()?new Bg:new Vg,new ek(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new hb(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fh(t),Oh("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,rk(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function dw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return X(te().mark((function r(){var i;return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var pw=function(){function e(t){o(this,e),this.observer=t,this.muted=!1}return s(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),vw=function(){function e(t,n){var r=this;o(this,e),this.sc=t,this.k=n,this.metadata=new Bh,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return s(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=X(te().mark((function e(){var t,n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new rb(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=X(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=X(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),mw=function(){function e(t){o(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return s(e,[{key:"lookup",value:function(){var e=X(te().mark((function e(t){var n,r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Vh(Uh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=X(te().mark((function e(t,n){var r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),i=Wv(r.k)+"/documents",a={documents:n.map((function(e){return Vv(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Qv(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());jh(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new nv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=X(te().mark((function e(){var t,n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=xd.fromPath(t);n.mutations.push(new rv(r,n.precondition(r)))})),e.next=7,function(){var e=X(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),i=Wv(r.k)+"/documents",a={writes:n.map((function(e){return Zv(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mh();t=rd.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Vh(Uh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Bp.updateTime(t):Bp.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rd.min()))throw new Vh(Uh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bp.updateTime(t)}return Bp.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),yw=function(){function e(t,n,r,i){o(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new Qg(this.asyncQueue,"transaction_retry")}return s(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(X(te().mark((function t(){var n,r;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new mw(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!bd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!av(t)}return!1}}]),e}(),gw=function(){function e(t,n,r,i){var a=this;o(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ch.UNAUTHENTICATED,this.clientId=$h.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oh("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Oh("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return s(e,[{key:"getConfiguration",value:function(){var e=X(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Vh(Uh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Bh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(X(te().mark((function n(){var r;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=zk(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function kw(e,t){return bw.apply(this,arguments)}function bw(){return bw=X(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Oh("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,tg(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),bw.apply(this,arguments)}function ww(e,t){return _w.apply(this,arguments)}function _w(){return _w=X(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,xw(t);case 3:return r=e.sent,Oh("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Mk(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Mk(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),_w.apply(this,arguments)}function xw(e){return Ew.apply(this,arguments)}function Ew(){return Ew=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Oh("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,kw(t,new cw);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ew.apply(this,arguments)}function Tw(e){return Iw.apply(this,arguments)}function Iw(){return Iw=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Oh("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ww(t,new hw);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}function Sw(e){return xw(e).then((function(e){return e.persistence}))}function Cw(e){return xw(e).then((function(e){return e.localStore}))}function Nw(e){return Tw(e).then((function(e){return e.remoteStore}))}function Aw(e){return Tw(e).then((function(e){return e.syncEngine}))}function Rw(e){return Ow.apply(this,arguments)}function Ow(){return Ow=X(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tw(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=db.bind(null,n.syncEngine),r.onUnlisten=yb.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Ow.apply(this,arguments)}function Pw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Bh;return e.asyncQueue.enqueueAndForget(X(te().mark((function i(){return te().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new pw({next:function(a){t.enqueueAndForget((function(){return Jk(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Vh(Uh.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Vh(Uh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new nb(cp(n.path),a,{includeMetadataChanges:!0,wo:!0});return Zk(e,o)},i.next=3,Rw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Dw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Bh;return e.asyncQueue.enqueueAndForget(X(te().mark((function i(){return te().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new pw({next:function(n){t.enqueueAndForget((function(){return Jk(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Vh(Uh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new nb(n,a,{includeMetadataChanges:!0,wo:!0});return Zk(e,o)},i.next=3,Rw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Lw=s((function e(t,n,r,i,a,u,s,c){o(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=s,this.useFetchStreams=c})),Mw=function(){function e(t,n){o(this,e),this.projectId=t,this.database=n||"(default)"}return s(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),jw=new Map;function Fw(e,t,n){if(!n)throw new Vh(Uh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Uw(e,t,n,r){if(!0===t&&!0===r)throw new Vh(Uh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Vw(e){if(!xd.isDocumentKey(e))throw new Vh(Uh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bw(e){if(xd.isDocumentKey(e))throw new Vh(Uh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function qw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Mh()}function zw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vh(Uh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qw(e);throw new Vh(Uh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Ww(e,t){if(t<=0)throw new Vh(Uh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Hw=function(){function e(t){var n;if(o(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Vh(Uh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Vh(Uh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Uw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return s(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Kw=function(){function e(t,n,r){o(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hw({}),this._settingsFrozen=!1,t instanceof Mw?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vh(Uh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mw(e.options.projectId)}(t))}return s(e,[{key:"app",get:function(){if(!this._app)throw new Vh(Uh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Vh(Uh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zh;switch(e.type){case"gapi":var t=e.client;return jh(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Gh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Vh(Uh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=jw.get(e);t&&(Oh("ComponentProvider","Removing Datastore"),jw.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Gw(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=zw(e,Kw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Dh("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Ch.MOCK_USER;else{o=I(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Vh(Uh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ch(s)}e._authCredentials=new Wh(new qh(o,u))}}var Qw=function(){function e(t,n,r){o(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return s(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Yw(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Zw=function(){function e(t,n,r){o(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return s(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Yw=function(e){h(n,e);var t=y(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this,e,r,cp(i)))._path=i,a.type="collection",a}return s(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Qw(this.firestore,null,new xd(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Zw);function Jw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=G(e),Fw("collection","path",t),e instanceof Kw){var a=sd.fromString.apply(sd,[t].concat(r));return Bw(a),new Yw(e,null,a)}if(!(e instanceof Qw||e instanceof Yw))throw new Vh(Uh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(sd.fromString.apply(sd,[t].concat(r)));return Bw(o),new Yw(e.firestore,null,o)}function $w(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=G(e),1===arguments.length&&(t=$h.A()),Fw("doc","path",t),e instanceof Kw){var a=sd.fromString.apply(sd,[t].concat(r));return Vw(a),new Qw(e,null,new xd(a))}if(!(e instanceof Qw||e instanceof Yw))throw new Vh(Uh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(sd.fromString.apply(sd,[t].concat(r)));return Vw(o),new Qw(e.firestore,e instanceof Yw?e.converter:null,new xd(o))}function Xw(e,t){return e=G(e),t=G(t),(e instanceof Qw||e instanceof Yw)&&(t instanceof Qw||t instanceof Yw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function e_(e,t){return e=G(e),t=G(t),e instanceof Zw&&t instanceof Zw&&e.firestore===t.firestore&&gp(e._query,t._query)&&e.converter===t.converter}var t_=function(){function e(){var t=this;o(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Qg(this,"async_queue_retry"),this.bc=function(){var e=Kg();e&&Oh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Kg();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return s(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=Kg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new Bh;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=X(te().mark((function e(){var t=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Um(e.t0)){e.next=12;break}throw e.t0;case 12:Oh("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ph("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=qk.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&Mh()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=X(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=(0,c.Z)(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=(0,c.Z)(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function n_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=(0,c.Z)(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var r_=function(){function e(){o(this,e),this._progressObserver={},this._taskCompletionResolver=new Bh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return s(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),i_=function(e){h(n,e);var t=y(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new t_,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return s(n,[{key:"_terminate",value:function(){return this._firestoreClient||o_(this),this._firestoreClient.terminate()}}]),n}(Kw);function a_(e){return e._firestoreClient||o_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function o_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Lw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new gw(e._authCredentials,e._appCheckCredentials,e._queue,r)}function u_(e,t,n){var r=new Bh;return e.asyncQueue.enqueue(X(te().mark((function i(){return te().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,kw(e,n);case 3:return i.next=5,ww(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Uh.FAILED_PRECONDITION||e.code===Uh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function s_(e){return function(e){return e.asyncQueue.enqueue(X(te().mark((function t(){var n,r;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sw(e);case 2:return n=t.sent,t.next=5,Nw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Fh(e);return t.Gr.delete(0),tk(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(a_(e=zw(e,i_)))}function c_(e){return function(e){return e.asyncQueue.enqueue(X(te().mark((function t(){var n,r;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sw(e);case 2:return n=t.sent,t.next=5,Nw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fh(t)).Gr.add(0),e.next=4,rk(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(a_(e=zw(e,i_)))}function l_(e,t){var n=a_(e=zw(e,i_)),r=new r_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new vw(e,t)}(function(e,t){if(e instanceof Uint8Array)return dw(e,t);if(e instanceof ArrayBuffer)return dw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Gg(t));e.asyncQueue.enqueueAndForget(X(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sw,t.next=3,Aw(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function f_(e,t){return function(e,t){return e.asyncQueue.enqueue(X(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Fh(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,Cw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(a_(e=zw(e,i_)),t).then((function(t){return t?new Zw(e,null,t.query):null}))}function h_(e){if(e._initialized||e._terminated)throw new Vh(Uh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var d_=function(){function e(){o(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Vh(Uh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ld(n)}return s(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var p_=function(){function e(t){o(this,e),this._byteString=t}return s(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(hd.fromBase64String(t))}catch(t){throw new Vh(Uh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(hd.fromUint8Array(t))}}]),e}(),v_=s((function e(t){o(this,e),this._methodName=t})),m_=function(){function e(t,n){if(o(this,e),!isFinite(t)||t<-90||t>90)throw new Vh(Uh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Vh(Uh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return s(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Xh(this._lat,e._lat)||Xh(this._long,e._long)}}]),e}(),y_=/^__.*__$/,g_=function(){function e(t,n,r){o(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return s(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Yp(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zp(e,this.data,t,this.fieldTransforms)}}]),e}(),k_=function(){function e(t,n,r){o(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return s(e,[{key:"toMutation",value:function(e,t){return new Yp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function b_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mh()}}var w_=function(){function e(t,n,r,i,a,u){o(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}return s(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return B_(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(b_(this.$c)&&y_.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),__=function(){function e(t,n,r){o(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Gg(t)}return s(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new w_({$c:e,methodName:t,jc:n,path:ld.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function x_(e){var t=e._freezeSettings(),n=Gg(e._databaseId);return new __(e._databaseId,!!t.ignoreUndefinedProperties,n)}function E_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);j_("Data must be an object, but it was:",o,r);var u,s,l=L_(r,o);if(a.merge)u=new fd(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var f,h=[],d=(0,c.Z)(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=f.value,v=F_(t,p,n);if(!o.contains(v))throw new Vh(Uh.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));q_(h,v)||h.push(v)}}catch(m){d.e(m)}finally{d.f()}u=new fd(h),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new g_(new Fd(l),u,s)}var T_=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(v_);function I_(e,t,n){return new w_({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var S_=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"_toFieldTransform",value:function(e){return new Up(e.path,new Rp)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(v_),C_=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e)).Wc=r,i}return s(n,[{key:"_toFieldTransform",value:function(e){var t=I_(this,e,!0),n=this.Wc.map((function(e){return D_(e,t)})),r=new Op(n);return new Up(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(v_),N_=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e)).Wc=r,i}return s(n,[{key:"_toFieldTransform",value:function(e){var t=I_(this,e,!0),n=this.Wc.map((function(e){return D_(e,t)})),r=new Dp(n);return new Up(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(v_),A_=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e)).Gc=r,i}return s(n,[{key:"_toFieldTransform",value:function(e){var t=new Mp(e.k,Ip(e.k,this.Gc));return new Up(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(v_);function R_(e,t,n,r){var i=e.Qc(1,t,n);j_("Data must be an object, but it was:",i,r);var a=[],o=Fd.empty();ad(r,(function(e,r){var u=V_(t,e,n);r=G(r);var s=i.Bc(u);if(r instanceof T_)a.push(u);else{var c=D_(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new fd(a);return new k_(o,u,i.fieldTransforms)}function O_(e,t,n,r,i,a){var o=e.Qc(1,t,n),u=[F_(t,r,n)],s=[i];if(a.length%2!=0)throw new Vh(Uh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(F_(t,a[c])),s.push(a[c+1]);for(var l=[],f=Fd.empty(),h=u.length-1;h>=0;--h)if(!q_(l,u[h])){var d=u[h],p=s[h];p=G(p);var v=o.Bc(d);if(p instanceof T_)l.push(d);else{var m=D_(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new fd(l);return new k_(f,y,o.fieldTransforms)}function P_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return D_(n,e.Qc(r?4:3,t))}function D_(e,t){if(M_(e=G(e)))return j_("Unsupported field value:",t,e),L_(e,t);if(e instanceof v_)return function(e,t){if(!b_(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=(0,c.Z)(e);try{for(a.s();!(n=a.n()).done;){var o=D_(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=G(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ip(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=nd.fromDate(e);return{timestampValue:Dv(t.k,n)}}if(e instanceof nd){var r=new nd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Dv(t.k,r)}}if(e instanceof m_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof p_)return{bytesValue:Lv(t.k,e._byteString)};if(e instanceof Qw){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Fv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(qw(e)))}(e,t)}function L_(e,t){var n={};return od(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ad(e,(function(e,r){var i=D_(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function M_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof nd||e instanceof m_||e instanceof p_||e instanceof Qw||e instanceof v_)}function j_(e,t,n){if(!M_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qw(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function F_(e,t,n){if((t=G(t))instanceof d_)return t._internalPath;if("string"==typeof t)return V_(e,t);throw B_("Field path arguments must be of type string or ",e,!1,void 0,n)}var U_=new RegExp("[~\\*/\\[\\]]");function V_(e,t,n){if(t.search(U_)>=0)throw B_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return g(d_,J(t.split(".")))._internalPath}catch(r){throw B_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function B_(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Vh(Uh.INVALID_ARGUMENT,u+e+s)}function q_(e,t){return e.some((function(e){return e.isEqual(t)}))}var z_=function(){function e(t,n,r,i,a){o(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return s(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Qw(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new W_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(H_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),W_=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"data",value:function(){return et(d(n.prototype),"data",this).call(this)}}]),n}(z_);function H_(e,t){return"string"==typeof t?V_(e,t):t instanceof d_?t._internalPath:t._delegate._internalPath}var K_=function(){function e(t,n){o(this,e),this.hasPendingWrites=t,this.fromCache=n}return s(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),G_=function(e){h(n,e);var t=y(n);function n(e,r,i,a,u,s){var c;return o(this,n),(c=t.call(this,e,r,i,a,s))._firestore=e,c._firestoreImpl=e,c.metadata=u,c}return s(n,[{key:"exists",value:function(){return et(d(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Q_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(H_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(z_),Q_=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return et(d(n.prototype),"data",this).call(this,e)}}]),n}(G_),Z_=function(){function e(t,n,r,i){o(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new K_(i.hasPendingWrites,i.fromCache),this.query=r}return s(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Q_(n._firestore,n._userDataWriter,r.key,r,new K_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Vh(Uh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Q_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new K_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Q_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new K_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Y_(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Y_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mh()}}function J_(e,t){return e instanceof G_&&t instanceof G_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Z_&&t instanceof Z_&&e._firestore===t._firestore&&e_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function $_(e){if(fp(e)&&0===e.explicitOrderBy.length)throw new Vh(Uh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var X_=s((function e(){o(this,e)}));function ex(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var tx=function(e){h(n,e);var t=y(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return s(n,[{key:"_apply",value:function(e){var t=x_(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Vh(Uh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){hx(o,a);var s,l=[],f=(0,c.Z)(o);try{for(f.s();!(s=f.n()).done;){var h=s.value;l.push(fx(r,e,h))}}catch(p){f.e(p)}finally{f.f()}u={arrayValue:{values:l}}}else u=fx(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||hx(o,a),u=P_(n,"where",o,"in"===a||"not-in"===a);var d=Kd.create(i,a,u);return function(e,t){if(t.V()){var n=dp(e);if(null!==n&&!n.isEqual(t.field))throw new Vh(Uh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=hp(e);null!==r&&dx(e,t.field,r)}var i=function(e,t){var n,r=(0,c.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Vh(Uh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Vh(Uh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Zw(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new up(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(X_);var nx=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return s(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Vh(Uh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Vh(Uh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new rp(t,n);return function(e,t){if(null===hp(e)){var n=dp(e);null!==n&&dx(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new Zw(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new up(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(X_);var rx=function(e){h(n,e);var t=y(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return s(n,[{key:"_apply",value:function(e){return new Zw(e.firestore,e.converter,yp(e._query,this.Xc,this.Zc))}}]),n}(X_);var ix=function(e){h(n,e);var t=y(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return s(n,[{key:"_apply",value:function(e){var t=lx(e,this.type,this.ta,this.ea);return new Zw(e.firestore,e.converter,function(e,t){return new up(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(X_);function ax(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ix("startAt",t,!0)}function ox(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ix("startAfter",t,!1)}var ux=function(e){h(n,e);var t=y(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return s(n,[{key:"_apply",value:function(e){var t=lx(e,this.type,this.ta,this.ea);return new Zw(e.firestore,e.converter,function(e,t){return new up(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(X_);function sx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ux("endBefore",t,!0)}function cx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ux("endAt",t,!1)}function lx(e,t,n,r){if(n[0]=G(n[0]),n[0]instanceof z_)return function(e,t,n,r,i){if(!r)throw new Vh(Uh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=(0,c.Z)(vp(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Rd(t,r.key));else{var l=r.data.field(s.field);if(yd(l))throw new Vh(Uh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=s.field.canonicalString();throw new Vh(Uh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(h){u.e(h)}finally{u.f()}return new tp(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=x_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Vh(Uh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Vh(Uh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!pp(e)&&-1!==c.indexOf("/"))throw new Vh(Uh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(sd.fromString(c));if(!xd.isDocumentKey(l))throw new Vh(Uh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new xd(l);u.push(Rd(t,f))}else{var h=P_(n,r,c);u.push(h)}}return new tp(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function fx(e,t,n){if("string"==typeof(n=G(n))){if(""===n)throw new Vh(Uh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pp(t)&&-1!==n.indexOf("/"))throw new Vh(Uh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(sd.fromString(n));if(!xd.isDocumentKey(r))throw new Vh(Uh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Rd(e,new xd(r))}if(n instanceof Qw)return Rd(e,n._key);throw new Vh(Uh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(qw(n),"."))}function hx(e,t){if(!Array.isArray(e)||0===e.length)throw new Vh(Uh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Vh(Uh.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function dx(e,t,n){if(!n.isEqual(t))throw new Vh(Uh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var px=function(){function e(){o(this,e)}return s(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ed(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(md(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mh()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ad(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new m_(vd(e.latitude),vd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=gd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(kd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=pd(e);return new nd(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=sd.fromString(e);jh(lm(n));var r=new Mw(n.get(1),n.get(3)),i=new xd(n.popFirst(5));return r.isEqual(t)||Ph("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function vx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var mx=function(e){h(n,e);var t=y(n);function n(e){var r;return o(this,n),(r=t.call(this)).firestore=e,r}return s(n,[{key:"convertBytes",value:function(e){return new p_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qw(this.firestore,null,t)}}]),n}(px),yx=function(){function e(t,n){o(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=x_(t)}return s(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=gx(e,this._firestore),i=vx(r.converter,t,n),a=E_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Bp.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=gx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=G(t))||t instanceof d_?O_(this._dataReader,"WriteBatch.update",i._key,t,n,o):R_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Bp.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=gx(e,this._firestore);return this._mutations=this._mutations.concat(new nv(t._key,Bp.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Vh(Uh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function gx(e,t){if((e=G(e)).firestore!==t)throw new Vh(Uh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var kx=function(e){h(n,e);var t=y(n);function n(e){var r;return o(this,n),(r=t.call(this)).firestore=e,r}return s(n,[{key:"convertBytes",value:function(e){return new p_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qw(this.firestore,null,t)}}]),n}(px);function bx(e){e=zw(e,Qw);var t=zw(e.firestore,i_),n=a_(t),r=new kx(t);return function(e,t){var n=new Bh;return e.asyncQueue.enqueueAndForget(X(te().mark((function r(){return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=X(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Fh(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Vh(Uh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=zk(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Cw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new G_(t,r,e._key,n,new K_(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function wx(e){e=zw(e,Zw);var t=zw(e.firestore,i_),n=a_(t),r=new kx(t);return function(e,t){var n=new Bh;return e.asyncQueue.enqueueAndForget(X(te().mark((function r(){return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=X(te().mark((function e(t,n,r){var i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fg(t,n,!0);case 3:i=e.sent,a=new cb(n,i.zn),o=a.Po(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=zk(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Cw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Z_(t,r,e,n)}))}function _x(e,t,n){e=zw(e,Qw);var r=zw(e.firestore,i_),i=vx(e.converter,t,n);return Ix(r,[E_(x_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bp.none())])}function xx(e,t,n){e=zw(e,Qw);for(var r=zw(e.firestore,i_),i=x_(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Ix(r,[("string"==typeof(t=G(t))||t instanceof d_?O_(i,"updateDoc",e._key,t,n,o):R_(i,"updateDoc",e._key,t)).toMutation(e._key,Bp.exists(!0))])}function Ex(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=G(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||n_(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(n_(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Qw)l=zw(e.firestore,i_),f=cp(e._key.path),c={next:function(t){n[s]&&n[s](Sx(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=zw(e,Zw);l=zw(p.firestore,i_),f=p._query;var v=new kx(l);c={next:function(e){n[s]&&n[s](new Z_(l,v,p,e))},error:n[s+1],complete:n[s+2]},$_(e._query)}return function(e,t,n,r){var i=new pw(r),a=new nb(t,i,n);return e.asyncQueue.enqueueAndForget(X(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Zk,t.next=3,Rw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(X(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Jk,t.next=3,Rw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(a_(l),f,h,c)}function Tx(e,t){return function(e,t){var n=new pw(t);return e.asyncQueue.enqueueAndForget(X(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fh(e).io.add(t),t.next()},t.next=3,Rw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(X(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fh(e).io.delete(t)},t.next=3,Rw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(a_(e=zw(e,i_)),n_(t)?t:{next:t})}function Ix(e,t){return function(e,t){var n=new Bh;return e.asyncQueue.enqueueAndForget(X(te().mark((function r(){return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=kb,r.next=3,Aw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(a_(e),t)}function Sx(e,t,n){var r=n.docs.get(t._key),i=new kx(e);return new G_(e,i,t._key,r,new K_(n.hasPendingWrites,n.fromCache),t.converter)}var Cx=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,r))._firestore=e,i}return s(n,[{key:"get",value:function(e){var t=this,r=gx(e,this._firestore),i=new kx(this._firestore);return et(d(n.prototype),"get",this).call(this,e).then((function(e){return new G_(t._firestore,i,r._key,e._document,new K_(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){o(this,e),this._firestore=t,this._transaction=n,this._dataReader=x_(t)}return s(e,[{key:"get",value:function(e){var t=this,n=gx(e,this._firestore),r=new mx(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Mh();var i=e[0];if(i.isFoundDocument())return new z_(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new z_(t._firestore,r,n._key,null,n.converter);throw Mh()}))}},{key:"set",value:function(e,t,n){var r=gx(e,this._firestore),i=vx(r.converter,t,n),a=E_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=gx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=G(t))||t instanceof d_?O_(this._dataReader,"Transaction.update",i._key,t,n,o):R_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=gx(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Nx(e,t){return function(e,t){var n=new Bh;return e.asyncQueue.enqueueAndForget(X(te().mark((function r(){var i;return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Tw(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new yw(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(a_(e=zw(e,i_)),(function(n){return t(new Cx(e,n))}))}function Ax(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new C_("arrayUnion",t)}function Rx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new N_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Nh=e}(Le),Ie(new ne("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new i_(i,new Hh(e.getProvider("auth-internal")),new Zh(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Be(Sh,"3.4.4",e),Be(Sh,"3.4.4","esm2017")}();function Ox(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Vh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Px(){if("undefined"===typeof Uint8Array)throw new Vh("unimplemented","Uint8Arrays are not available in this environment.")}function Dx(){if("undefined"==typeof atob)throw new Vh("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Lx=function(){function e(t){o(this,e),this._delegate=t}return s(e,[{key:"toBase64",value:function(){return Dx(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Px(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Dx(),new e(p_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Px(),new e(p_.fromUint8Array(t))}}]),e}();function Mx(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=(0,c.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var jx=function(){function e(){o(this,e)}return s(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){h_(e=zw(e,i_));var n=a_(e),r=e._freezeSettings(),i=new hw;return u_(n,i,new lw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){h_(e=zw(e,i_));var t=a_(e),n=e._freezeSettings(),r=new hw;return u_(t,r,new fw(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Vh(Uh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Bh;return e._queue.enqueueAndForgetEvenWhileRestricted(X(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mm.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Mm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Qy(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Fx=function(){function e(t,n,r){var i=this;o(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Mw||(this._appCompat=t)}return s(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Dh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Gw(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return s_(this._delegate)}},{key:"disableNetwork",value:function(){return c_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Uw("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Bh;return e.asyncQueue.enqueueAndForget(X(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Ab,n.next=3,Aw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(a_(e=zw(e,i_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Tx(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Vh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new $x(this,Jw(this._delegate,e))}catch(t){throw Wx(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new zx(this,$w(this._delegate,e))}catch(t){throw Wx(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Zx(this,function(e,t){if(e=zw(e,Kw),Fw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Vh(Uh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Zw(e,null,function(e){return new up(sd.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Wx(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Nx(this._delegate,(function(n){return e(new Vx(t,n))}))}},{key:"batch",value:function(){var e=this;return a_(this._delegate),new Bx(new yx(this._delegate,(function(t){return Ix(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return l_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return f_(this._delegate,e).then((function(e){return e?new Zx(t,e):null}))}}]),e}(),Ux=function(e){h(n,e);var t=y(n);function n(e){var r;return o(this,n),(r=t.call(this)).firestore=e,r}return s(n,[{key:"convertBytes",value:function(e){return new Lx(new p_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return zx.forKey(t,this.firestore,null)}}]),n}(px);var Vx=function(){function e(t,n){o(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Ux(t)}return s(e,[{key:"get",value:function(e){var t=this,n=Xx(e);return this._delegate.get(n).then((function(e){return new Gx(t._firestore,new G_(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Xx(e);return n?(Ox("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Xx(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Xx(e);return this._delegate.delete(t),this}}]),e}(),Bx=function(){function e(t){o(this,e),this._delegate=t}return s(e,[{key:"set",value:function(e,t,n){var r=Xx(e);return n?(Ox("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Xx(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Xx(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),qx=function(){function e(t,n,r){o(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return s(e,[{key:"fromFirestore",value:function(e,t){var n=new Q_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qx(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Ux(t),n),i.set(n,a)),a}}]),e}();qx.INSTANCES=new WeakMap;var zx=function(){function e(t,n){o(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ux(t)}return s(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new $x(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new $x(this.firestore,Jw(this._delegate,e))}catch(t){throw Wx(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=G(e))instanceof Qw&&Xw(this._delegate,e)}},{key:"set",value:function(e,t){t=Ox("DocumentReference.set",t);try{return t?_x(this._delegate,e,t):_x(this._delegate,e)}catch(n){throw Wx(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?xx(this._delegate,e):xx.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Wx(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Ix(zw(e.firestore,i_),[new nv(e._key,Bp.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Hx(n),a=Kx(n,(function(t){return new Gx(e.firestore,new G_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Ex(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?bx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zw(e,Qw);var t=zw(e.firestore,i_);return Pw(a_(t),e._key,{source:"server"}).then((function(n){return Sx(t,e,n)}))}(this._delegate):function(e){e=zw(e,Qw);var t=zw(e.firestore,i_);return Pw(a_(t),e._key).then((function(n){return Sx(t,e,n)}))}(this._delegate),t.then((function(e){return new Gx(n.firestore,new G_(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(qx.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Vh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Qw(n._delegate,r,new xd(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Qw(n._delegate,r,t))}}]),e}();function Wx(e,t,n){return e.message=e.message.replace(t,n),e}function Hx(e){var t,n=(0,c.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Mx(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Kx(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Mx(e[0])?e[0]:Mx(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Gx=function(){function e(t,n){o(this,e),this._firestore=t,this._delegate=n}return s(e,[{key:"ref",get:function(){return new zx(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return J_(this._delegate,e._delegate)}}]),e}(),Qx=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Mh()}(void 0!==t),t}}]),n}(Gx),Zx=function(){function e(t,n){o(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ux(t)}return s(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ex(this._delegate,function(e,t,n){var r=t,i=H_("where",e);return new tx(i,r,n)}(t,n,r)))}catch(i){throw Wx(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ex(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=H_("orderBy",e);return new nx(n,t)}(t,n)))}catch(r){throw Wx(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ex(this._delegate,function(e){return Ww("limit",e),new rx("limit",e,"F")}(t)))}catch(n){throw Wx(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ex(this._delegate,function(e){return Ww("limitToLast",e),new rx("limitToLast",e,"L")}(t)))}catch(n){throw Wx(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,ex(this._delegate,ax.apply(void 0,arguments)))}catch(t){throw Wx(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ex(this._delegate,ox.apply(void 0,arguments)))}catch(t){throw Wx(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ex(this._delegate,sx.apply(void 0,arguments)))}catch(t){throw Wx(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ex(this._delegate,cx.apply(void 0,arguments)))}catch(t){throw Wx(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return e_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?wx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zw(e,Zw);var t=zw(e.firestore,i_),n=a_(t),r=new kx(t);return Dw(n,e._query,{source:"server"}).then((function(n){return new Z_(t,r,e,n)}))}(this._delegate):function(e){e=zw(e,Zw);var t=zw(e.firestore,i_),n=a_(t),r=new kx(t);return $_(e._query),Dw(n,e._query).then((function(n){return new Z_(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Jx(n.firestore,new Z_(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Hx(n),a=Kx(n,(function(t){return new Jx(e.firestore,new Z_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Ex(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(qx.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Yx=function(){function e(t,n){o(this,e),this._firestore=t,this._delegate=n}return s(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Qx(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Jx=function(){function e(t,n){o(this,e),this._firestore=t,this._delegate=n}return s(e,[{key:"query",get:function(){return new Zx(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Qx(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Yx(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Qx(n._firestore,r))}))}},{key:"isEqual",value:function(e){return J_(this._delegate,e._delegate)}}]),e}(),$x=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return s(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new zx(this.firestore,e):null}},{key:"doc",value:function(e){try{return new zx(this.firestore,void 0===e?$w(this._delegate):$w(this._delegate,e))}catch(t){throw Wx(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=zw(e.firestore,i_),r=$w(e),i=vx(e.converter,t);return Ix(n,[E_(x_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bp.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new zx(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Xw(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(qx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Zx);function Xx(e){return zw(e,Qw)}var eE=function(){function e(){o(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=g(d_,n)}return s(e,[{key:"isEqual",value:function(e){return(e=G(e))instanceof d_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ld.keyField().canonicalString())}}]),e}(),tE=function(){function e(t){o(this,e),this._delegate=t}return s(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new S_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new T_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Ax.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Rx.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new A_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),nE={Firestore:Fx,GeoPoint:m_,Timestamp:nd,Blob:Lx,Transaction:Vx,WriteBatch:Bx,DocumentReference:zx,DocumentSnapshot:Gx,Query:Zx,QueryDocumentSnapshot:Qx,QuerySnapshot:Jx,CollectionReference:$x,FieldPath:eE,FieldValue:tE,setLogLevel:function(e){!function(e){Ah.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ne("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},nE)))}(e,(function(e,t){return new Fx(e,t,new jx)})),e.registerVersion("@firebase/firestore-compat","0.1.13")}(Ye);var rE="firebasestorage.googleapis.com",iE=function(e){h(n,e);var t=y(n);function n(e,r){var i;return o(this,n),(i=t.call(this,aE(e),"Firebase Storage: ".concat(r," (").concat(aE(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(l(i),n.prototype),i}return s(n,[{key:"_codeEquals",value:function(e){return aE(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(D);function aE(e){return"storage/"+e}function oE(){return new iE("unknown","An unknown error occurred, please check the error payload for server response.")}function uE(){return new iE("canceled","User canceled the upload/download.")}function sE(){return new iE("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function cE(e){return new iE("invalid-argument",e)}function lE(){return new iE("app-deleted","The Firebase app was deleted.")}function fE(e){return new iE("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hE(e,t){return new iE("invalid-format","String does not match format '"+e+"': "+t)}function dE(e){throw new iE("internal-error","Internal error: "+e)}var pE,vE=function(){function e(t,n){o(this,e),this.bucket=t,this.path_=n}return s(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new iE("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===rE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new iE("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),mE=function(){function e(t){o(this,e),this.promise_=Promise.reject(t)}return s(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function yE(e){return"string"===typeof e||e instanceof String}function gE(e){return kE()&&e instanceof Blob}function kE(){return"undefined"!==typeof Blob}function bE(e,t,n,r){if(r<t)throw cE("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw cE("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function wE(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function _E(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(pE||(pE={}));var xE=function(){function e(t,n,r,i,a,u,s,c,l,f,h){var d=this;o(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=s,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return s(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=oE();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?lE():uE());else i(new iE("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new EE(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new EE(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===pE.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new EE(o,r))}else{var u=r.getErrorCode()===pE.ABORT;t(!1,new EE(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),EE=s((function e(t,n,r){o(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function TE(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function IE(){for(var e=TE(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(kE())return new Blob(n);throw new iE("unsupported-environment","This browser doesn't seem to support creating Blobs")}var SE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},CE=s((function e(t,n){o(this,e),this.data=t,this.contentType=n||null}));function NE(e,t){switch(e){case SE.RAW:return new CE(AE(t));case SE.BASE64:case SE.BASE64URL:return new CE(RE(e,t));case SE.DATA_URL:return new CE(function(e){var t=new OE(e);return t.base64?RE(SE.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw hE(SE.DATA_URL,"Malformed data URL.")}return AE(t)}(t.rest)}(t),new OE(t).contentType)}throw oE()}function AE(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function RE(e,t){switch(e){case SE.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw hE(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case SE.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw hE(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw hE(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var OE=s((function e(t){o(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw hE(SE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var PE=function(){function e(t,n){o(this,e);var r=0,i="";gE(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return s(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(gE(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(kE()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(IE.apply(null,i))}var a=n.map((function(e){return yE(e)?NE(SE.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function DE(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function LE(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ME(e,t){return t}var jE=s((function e(t,n,r,i){o(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||ME})),FE=null;function UE(){if(FE)return FE;var e=[];e.push(new jE("bucket")),e.push(new jE("generation")),e.push(new jE("metageneration")),e.push(new jE("name","fullPath",!0));var t=new jE("name");t.xform=function(e,t){return function(e){return!yE(e)||e.length<2?e:LE(e)}(t)},e.push(t);var n=new jE("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new jE("timeCreated")),e.push(new jE("updated")),e.push(new jE("md5Hash",null,!0)),e.push(new jE("cacheControl",null,!0)),e.push(new jE("contentDisposition",null,!0)),e.push(new jE("contentEncoding",null,!0)),e.push(new jE("contentLanguage",null,!0)),e.push(new jE("contentType",null,!0)),e.push(new jE("metadata","customMetadata",!0)),FE=e}function VE(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new vE(n,r);return t._makeStorageReference(i)}})}(r,e),r}function BE(e,t,n){var r=DE(t);return null===r?null:VE(e,r,n)}function qE(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function zE(e,t,n){var r=DE(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=(0,c.Z)(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new vE(t,o));r.prefixes.push(u)}}catch(d){a.e(d)}finally{a.f()}}if(n.items){var s,l=(0,c.Z)(n.items);try{for(l.s();!(s=l.n()).done;){var f=s.value,h=e._makeStorageReference(new vE(t,f.name));r.items.push(h)}}catch(d){l.e(d)}finally{l.f()}}return r}(e,t,r)}var WE=s((function e(t,n,r,i){o(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function HE(e){if(!e)throw oE()}function KE(e,t){return function(n,r){var i=BE(e,r,t);return HE(null!==i),i}}function GE(e,t){return function(n,r){var i=BE(e,r,t);return HE(null!==i),function(e,t,n,r){var i=DE(t);if(null===i)return null;if(!yE(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return wE("/b/"+o(i)+"/o/"+o(a),n,r)+_E({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function QE(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new iE("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new iE("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new iE("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new iE("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function ZE(e){var t=QE(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new iE("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function YE(e,t,n){var r=wE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new WE(r,"GET",KE(e,n),i);return a.errorHandler=ZE(t),a}function JE(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=wE(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new WE(o,"GET",function(e,t){return function(n,r){var i=zE(e,t,r);return HE(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=QE(t),s}function $E(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function XE(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=$E(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+qE(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=PE.getBlob(c,r,l);if(null===f)throw sE();var h={name:s.fullPath},d=wE(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new WE(d,"POST",KE(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=QE(t),v}var eT=s((function e(t,n,r,i){o(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function tT(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){HE(!1)}return HE(!!n&&-1!==(t||["active"]).indexOf(n)),n}var nT=262144;function rT(e,t,n,r,i,a,o,u){var s=new eT(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new iE("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw sE();var v=t.maxUploadRetryTime,m=new WE(n,"POST",(function(e,n){var i,o=tT(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?KE(t,a)(e,n):null,new eT(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=QE(e),m}var iT={STATE_CHANGED:"state_changed"},aT={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function oT(e){switch(e){case"running":case"pausing":case"canceling":return aT.RUNNING;case"paused":return aT.PAUSED;case"success":return aT.SUCCESS;case"canceled":return aT.CANCELED;default:return aT.ERROR}}var uT=s((function e(t,n,r){o(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function sT(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var cT=function(){function e(){var t=this;o(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pE.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=pE.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=pE.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return s(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw dE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw dE("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw dE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw dE("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw dE("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),lT=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(cT);function fT(){return new lT}var hT=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=UE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return s(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=(0,i.Z)(n,2),a=r[0],o=r[1];switch(t._state){case"running":e(a,o);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=$E(t,r,i),u={name:o.fullPath},s=wE(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=qE(o,n),f=e.maxUploadRetryTime,h=new WE(s,"POST",(function(e){var t;tT(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){HE(!1)}return HE(yE(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=QE(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,fT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new WE(n,"POST",(function(e){var t=tT(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){HE(!1)}n||HE(!1);var i=Number(n);return HE(!isNaN(i)),new eT(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=QE(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,fT,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=nT*this._chunkMultiplier,n=new eT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=rT(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,fT,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){nT*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=YE(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,fT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=XE(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,fT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=uE(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=oT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new uT(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(oT(this._state)){case aT.SUCCESS:sT(this._resolve.bind(null,this.snapshot))();break;case aT.CANCELED:case aT.ERROR:sT(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(oT(this._state)){case aT.RUNNING:case aT.PAUSED:e.next&&sT(e.next.bind(e,this.snapshot))();break;case aT.SUCCESS:e.complete&&sT(e.complete.bind(e))();break;default:e.error&&sT(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),dT=function(){function e(t,n){o(this,e),this._service=t,this._location=n instanceof vE?n:vE.makeFromUrl(n,t.host)}return s(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new vE(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return LE(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new vE(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw fE(e)}}]),e}();function pT(e,t,n){return vT.apply(this,arguments)}function vT(){return(vT=X(te().mark((function e(t,n,r){var i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,mT(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,J(u.prefixes)),(a=n.items).push.apply(a,J(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,pT(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mT(e,t){null!=t&&"number"===typeof t.maxResults&&bE("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=JE(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,fT)}function yT(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=wE(t.fullServerUrl(),e.host,e._protocol),a=qE(n,r),o=e.maxOperationRetryTime,u=new WE(i,"PATCH",KE(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=ZE(t),u}(e.storage,e._location,t,UE());return e.storage.makeRequestWithTokens(n,fT)}function gT(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=wE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new WE(r,"GET",GE(e,n),i);return a.errorHandler=ZE(t),a}(e.storage,e._location,UE());return e.storage.makeRequestWithTokens(t,fT).then((function(e){if(null===e)throw new iE("no-download-url","The given file does not have any download URLs.");return e}))}function kT(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=wE(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new WE(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=ZE(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,fT)}function bT(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new vE(e._location.bucket,n);return new dT(e.storage,r)}function wT(e,t){if(e instanceof TT){var n=e;if(null==n._bucket)throw new iE("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new dT(n,n._bucket);return null!=t?wT(r,t):r}return void 0!==t?bT(e,t):e}function _T(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof TT)return new dT(e,t);throw cE("To use ref(service, url), the first argument must be a Storage instance.")}return wT(e,t)}function xT(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:vE.makeFromBucketSpec(n,e)}function ET(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:I(i,e.app.options.projectId))}var TT=function(){function e(t,n,r,i,a){o(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=rE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?vE.makeFromBucketSpec(i,this._host):xT(this._host,this.app.options)}return s(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=vE.makeFromBucketSpec(this._url,e):this._bucket=xT(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){bE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){bE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=X(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=X(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new dT(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new mE(lE());var a=function(e,t,n,r,i,a){var o=_E(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new xE(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=X(te().mark((function e(t,n){var r,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,a=(0,i.Z)(r,2),o=a[0],u=a[1],e.abrupt("return",this._makeRequest(t,n,o,u).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),IT="@firebase/storage",ST="0.9.2",CT="storage";function NT(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new hT(e,new PE(t),n)}(e=G(e),t,n)}function AT(e){return function(e){e._throwIfRoot("getMetadata");var t=YE(e.storage,e._location,UE());return e.storage.makeRequestWithTokens(t,fT)}(e=G(e))}function RT(e){return function(e){var t={prefixes:[],items:[]};return pT(e,t).then((function(){return t}))}(e=G(e))}function OT(e,t){return _T(e=G(e),t)}function PT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};ET(e,t,n,r)}function DT(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new TT(r,i,a,n,Le)}Ie(new ne(CT,DT,"PUBLIC").setMultipleInstances(!0)),Be(IT,ST,""),Be(IT,ST,"esm2017");var LT=function(){function e(t,n,r){o(this,e),this._delegate=t,this.task=n,this.ref=r}return s(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),MT=function(){function e(t,n){o(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return s(e,[{key:"snapshot",get:function(){return new LT(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new LT(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new LT(e,i,i._ref))}:{next:t.next?function(e){return t.next(new LT(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),jT=function(){function e(t,n){o(this,e),this._delegate=t,this._service=n}return s(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new FT(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new FT(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),FT=function(){function e(t,n){o(this,e),this._delegate=t,this.storage=n}return s(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return bT(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new MT(NT(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:SE.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=NE(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new MT(new hT(this._delegate,new PE(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return RT(this._delegate).then((function(t){return new jT(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return mT(e=G(e),t)}(this._delegate,e||void 0).then((function(e){return new jT(e,t.storage)}))}},{key:"getMetadata",value:function(){return AT(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return yT(e=G(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return gT(G(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),kT(G(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw fE(e)}}]),e}(),UT=function(){function e(t,n){o(this,e),this.app=t,this._delegate=n}return s(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(VT(e))throw cE("ref() expected a child path but got a URL, use refFromURL instead.");return new FT(OT(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!VT(e))throw cE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vE.makeFromUrl(e,this._delegate.host)}catch(t){throw cE("refFromUrl() expected a valid full URL but got an invalid one.")}return new FT(OT(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};PT(this._delegate,e,t,n)}}]),e}();function VT(e){return/^[A-Za-z]+:\/\//.test(e)}function BT(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new UT(r,i)}!function(e){var t={TaskState:aT,TaskEvent:iT,StringFormat:SE,Storage:UT,Reference:FT};e.INTERNAL.registerComponent(new ne("storage-compat",BT,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.10")}(Ye);Ye.initializeApp({apiKey:"AIzaSyBKGkxhrSD0HtkYi0ztVB3lmyrOWwAP388",authDomain:"jeju-98f58.firebaseapp.com",projectId:"jeju-98f58",storageBucket:"jeju-98f58.appspot.com",messagingSenderId:"410551051268",appId:"1:410551051268:web:5a0880c5d4b3ef7d8f0151",measurementId:"G-X3S1VHYCVZ"});var qT=Ye.auth(),zT=Ye.firestore(),WT=(Ye.storage(),n(3504)),HT=n(6871);function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KT(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QT(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ZT(e,t){if(null==e)return{};var n,r,i=QT(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var YT=n(1694),JT=n.n(YT),$T=n(184),XT=t.createContext({prefixes:{}});XT.Consumer,XT.Provider;function eI(e,n){var r=(0,t.useContext)(XT).prefixes;return e||r[n]||n}var tI=["bsPrefix","fluid","as","className"],nI=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,u=ZT(e,tI),s=eI(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,$T.jsx)(a,GT(GT({ref:t},u),{},{className:JT()(o,r?"".concat(s).concat(c):s)}))}));nI.displayName="Container",nI.defaultProps={fluid:!1};var rI=nI,iI=n(2007),aI=n.n(iI),oI=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],uI=(aI().string,aI().bool,aI().bool,aI().bool,aI().bool,t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.fluid,a=e.rounded,o=e.roundedCircle,u=e.thumbnail,s=ZT(e,oI);return n=eI(n,"img"),(0,$T.jsx)("img",GT(GT({ref:t},s),{},{className:JT()(r,i&&"".concat(n,"-fluid"),a&&"rounded",o&&"rounded-circle",u&&"".concat(n,"-thumbnail"))}))})));uI.displayName="Image",uI.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1};var sI=uI,cI=["bsPrefix","className","as"],lI=["xxl","xl","lg","md","sm","xs"],fI=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=ZT(e,cI),u=eI(n,"row"),s="".concat(u,"-cols"),c=[];return lI.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r="xs"!==e?"-".concat(e):"";null!=t&&c.push("".concat(s).concat(r,"-").concat(t))})),(0,$T.jsx)(a,GT(GT({ref:t},o),{},{className:JT().apply(void 0,[r,u].concat(c))}))}));fI.displayName="Row";var hI=fI,dI=["as","bsPrefix","className"],pI=["className"],vI=["xxl","xl","lg","md","sm","xs"];var mI=t.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=ZT(e,dI);n=eI(n,"col");var a=[],o=[];return vI.forEach((function(e){var t,r,u,s=i[e];delete i[e],"object"===typeof s&&null!=s?(t=s.span,r=s.offset,u=s.order):t=s;var c="xs"!==e?"-".concat(e):"";t&&a.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=u&&o.push("order".concat(c,"-").concat(u)),null!=r&&o.push("offset".concat(c,"-").concat(r))})),[GT(GT({},i),{},{className:JT().apply(void 0,[r].concat(a,o))}),{as:t,bsPrefix:n,spans:a}]}(e),r=(0,i.Z)(n,2),a=r[0],o=a.className,u=ZT(a,pI),s=r[1],c=s.as,l=void 0===c?"div":c,f=s.bsPrefix,h=s.spans;return(0,$T.jsx)(l,GT(GT({},u),{},{ref:t,className:JT()(o,!h.length&&f)}))}));mI.displayName="Col";var yI=mI,gI=n(4569),kI=n.n(gI);var bI=function(){var e=(0,t.useState)({}),n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,t.useState)(""),u=(0,i.Z)(o,2),s=u[0],c=u[1];return(0,t.useEffect)((function(){kI().get("https://api.openweathermap.org/data/2.5/weather?q=jeju&appid=811b0a454728fbd5b85ea8e5dd837350&mode=json&units=metric").then((function(e){var t="http://openweathermap.org/img/wn/".concat(e.data.weather[0].icon,"@2x.png"),n=new Date(1e3*e.data.sys.sunrise),r=new Date(1e3*e.data.sys.sunset),i="".concat(n.getHours(),"\uc2dc ").concat(n.getMinutes(),"\ubd84"),o="".concat(r.getHours(),"\uc2dc ").concat(r.getMinutes(),"\ubd84"),u={cityName:e.data.name,sunrise:i,sunset:o,weather:e.data.weather[0].main,windSpeed:e.data.wind.speed,temp:e.data.main.temp,icon:t};a(u);var s=new Date,l="\n                    ".concat(s.getFullYear(),"\ub144 ").concat(s.getMonth()+1,"\uc6d4 ").concat(s.getDate(),"\uc77c\n                    ").concat(s.getHours(),"\uc2dc ").concat(s.getMinutes(),"\ubd84\n                    ");c(l)})).catch((function(e){console.log(e)}))}),[]),(0,$T.jsxs)(rI,{fluid:!0,style:{textAlign:"center"},children:[(0,$T.jsx)(sI,{src:r.icon}),(0,$T.jsx)("br",{}),(0,$T.jsxs)(hI,{style:{marginTop:"20px"},children:[(0,$T.jsxs)(hI,{children:[(0,$T.jsx)(yI,{}),(0,$T.jsx)(yI,{md:"auto",children:s}),(0,$T.jsx)(yI,{})]}),(0,$T.jsxs)(hI,{children:[(0,$T.jsx)(yI,{}),(0,$T.jsx)(yI,{md:"auto",children:r.cityName}),(0,$T.jsx)(yI,{})]}),(0,$T.jsxs)(hI,{children:[(0,$T.jsx)(yI,{}),(0,$T.jsxs)(yI,{md:"auto",children:[Math.round(r.temp),"\ub3c4"]}),(0,$T.jsx)(yI,{})]}),(0,$T.jsxs)(hI,{children:[(0,$T.jsx)(yI,{}),(0,$T.jsxs)(yI,{md:"auto",children:["\uc77c\ucd9c : ",r.sunrise]}),(0,$T.jsx)(yI,{})]}),(0,$T.jsxs)(hI,{children:[(0,$T.jsx)(yI,{}),(0,$T.jsxs)(yI,{md:"auto",children:["\uc77c\ubab0 : ",r.sunset]}),(0,$T.jsx)(yI,{})]}),(0,$T.jsxs)(hI,{children:[(0,$T.jsx)(yI,{}),(0,$T.jsxs)(yI,{md:"auto",children:["\ud48d\uc18d : ",r.windSpeed]}),(0,$T.jsx)(yI,{})]})]})]})},wI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},_I=t.createContext(null),xI=n(7462);n(2176);function EI(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function TI(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function II(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==n&&u(n),[s?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),u(e)}),[r])]}function SI(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[EI(r)],u=a[r],s=QT(a,[EI(r),r].map(TI)),c=t[r],l=II(u,o,e[c]),f=l[0],h=l[1];return(0,xI.Z)({},s,((i={})[r]=f,i[c]=h,i))}),e)}function CI(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function NI(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function AI(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}CI.__suppressDeprecationWarning=!0,NI.__suppressDeprecationWarning=!0,AI.__suppressDeprecationWarning=!0;var RI=/-(.)/g;var OI=["className","bsPrefix","as"],PI=function(e){return e[0].toUpperCase()+(t=e,t.replace(RI,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function DI(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?PI(e):r,a=n.Component,o=n.defaultProps,u=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,u=void 0===o?a||"div":o,s=ZT(t,OI),c=eI(i,e);return(0,$T.jsx)(u,GT({ref:n,className:JT()(r,c)},s))}));return u.defaultProps=o,u.displayName=i,u}var LI=["bsPrefix","className","as"],MI=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=ZT(e,LI);n=eI(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,$T.jsx)(o,GT(GT({},a),{},{ref:t,className:JT()(r,n)}))}));MI.displayName="NavbarBrand";var jI=MI;function FI(e){return e&&e.ownerDocument||document}function UI(e,t){return function(e){var t=FI(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var VI=/([A-Z])/g;var BI=/^ms-/;function qI(e){return function(e){return e.replace(VI,"-$1").toLowerCase()}(e).replace(BI,"-ms-")}var zI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var WI=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(qI(t))||UI(e).getPropertyValue(qI(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!zI.test(e))}(i)?n+=qI(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(qI(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var HI=!1,KI=t.createContext(null),GI="unmounted",QI="exited",ZI="entering",YI="entered",JI="exiting",$I=function(e){var n,i;function a(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=QI,r.appearStatus=ZI):i=YI:i=t.unmountOnExit||t.mountOnEnter?GI:QI,r.state={status:i},r.nextCallback=null,r}i=e,(n=a).prototype=Object.create(i.prototype),n.prototype.constructor=n,f(n,i),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===GI?{status:QI}:null};var o=a.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ZI&&n!==YI&&(t=ZI):n!==ZI&&n!==YI||(t=JI)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===ZI?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===QI&&this.setState({status:GI})},o.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[r.findDOMNode(this),i],o=a[0],u=a[1],s=this.getTimeouts(),c=i?s.appear:s.enter;!e&&!n||HI?this.safeSetState({status:YI},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:ZI},(function(){t.props.onEntering(o,u),t.onTransitionEnd(c,(function(){t.safeSetState({status:YI},(function(){t.props.onEntered(o,u)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!HI?(this.props.onExit(i),this.safeSetState({status:JI},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:QI},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:QI},(function(){e.props.onExited(i)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],u=a[1];this.props.addEndListener(o,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===GI)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,QT(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(KI.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},a}(t.Component);function XI(){}$I.contextType=KI,$I.propTypes={},$I.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:XI,onEntering:XI,onEntered:XI,onExit:XI,onExiting:XI,onExited:XI},$I.UNMOUNTED=GI,$I.EXITED=QI,$I.ENTERING=ZI,$I.ENTERED=YI,$I.EXITING=JI;var eS=$I,tS=!("undefined"===typeof window||!window.document||!window.document.createElement),nS=!1,rS=!1;try{var iS={get passive(){return nS=!0},get once(){return rS=nS=!0}};tS&&(window.addEventListener("test",iS,iS),window.removeEventListener("test",iS,!0))}catch(OO){}var aS=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!rS){var i=r.once,a=r.capture,o=n;!rS&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,nS?r:a)}e.addEventListener(t,n,r)};var oS=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var uS=function(e,t,n,r){return aS(e,t,n,r),function(){oS(e,t,n,r)}};function sS(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=uS(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function cS(e,t,n,r){null==n&&(n=function(e){var t=WI(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=sS(e,n,r),a=uS(e,"transitionend",t);return function(){i(),a()}}function lS(e,t){var n=WI(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function fS(e,t){var n=lS(e,"transitionDuration"),r=lS(e,"transitionDelay"),i=cS(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var hS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function dS(e){e.offsetHeight}var pS=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var vS=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=pS(e),r=pS(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var mS,yS=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],gS=t.forwardRef((function(e,n){var i=e.onEnter,a=e.onEntering,o=e.onEntered,u=e.onExit,s=e.onExiting,c=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=ZT(e,yS),p=(0,t.useRef)(null),v=vS(p,h),m=function(e){var t;v((t=e)&&"setState"in t?r.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},g=(0,t.useCallback)(y(i),[i]),k=(0,t.useCallback)(y(a),[a]),b=(0,t.useCallback)(y(o),[o]),w=(0,t.useCallback)(y(u),[u]),_=(0,t.useCallback)(y(s),[s]),x=(0,t.useCallback)(y(c),[c]),E=(0,t.useCallback)(y(l),[l]);return(0,$T.jsx)(eS,GT(GT({ref:n},d),{},{onEnter:g,onEntered:b,onEntering:k,onExit:w,onExited:x,onExiting:_,addEndListener:E,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,GT(GT({},t),{},{ref:m}))}:t.cloneElement(f,{ref:m})}))})),kS=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],bS={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function wS(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=bS[e];return n+parseInt(WI(t,r[0]),10)+parseInt(WI(t,r[1]),10)}var _S=(a(mS={},QI,"collapse"),a(mS,JI,"collapsing"),a(mS,ZI,"collapsing"),a(mS,YI,"collapse show"),mS),xS={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:wS},ES=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,h=e.getDimensionValue,d=void 0===h?wS:h,p=ZT(e,kS),v="function"===typeof f?f():f,m=(0,t.useMemo)((function(){return hS((function(e){e.style[v]="0"}),r)}),[v,r]),y=(0,t.useMemo)((function(){return hS((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),g=(0,t.useMemo)((function(){return hS((function(e){e.style[v]=null}),a)}),[v,a]),k=(0,t.useMemo)((function(){return hS((function(e){e.style[v]="".concat(d(v,e),"px"),dS(e)}),o)}),[o,d,v]),b=(0,t.useMemo)((function(){return hS((function(e){e.style[v]=null}),u)}),[v,u]);return(0,$T.jsx)(gS,GT(GT({ref:n,addEndListener:fS},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:y,onEntered:g,onExit:k,onExiting:b,childRef:c.ref,children:function(e,n){return t.cloneElement(c,GT(GT({},n),{},{className:JT()(s,c.props.className,_S[e],"width"===v&&"collapse-horizontal")}))}}))}));ES.defaultProps=xS;var TS=ES,IS=t.createContext(null);IS.displayName="NavbarContext";var SS=IS,CS=["children","bsPrefix"],NS=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=ZT(e,CS);i=eI(i,"navbar-collapse");var o=(0,t.useContext)(SS);return(0,$T.jsx)(TS,GT(GT({in:!(!o||!o.expanded)},a),{},{children:(0,$T.jsx)("div",{ref:n,className:i,children:r})}))}));NS.displayName="NavbarCollapse";var AS=NS;var RS=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function OS(e){var n=RS(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var PS=["bsPrefix","className","children","label","as","onClick"],DS=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,u=e.as,s=void 0===u?"button":u,c=e.onClick,l=ZT(e,PS);r=eI(r,"navbar-toggler");var f=(0,t.useContext)(SS)||{},h=f.onToggle,d=f.expanded,p=OS((function(e){c&&c(e),h&&h()}));return"button"===s&&(l.type="button"),(0,$T.jsx)(s,GT(GT({},l),{},{ref:n,onClick:p,"aria-label":o,className:JT()(i,r,!d&&"collapsed"),children:a||(0,$T.jsx)("span",{className:"".concat(r,"-icon")})}))}));DS.displayName="NavbarToggle",DS.defaultProps={label:"Toggle navigation"};var LS=DS;function MS(e){void 0===e&&(e=FI());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(OO){return e.body}}function jS(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function FS(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return function(){e.current=!1}}),[]),n.current}function US(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function VS(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}function BS(e){return"".concat("data-rr-ui-").concat(e)}var qS=BS("modal-open"),zS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,u=void 0!==a&&a;o(this,e),this.handleContainerOverflow=i,this.isRTL=u,this.modals=[],this.ownerDocument=n}return s(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=a({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(WI(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(qS,""),WI(r,t)}},{key:"reset",value:function(){var e=this;J(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(qS),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),WS=zS,HS=(0,t.createContext)(tS?window:void 0);HS.Provider;function KS(){return(0,t.useContext)(HS)}var GS=function(e,t){var n;return tS?null==e?(t||FI()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var QS,ZS=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function YS(e){var n=KS(),r=e||function(e){return QS||(QS=new WS({ownerDocument:null==e?void 0:e.document})),QS}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var JS=(0,t.forwardRef)((function(e,n){var a=e.show,o=void 0!==a&&a,u=e.role,s=void 0===u?"dialog":u,c=e.className,l=e.style,f=e.children,h=e.backdrop,d=void 0===h||h,p=e.keyboard,v=void 0===p||p,m=e.onBackdropClick,y=e.onEscapeKeyDown,g=e.transition,k=e.backdropTransition,b=e.autoFocus,w=void 0===b||b,_=e.enforceFocus,x=void 0===_||_,E=e.restoreFocus,T=void 0===E||E,I=e.restoreFocusOptions,S=e.renderDialog,C=e.renderBackdrop,N=void 0===C?function(e){return(0,$T.jsx)("div",Object.assign({},e))}:C,A=e.manager,R=e.container,O=e.onShow,P=e.onHide,D=void 0===P?function(){}:P,L=e.onExit,M=e.onExited,j=e.onExiting,F=e.onEnter,U=e.onEntering,V=e.onEntered,B=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ZS),q=function(e,n){var r=KS(),a=(0,t.useState)((function(){return GS(e,null==r?void 0:r.document)})),o=(0,i.Z)(a,2),u=o[0],s=o[1];if(!u){var c=GS(e);c&&s(c)}return(0,t.useEffect)((function(){n&&u&&n(u)}),[n,u]),(0,t.useEffect)((function(){var t=GS(e);t!==u&&s(t)}),[e,u]),u}(R),z=YS(A),W=FS(),H=VS(o),K=(0,t.useState)(!o),G=(0,i.Z)(K,2),Q=G[0],Z=G[1],Y=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return z}),[z]),tS&&!H&&o&&(Y.current=MS()),g||o||Q?o&&Q&&Z(!1):Z(!0);var J=OS((function(){if(z.add(),re.current=uS(document,"keydown",te),ne.current=uS(document,"focus",(function(){return setTimeout(X)}),!0),O&&O(),w){var e=MS(document);z.dialog&&e&&!jS(z.dialog,e)&&(Y.current=e,z.dialog.focus())}})),$=OS((function(){var e;(z.remove(),null==re.current||re.current(),null==ne.current||ne.current(),T)&&(null==(e=Y.current)||null==e.focus||e.focus(I),Y.current=null)}));(0,t.useEffect)((function(){o&&q&&J()}),[o,q,J]),(0,t.useEffect)((function(){Q&&$()}),[Q,$]),US((function(){$()}));var X=OS((function(){if(x&&W()&&z.isTopModal()){var e=MS();z.dialog&&e&&!jS(z.dialog,e)&&z.dialog.focus()}})),ee=OS((function(e){e.target===e.currentTarget&&(null==m||m(e),!0===d&&D())})),te=OS((function(e){v&&27===e.keyCode&&z.isTopModal()&&(null==y||y(e),e.defaultPrevented||D())})),ne=(0,t.useRef)(),re=(0,t.useRef)(),ie=g;if(!q||!(o||ie&&!Q))return null;var ae=Object.assign({role:s,ref:z.setDialogRef,"aria-modal":"dialog"===s||void 0},B,{style:l,className:c,tabIndex:-1}),oe=S?S(ae):(0,$T.jsx)("div",Object.assign({},ae,{children:t.cloneElement(f,{role:"document"})}));ie&&(oe=(0,$T.jsx)(ie,{appear:!0,unmountOnExit:!0,in:!!o,onExit:L,onExiting:j,onExited:function(){Z(!0),null==M||M.apply(void 0,arguments)},onEnter:F,onEntering:U,onEntered:V,children:oe}));var ue=null;if(d){var se=k;ue=N({ref:z.setBackdropRef,onClick:ee}),se&&(ue=(0,$T.jsx)(se,{appear:!0,in:!!o,children:ue}))}return(0,$T.jsx)($T.Fragment,{children:r.createPortal((0,$T.jsxs)($T.Fragment,{children:[ue,oe]}),q)})}));JS.displayName="Modal";var $S,XS=Object.assign(JS,{Manager:WS}),eC=["className","children","transitionClasses"],tC=(a($S={},ZI,"show"),a($S,YI,"show"),$S),nC=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,u=ZT(e,eC),s=(0,t.useCallback)((function(e,t){dS(e),null==u.onEnter||u.onEnter(e,t)}),[u]);return(0,$T.jsx)(gS,GT(GT({ref:n,addEndListener:fS},u),{},{onEnter:s,childRef:i.ref,children:function(e,n){return t.cloneElement(i,GT(GT({},n),{},{className:JT()("fade",r,i.props.className,tC[e],o[e])}))}}))}));nC.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},nC.displayName="Fade";var rC,iC=nC,aC=DI("offcanvas-body"),oC=["bsPrefix","className","children"],uC=(a(rC={},ZI,"show"),a(rC,YI,"show"),rC),sC=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=ZT(e,oC);return r=eI(r,"offcanvas"),(0,$T.jsx)(gS,GT(GT({ref:n,addEndListener:fS},o),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,GT(GT({},n),{},{className:JT()(i,a.props.className,(e===ZI||e===JI)&&"".concat(r,"-toggling"),uC[e])}))}}))}));sC.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},sC.displayName="OffcanvasToggling";var cC=sC,lC=t.createContext({onHide:function(){}}),fC=["className","variant"],hC={"aria-label":aI().string,onClick:aI().func,variant:aI().oneOf(["white"])},dC=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=ZT(e,fC);return(0,$T.jsx)("button",GT({ref:t,type:"button",className:JT()("btn-close",r&&"btn-close-".concat(r),n)},i))}));dC.displayName="CloseButton",dC.propTypes=hC,dC.defaultProps={"aria-label":"Close"};var pC=dC,vC=["closeLabel","closeVariant","closeButton","onHide","children"],mC=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,u=e.children,s=ZT(e,vC),c=(0,t.useContext)(lC),l=OS((function(){null==c||c.onHide(),null==o||o()}));return(0,$T.jsxs)("div",GT(GT({ref:n},s),{},{children:[u,a&&(0,$T.jsx)(pC,{"aria-label":r,variant:i,onClick:l})]}))}));mC.defaultProps={closeLabel:"Close",closeButton:!1};var yC=mC,gC=["bsPrefix","className"],kC=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=ZT(e,gC);return n=eI(n,"offcanvas-header"),(0,$T.jsx)(yC,GT(GT({ref:t},i),{},{className:JT()(r,n)}))}));kC.displayName="OffcanvasHeader",kC.defaultProps={closeLabel:"Close",closeButton:!1};var bC,wC=kC,_C=(bC="h5",t.forwardRef((function(e,t){return(0,$T.jsx)("div",GT(GT({},e),{},{ref:t,className:JT()(e.className,bC)}))}))),xC=DI("offcanvas-title",{Component:_C});var EC=Function.prototype.bind.call(Function.prototype.call,[].slice);function TC(e,t){return EC(e.querySelectorAll(t))}function IC(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var SC,CC=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",NC=".sticky-top",AC=".navbar-toggler",RC=function(e){h(n,e);var t=y(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,WI(t,a({},e,"".concat(parseFloat(WI(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],WI(t,a({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;et(d(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";TC(r,CC).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),TC(r,NC).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),TC(r,AC).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;et(d(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=IC(e.className,t):e.setAttribute("class",IC(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";TC(r,CC).forEach((function(e){return t.restore(i,e)})),TC(r,NC).forEach((function(e){return t.restore(a,e)})),TC(r,AC).forEach((function(e){return t.restore(a,e)}))}}]),n}(WS);var OC=RC,PC=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function DC(e){return(0,$T.jsx)(cC,GT({},e))}function LC(e){return(0,$T.jsx)(iC,GT({},e))}var MC=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],u=e.placement,s=e.show,c=e.backdrop,l=e.keyboard,f=e.scroll,h=e.onEscapeKeyDown,d=e.onShow,p=e.onHide,v=e.container,m=e.autoFocus,y=e.enforceFocus,g=e.restoreFocus,k=e.restoreFocusOptions,b=e.onEntered,w=e.onExit,_=e.onExiting,x=e.onEnter,E=e.onEntering,T=e.onExited,I=e.backdropClassName,S=e.manager,C=ZT(e,PC),N=(0,t.useRef)();r=eI(r,"offcanvas");var A=((0,t.useContext)(SS)||{}).onToggle,R=OS((function(){null==A||A(),null==p||p()})),O=(0,t.useMemo)((function(){return{onHide:R}}),[R]);var P=(0,t.useCallback)((function(e){return(0,$T.jsx)("div",GT(GT({},e),{},{className:JT()("".concat(r,"-backdrop"),I)}))}),[I,r]);return(0,$T.jsx)(lC.Provider,{value:O,children:(0,$T.jsx)(XS,{show:s,ref:n,backdrop:c,container:v,keyboard:l,autoFocus:m,enforceFocus:y&&!f,restoreFocus:g,restoreFocusOptions:k,onEscapeKeyDown:h,onShow:d,onHide:R,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==x||x.apply(void 0,[e].concat(n))},onEntering:E,onEntered:b,onExit:w,onExiting:_,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==T||T.apply(void 0,n)},manager:S||(f?(N.current||(N.current=new OC({handleContainerOverflow:!1})),N.current):function(e){return SC||(SC=new RC(e)),SC}()),transition:DC,backdropTransition:LC,renderBackdrop:P,renderDialog:function(e){return(0,$T.jsx)("div",GT(GT(GT({role:"dialog"},e),C),{},{className:JT()(i,r,"".concat(r,"-").concat(u)),"aria-labelledby":o,children:a}))}})})}));MC.displayName="Offcanvas",MC.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var jC=Object.assign(MC,{Body:aC,Header:wC,Title:xC}),FC=t.forwardRef((function(e,n){var r=(0,t.useContext)(SS);return(0,$T.jsx)(jC,GT({ref:n,show:!(null==r||!r.expanded)},e))}));FC.displayName="NavbarOffcanvas";var UC=FC,VC=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],BC=DI("navbar-text",{Component:"span"}),qC=t.forwardRef((function(e,n){var r=SI(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,u=r.bg,s=r.fixed,c=r.sticky,l=r.className,f=r.as,h=void 0===f?"nav":f,d=r.expanded,p=r.onToggle,v=r.onSelect,m=r.collapseOnSelect,y=ZT(r,VC),g=eI(i,"navbar"),k=(0,t.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&d&&(null==p||p(!1))}),[v,m,d,p]);void 0===y.role&&"nav"!==h&&(y.role="navigation");var b="".concat(g,"-expand");"string"===typeof a&&(b="".concat(b,"-").concat(a));var w=(0,t.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:g,expanded:!!d}}),[g,d,p]);return(0,$T.jsx)(SS.Provider,{value:w,children:(0,$T.jsx)(_I.Provider,{value:k,children:(0,$T.jsx)(h,GT(GT({ref:n},y),{},{className:JT()(l,g,a&&b,o&&"".concat(g,"-").concat(o),u&&"bg-".concat(u),c&&"sticky-".concat(c),s&&"fixed-".concat(s))}))})})}));qC.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},qC.displayName="Navbar";var zC=Object.assign(qC,{Brand:jI,Collapse:AS,Offcanvas:UC,Text:BC,Toggle:LS});var WC=t.createContext(null);function HC(){return(0,t.useState)(null)}var KC=Object.prototype.hasOwnProperty;function GC(e,t,n){var r,i=(0,c.Z)(e.keys());try{for(i.s();!(r=i.n()).done;)if(QC(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function QC(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&QC(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=(0,c.Z)(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=GC(t,i)))return!1;if(!t.has(i))return!1}}catch(l){o.e(l)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var u,s=(0,c.Z)(e);try{for(s.s();!(u=s.n()).done;){if((i=(r=u.value)[0])&&"object"===typeof i&&!(i=GC(t,i)))return!1;if(!QC(r[1],t.get(i)))return!1}}catch(l){s.e(l)}finally{s.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(KC.call(e,n)&&++r&&!KC.call(t,n))return!1;if(!(n in t)||!QC(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var ZC=function(e){var n=FS();return[e[0],(0,t.useCallback)((function(t){if(n())return e[1](t)}),[n,e[1]])]};function YC(e){return e.split("-")[0]}function JC(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function $C(e){return e instanceof JC(e).Element||e instanceof Element}function XC(e){return e instanceof JC(e).HTMLElement||e instanceof HTMLElement}function eN(e){return"undefined"!==typeof ShadowRoot&&(e instanceof JC(e).ShadowRoot||e instanceof ShadowRoot)}var tN=Math.max,nN=Math.min,rN=Math.round;function iN(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(XC(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=rN(n.width)/o||1),a>0&&(i=rN(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function aN(e){var t=iN(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function oN(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&eN(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function uN(e){return e?(e.nodeName||"").toLowerCase():null}function sN(e){return JC(e).getComputedStyle(e)}function cN(e){return["table","td","th"].indexOf(uN(e))>=0}function lN(e){return(($C(e)?e.ownerDocument:e.document)||window.document).documentElement}function fN(e){return"html"===uN(e)?e:e.assignedSlot||e.parentNode||(eN(e)?e.host:null)||lN(e)}function hN(e){return XC(e)&&"fixed"!==sN(e).position?e.offsetParent:null}function dN(e){for(var t=JC(e),n=hN(e);n&&cN(n)&&"static"===sN(n).position;)n=hN(n);return n&&("html"===uN(n)||"body"===uN(n)&&"static"===sN(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&XC(e)&&"fixed"===sN(e).position)return null;for(var n=fN(e);XC(n)&&["html","body"].indexOf(uN(n))<0;){var r=sN(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function pN(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function vN(e,t,n){return tN(e,nN(t,n))}function mN(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function yN(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var gN="top",kN="bottom",bN="right",wN="left",_N="auto",xN=[gN,kN,bN,wN],EN="start",TN="end",IN="viewport",SN="popper",CN=xN.reduce((function(e,t){return e.concat([t+"-"+EN,t+"-"+TN])}),[]),NN=[].concat(xN,[_N]).reduce((function(e,t){return e.concat([t,t+"-"+EN,t+"-"+TN])}),[]),AN=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var RN={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=YC(n.placement),s=pN(u),c=[wN,bN].indexOf(u)>=0?"height":"width";if(a&&o){var l=function(e,t){return mN("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:yN(e,xN))}(i.padding,n),f=aN(a),h="y"===s?gN:wN,d="y"===s?kN:bN,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=dN(a),y=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=l[h],b=y-f[c]-l[d],w=y/2-f[c]/2+g,_=vN(k,w,b),x=s;n.modifiersData[r]=((t={})[x]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&oN(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ON(e){return e.split("-")[1]}var PN={top:"auto",right:"auto",bottom:"auto",left:"auto"};function DN(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),k=wN,b=gN,w=window;if(c){var _=dN(n),x="clientHeight",E="clientWidth";if(_===JC(n)&&"static"!==sN(_=lN(n)).position&&"absolute"===u&&(x="scrollHeight",E="scrollWidth"),_=_,i===gN||(i===wN||i===bN)&&a===TN)b=kN,v-=(f&&w.visualViewport?w.visualViewport.height:_[x])-r.height,v*=s?1:-1;if(i===wN||(i===gN||i===kN)&&a===TN)k=bN,d-=(f&&w.visualViewport?w.visualViewport.width:_[E])-r.width,d*=s?1:-1}var T,I=Object.assign({position:u},c&&PN),S=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:rN(t*r)/r||0,y:rN(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=S.x,v=S.y,s?Object.assign({},I,((T={})[b]=g?"0":"",T[k]=y?"0":"",T.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",T)):Object.assign({},I,((t={})[b]=g?v+"px":"",t[k]=y?d+"px":"",t.transform="",t))}var LN={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:YC(t.placement),variation:ON(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,DN(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,DN(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},MN={passive:!0};var jN={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=JC(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,MN)})),u&&s.addEventListener("resize",n.update,MN),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,MN)})),u&&s.removeEventListener("resize",n.update,MN)}},data:{}},FN={left:"right",right:"left",bottom:"top",top:"bottom"};function UN(e){return e.replace(/left|right|bottom|top/g,(function(e){return FN[e]}))}var VN={start:"end",end:"start"};function BN(e){return e.replace(/start|end/g,(function(e){return VN[e]}))}function qN(e){var t=JC(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function zN(e){return iN(lN(e)).left+qN(e).scrollLeft}function WN(e){var t=sN(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function HN(e){return["html","body","#document"].indexOf(uN(e))>=0?e.ownerDocument.body:XC(e)&&WN(e)?e:HN(fN(e))}function KN(e,t){var n;void 0===t&&(t=[]);var r=HN(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=JC(r),o=i?[a].concat(a.visualViewport||[],WN(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(KN(fN(o)))}function GN(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function QN(e,t){return t===IN?GN(function(e){var t=JC(e),n=lN(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,u=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,u=r.offsetTop)),{width:i,height:a,x:o+zN(e),y:u}}(e)):$C(t)?function(e){var t=iN(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):GN(function(e){var t,n=lN(e),r=qN(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=tN(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=tN(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+zN(e),s=-r.scrollTop;return"rtl"===sN(i||n).direction&&(u+=tN(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}(lN(e)))}function ZN(e,t,n){var r="clippingParents"===t?function(e){var t=KN(fN(e)),n=["absolute","fixed"].indexOf(sN(e).position)>=0&&XC(e)?dN(e):e;return $C(n)?t.filter((function(e){return $C(e)&&oN(e,n)&&"body"!==uN(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=QN(e,n);return t.top=tN(r.top,t.top),t.right=nN(r.right,t.right),t.bottom=nN(r.bottom,t.bottom),t.left=tN(r.left,t.left),t}),QN(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function YN(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?YC(i):null,o=i?ON(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case gN:t={x:u,y:n.y-r.height};break;case kN:t={x:u,y:n.y+n.height};break;case bN:t={x:n.x+n.width,y:s};break;case wN:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?pN(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case EN:t[c]=t[c]-(n[l]/2-r[l]/2);break;case TN:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function JN(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,u=n.rootBoundary,s=void 0===u?IN:u,c=n.elementContext,l=void 0===c?SN:c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,v=mN("number"!==typeof p?p:yN(p,xN)),m=l===SN?"reference":SN,y=e.rects.popper,g=e.elements[h?m:l],k=ZN($C(g)?g:g.contextElement||lN(e.elements.popper),o,s),b=iN(e.elements.reference),w=YN({reference:b,element:y,strategy:"absolute",placement:i}),_=GN(Object.assign({},y,w)),x=l===SN?_:b,E={top:k.top-x.top+v.top,bottom:x.bottom-k.bottom+v.bottom,left:k.left-x.left+v.left,right:x.right-k.right+v.right},T=e.modifiersData.offset;if(l===SN&&T){var I=T[i];Object.keys(E).forEach((function(e){var t=[bN,kN].indexOf(e)>=0?1:-1,n=[gN,kN].indexOf(e)>=0?"y":"x";E[e]+=I[n]*t}))}return E}var $N={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,y=YC(m),g=s||(y===m||!p?[UN(m)]:function(e){if(YC(e)===_N)return[];var t=UN(e);return[BN(e),t,BN(t)]}(m)),k=[m].concat(g).reduce((function(e,n){return e.concat(YC(n)===_N?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?NN:s,l=ON(r),f=l?u?CN:CN.filter((function(e){return ON(e)===l})):xN,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=JN(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[YC(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,_=new Map,x=!0,E=k[0],T=0;T<k.length;T++){var I=k[T],S=YC(I),C=ON(I)===EN,N=[gN,kN].indexOf(S)>=0,A=N?"width":"height",R=JN(t,{placement:I,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),O=N?C?bN:wN:C?kN:gN;b[A]>w[A]&&(O=UN(O));var P=UN(O),D=[];if(a&&D.push(R[S]<=0),u&&D.push(R[O]<=0,R[P]<=0),D.every((function(e){return e}))){E=I,x=!1;break}_.set(I,D)}if(x)for(var L=function(e){var t=k.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function XN(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function eA(e){return[gN,bN,kN,wN].some((function(t){return e[t]>=0}))}var tA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=NN.reduce((function(e,n){return e[n]=function(e,t,n){var r=YC(e),i=[wN,gN].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[wN,bN].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var nA={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=JN(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=YC(t.placement),g=ON(t.placement),k=!g,b=pN(y),w="x"===b?"y":"x",_=t.modifiersData.popperOffsets,x=t.rects.reference,E=t.rects.popper,T="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,I="number"===typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(_){if(a){var N,A="y"===b?gN:wN,R="y"===b?kN:bN,O="y"===b?"height":"width",P=_[b],D=P+m[A],L=P-m[R],M=d?-E[O]/2:0,j=g===EN?x[O]:E[O],F=g===EN?-E[O]:-x[O],U=t.elements.arrow,V=d&&U?aN(U):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=B[A],z=B[R],W=vN(0,x[O],V[O]),H=k?x[O]/2-M-W-q-I.mainAxis:j-W-q-I.mainAxis,K=k?-x[O]/2+M+W+z+I.mainAxis:F+W+z+I.mainAxis,G=t.elements.arrow&&dN(t.elements.arrow),Q=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,Z=null!=(N=null==S?void 0:S[b])?N:0,Y=P+K-Z,J=vN(d?nN(D,P+H-Z-Q):D,P,d?tN(L,Y):L);_[b]=J,C[b]=J-P}if(u){var $,X="x"===b?gN:wN,ee="x"===b?kN:bN,te=_[w],ne="y"===w?"height":"width",re=te+m[X],ie=te-m[ee],ae=-1!==[gN,wN].indexOf(y),oe=null!=($=null==S?void 0:S[w])?$:0,ue=ae?re:te-x[ne]-E[ne]-oe+I.altAxis,se=ae?te+x[ne]+E[ne]-oe-I.altAxis:ie,ce=d&&ae?function(e,t,n){var r=vN(e,t,n);return r>n?n:r}(ue,te,se):vN(d?ue:re,te,d?se:ie);_[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function rA(e,t,n){void 0===n&&(n=!1);var r=XC(t),i=XC(t)&&function(e){var t=e.getBoundingClientRect(),n=rN(t.width)/e.offsetWidth||1,r=rN(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=lN(t),o=iN(e,i),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==uN(t)||WN(a))&&(u=function(e){return e!==JC(e)&&XC(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:qN(e);var t}(t)),XC(t)?((s=iN(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=zN(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function iA(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function aA(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var oA={placement:"bottom",modifiers:[],strategy:"absolute"};function uA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function sA(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?oA:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},oA,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:$C(e)?KN(e):e.contextElement?KN(e.contextElement):[],popper:KN(t)};var l=function(e){var t=iA(e);return AN.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(uA(t,n)){i.rects={reference:rA(t,dN(n),"fixed"===i.options.strategy),popper:aN(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:aA((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){c(),u=!0}};if(!uA(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var cA=sA({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=JN(t,{elementContext:"reference"}),u=JN(t,{altBoundary:!0}),s=XN(o,r),c=XN(u,i,a),l=eA(s),f=eA(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=YN({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},LN,jN,tA,$N,nA,RN]}),lA=["enabled","placement","strategy","modifiers"];function fA(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var hA={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},dA={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},pA=[];var vA=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.enabled,o=void 0===a||a,u=r.placement,s=void 0===u?"bottom":u,c=r.strategy,l=void 0===c?"absolute":c,f=r.modifiers,h=void 0===f?pA:f,d=fA(r,lA),p=(0,t.useRef)(h),v=(0,t.useRef)(),m=(0,t.useCallback)((function(){var e;null==(e=v.current)||e.update()}),[]),y=(0,t.useCallback)((function(){var e;null==(e=v.current)||e.forceUpdate()}),[]),g=ZC((0,t.useState)({placement:s,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),k=(0,i.Z)(g,2),b=k[0],w=k[1],_=(0,t.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),w({state:t,styles:n,attributes:r,update:m,forceUpdate:y,placement:t.placement})}}}),[m,y,w]),x=(0,t.useMemo)((function(){return QC(p.current,h)||(p.current=h),p.current}),[h]);return(0,t.useEffect)((function(){v.current&&o&&v.current.setOptions({placement:s,strategy:l,modifiers:[].concat(J(x),[_,hA])})}),[l,s,_,o,x]),(0,t.useEffect)((function(){if(o&&null!=e&&null!=n)return v.current=cA(e,n,Object.assign({},d,{placement:s,strategy:l,modifiers:[].concat(J(x),[dA,_])})),function(){null!=v.current&&(v.current.destroy(),v.current=void 0,w((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[o,e,n]),b},mA=n(2391),yA=n.n(mA),gA=function(){};function kA(e){return 0===e.button}function bA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var wA=function(e){return e&&("current"in e?e.current:e)};var _A=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gA,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.disabled,a=r.clickTrigger,o=void 0===a?"click":a,u=(0,t.useRef)(!1),s=(0,t.useCallback)((function(t){var n=wA(e);yA()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),u.current=!n||bA(t)||!kA(t)||!!jS(n,t.target)}),[e]),c=OS((function(e){u.current||n(e)}));(0,t.useEffect)((function(){if(!i&&null!=e){var t=FI(wA(e)),n=(t.defaultView||window).event,r=uS(t,o,s,!0),a=uS(t,o,(function(e){e!==n?c(e):n=void 0})),u=[];return"ontouchstart"in t.documentElement&&(u=[].slice.call(t.body.children).map((function(e){return uS(e,"mousemove",gA)}))),function(){r(),a(),u.forEach((function(e){return e()}))}}}),[e,i,o,s,c])};function xA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function EA(e){var t,n,r,i,a=e.enabled,o=e.enableEvents,u=e.placement,s=e.flip,c=e.offset,l=e.fixed,f=e.containerPadding,h=e.arrowElement,d=e.popperConfig,p=void 0===d?{}:d,v=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(p.modifiers);return Object.assign({},p,{placement:u,enabled:a,strategy:l?"fixed":p.strategy,modifiers:xA(Object.assign({},v,{eventListeners:{enabled:o},preventOverflow:Object.assign({},v.preventOverflow,{options:f?Object.assign({padding:f},null==(t=v.preventOverflow)?void 0:t.options):null==(n=v.preventOverflow)?void 0:n.options}),offset:{options:Object.assign({offset:c},null==(r=v.offset)?void 0:r.options)},arrow:Object.assign({},v.arrow,{enabled:!!h,options:Object.assign({},null==(i=v.arrow)?void 0:i.options,{element:h})}),flip:Object.assign({enabled:!!s},v.flip)}))})}var TA=["children"];var IA=function(){};function SA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.useContext)(WC),r=HC(),a=(0,i.Z)(r,2),o=a[0],u=a[1],s=(0,t.useRef)(!1),c=e.flip,l=e.offset,f=e.rootCloseEvent,h=e.fixed,d=void 0!==h&&h,p=e.placement,v=e.popperConfig,m=void 0===v?{}:v,y=e.enableEventListeners,g=void 0===y||y,k=e.usePopper,b=void 0===k?!!n:k,w=null==(null==n?void 0:n.show)?!!e.show:n.show;w&&!s.current&&(s.current=!0);var _=function(e){null==n||n.toggle(!1,e)},x=n||{},E=x.placement,T=x.setMenu,I=x.menuElement,S=x.toggleElement,C=vA(S,I,EA({placement:p||E||"bottom-start",enabled:b,enableEvents:null==g?w:g,offset:l,flip:c,fixed:d,arrowElement:o,popperConfig:m})),N=Object.assign({ref:T||IA,"aria-labelledby":null==S?void 0:S.id},C.attributes.popper,{style:C.styles.popper}),A={show:w,placement:E,hasShown:s.current,toggle:null==n?void 0:n.toggle,popper:b?C:null,arrowProps:b?Object.assign({ref:u},C.attributes.arrow,{style:C.styles.arrow}):{}};return _A(I,_,{clickTrigger:f,disabled:!w}),[N,A]}function CA(e){var t=e.children,n=SA(function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,TA)),r=(0,i.Z)(n,2),a=r[0],o=r[1];return(0,$T.jsx)($T.Fragment,{children:t(a,o)})}CA.displayName="DropdownMenu",CA.defaultProps={usePopper:!0};var NA=CA,AA={prefix:String(Math.round(1e10*Math.random())),current:0},RA=t.createContext(AA);var OA=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);var PA=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},DA=function(){};function LA(){var e=function(e){var n=(0,t.useContext)(RA);return n!==AA||OA||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,t.useMemo)((function(){return e||"react-aria"+n.prefix+"-"+ ++n.current}),[e])}(),n=(0,t.useContext)(WC)||{},r=n.show,i=void 0!==r&&r,a=n.toggle,o=void 0===a?DA:a,u=n.setToggle,s=n.menuElement,c=(0,t.useCallback)((function(e){o(!i,e)}),[i,o]),l={id:e,ref:u||DA,onClick:c,"aria-expanded":!!i};return s&&PA(s)&&(l["aria-haspopup"]=!0),[l,{show:i,toggle:o}]}function MA(e){var t=e.children,n=LA(),r=(0,i.Z)(n,2),a=r[0],o=r[1];return(0,$T.jsx)($T.Fragment,{children:t(a,o)})}MA.displayName="DropdownToggle";var jA=MA,FA=t.createContext(null);FA.displayName="NavContext";var UA=FA,VA=["as","disabled"];function BA(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,u=e.tabIndex,s=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return[{role:"button",disabled:void 0,tabIndex:n?void 0:s,href:"a"===t&&n?void 0:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var qA=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,a=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,VA),o=BA(Object.assign({tagName:n,disabled:r},a)),u=(0,i.Z)(o,2),s=u[0],c=u[1].tagName;return(0,$T.jsx)(c,Object.assign({},a,s,{ref:t}))}));qA.displayName="Button";var zA=qA,WA=["eventKey","disabled","onClick","active","as"];function HA(e){var n=e.key,r=e.href,i=e.active,o=e.disabled,u=e.onClick,s=(0,t.useContext)(_I),c=((0,t.useContext)(UA)||{}).activeKey,l=wI(n,r),f=null==i&&null!=n?wI(c)===l:i;return[a({onClick:OS((function(e){o||(null==u||u(e),s&&!e.isPropagationStopped()&&s(l,e))})),"aria-disabled":o||void 0,"aria-selected":f},BS("dropdown-item"),""),{isActive:f}]}var KA=t.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,a=e.onClick,o=e.active,u=e.as,s=void 0===u?zA:u,c=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,WA),l=HA({key:n,href:c.href,disabled:r,onClick:a,active:o}),f=(0,i.Z)(l,1)[0];return(0,$T.jsx)(s,Object.assign({},c,{ref:t},f))}));KA.displayName="DropdownItem";var GA=KA;function QA(){var e=(0,t.useReducer)((function(e){return!e}),!1)[1],n=(0,t.useRef)(null),r=(0,t.useCallback)((function(t){n.current=t,e()}),[e]);return[n,r]}function ZA(e){var n=e.defaultShow,r=e.show,a=e.onSelect,o=e.onToggle,u=e.itemSelector,s=void 0===u?"* [".concat(BS("dropdown-item"),"]"):u,c=e.focusFirstItemOnShow,l=e.placement,f=void 0===l?"bottom-start":l,h=e.children,d=KS(),p=II(r,n,o),v=(0,i.Z)(p,2),m=v[0],y=v[1],g=QA(),k=(0,i.Z)(g,2),b=k[0],w=k[1],_=b.current,x=QA(),E=(0,i.Z)(x,2),T=E[0],I=E[1],S=T.current,C=VS(m),N=(0,t.useRef)(null),A=(0,t.useRef)(!1),R=(0,t.useContext)(_I),O=(0,t.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;y(e,{originalEvent:t,source:n})}),[y]),P=OS((function(e,t){null==a||a(e,t),O(!1,t,"select"),t.isPropagationStopped()||null==R||R(e,t)})),D=(0,t.useMemo)((function(){return{toggle:O,placement:f,show:m,menuElement:_,toggleElement:S,setMenu:w,setToggle:I}}),[O,f,m,_,S,w,I]);_&&C&&!m&&(A.current=_.contains(_.ownerDocument.activeElement));var L=OS((function(){S&&S.focus&&S.focus()})),M=OS((function(){var e=N.current,t=c;if(null==t&&(t=!(!b.current||!PA(b.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=TC(b.current,s)[0];n&&n.focus&&n.focus()}}));(0,t.useEffect)((function(){m?M():A.current&&(A.current=!1,L())}),[m,A,L,M]),(0,t.useEffect)((function(){N.current=null}));var j=function(e,t){if(!b.current)return null;var n=TC(b.current,s),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,n,r,i){void 0===i&&(i=!1);var a=OS(r);(0,t.useEffect)((function(){var t="function"===typeof e?e():e;return t.addEventListener(n,a,i),function(){return t.removeEventListener(n,a,i)}}),[e])}((0,t.useCallback)((function(){return d.document}),[d]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=b.current)?void 0:t.contains(i),o=null==(n=T.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===i.type))&&(a||o)&&("Tab"!==r||b.current&&m)){N.current=e.type;var u={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var s=j(i,-1);return s&&s.focus&&s.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),m){var c=j(i,1);c&&c.focus&&c.focus()}else y(!0,u);return;case"Tab":aS(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=b.current)&&t.contains(e.target)||y(!1,u)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),y(!1,u)}}})),(0,$T.jsx)(_I.Provider,{value:P,children:(0,$T.jsx)(WC.Provider,{value:D,children:h})})}ZA.displayName="Dropdown",ZA.Menu=NA,ZA.Toggle=jA,ZA.Item=GA;var YA=ZA,JA=t.createContext({});JA.displayName="DropdownContext";var $A=JA;var XA="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,eR="undefined"!==typeof document||XA?t.useLayoutEffect:t.useEffect;new WeakMap;var tR=["onKeyDown"];var nR=t.forwardRef((function(e,t){var n,r=e.onKeyDown,a=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,tR),o=BA(Object.assign({tagName:"a"},a)),u=(0,i.Z)(o,1)[0],s=OS((function(e){u.onKeyDown(e),null==r||r(e)}));return((n=a.href)&&"#"!==n.trim()||a.role)&&"button"!==a.role?(0,$T.jsx)("a",Object.assign({ref:t},a,{onKeyDown:r})):(0,$T.jsx)("a",Object.assign({ref:t},a,u,{onKeyDown:s}))}));nR.displayName="Anchor";var rR=nR,iR=["bsPrefix","className","eventKey","disabled","onClick","active","as"],aR=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.eventKey,o=e.disabled,u=void 0!==o&&o,s=e.onClick,c=e.active,l=e.as,f=void 0===l?rR:l,h=ZT(e,iR),d=eI(n,"dropdown-item"),p=HA({key:a,href:h.href,disabled:u,onClick:s,active:c}),v=(0,i.Z)(p,2),m=v[0],y=v[1];return(0,$T.jsx)(f,GT(GT(GT({},h),m),{},{ref:t,className:JT()(r,d,y.isActive&&"active",u&&"disabled")}))}));aR.displayName="DropdownItem";var oR=aR,uR=t.createContext(null);uR.displayName="InputGroupContext";var sR=uR;function cR(e,t){return e}var lR=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function fR(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}var hR=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.className,o=e.align,u=e.rootCloseEvent,s=e.flip,c=e.show,l=e.renderOnMount,f=e.as,h=void 0===f?"div":f,d=e.popperConfig,p=e.variant,v=ZT(e,lR),m=!1,y=(0,t.useContext)(SS),g=eI(r,"dropdown-menu"),k=(0,t.useContext)($A),b=k.align,w=k.drop,_=k.isRTL;o=o||b;var x=(0,t.useContext)(sR),E=[];if(o)if("object"===typeof o){var T=Object.keys(o);if(T.length){var I=T[0],S=o[I];m="start"===S,E.push("".concat(g,"-").concat(I,"-").concat(S))}}else"end"===o&&(m=!0);var C=fR(m,w,_),N=SA({flip:s,rootCloseEvent:u,show:c,usePopper:!y&&0===E.length,offset:[0,2],popperConfig:d,placement:C}),A=(0,i.Z)(N,2),R=A[0],O=A[1],P=O.hasShown,D=O.popper,L=O.show,M=O.toggle;if(R.ref=vS(cR(n),R.ref),eR((function(){L&&(null==D||D.update())}),[L]),!P&&!l&&!x)return null;"string"!==typeof h&&(R.show=L,R.close=function(){return null==M?void 0:M(!1)},R.align=o);var j=v.style;return null!=D&&D.placement&&(j=GT(GT({},v.style),R.style),v["x-placement"]=D.placement),(0,$T.jsx)(h,GT(GT(GT(GT({},v),R),{},{style:j},(E.length||y)&&{"data-bs-popper":"static"}),{},{className:JT().apply(void 0,[a,g,L&&"show",m&&"".concat(g,"-end"),p&&"".concat(g,"-").concat(p)].concat(E))}))}));hR.displayName="DropdownMenu",hR.defaultProps={flip:!0};var dR=hR,pR=["as","bsPrefix","variant","size","active","className"],vR=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,a=e.variant,o=e.size,u=e.active,s=e.className,c=ZT(e,pR),l=eI(r,"btn"),f=BA(GT({tagName:n},c)),h=(0,i.Z)(f,2),d=h[0],p=h[1].tagName;return(0,$T.jsx)(p,GT(GT(GT({},c),d),{},{ref:t,className:JT()(s,l,u&&"active",a&&"".concat(l,"-").concat(a),o&&"".concat(l,"-").concat(o),c.href&&c.disabled&&"disabled")}))}));vR.displayName="Button",vR.defaultProps={variant:"primary",active:!1,disabled:!1};var mR=vR,yR=["bsPrefix","split","className","childBsPrefix","as"],gR=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.split,o=e.className,u=e.childBsPrefix,s=e.as,c=void 0===s?mR:s,l=ZT(e,yR),f=eI(r,"dropdown-toggle"),h=(0,t.useContext)(WC),d=(0,t.useContext)(sR);void 0!==u&&(l.bsPrefix=u);var p=LA(),v=(0,i.Z)(p,1)[0];return v.ref=vS(v.ref,cR(n)),(0,$T.jsx)(c,GT(GT({className:JT()(o,f,a&&"".concat(f,"-split"),!!d&&(null==h?void 0:h.show)&&"show")},v),l))}));gR.displayName="DropdownToggle";var kR=gR,bR=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],wR=DI("dropdown-header",{defaultProps:{role:"heading"}}),_R=DI("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),xR=DI("dropdown-item-text",{Component:"span"}),ER=t.forwardRef((function(e,n){var r=SI(e,{show:"onToggle"}),i=r.bsPrefix,a=r.drop,o=r.show,u=r.className,s=r.align,c=r.onSelect,l=r.onToggle,f=r.focusFirstItemOnShow,h=r.as,d=void 0===h?"div":h,p=(r.navbar,r.autoClose),v=ZT(r,bR),m=(0,t.useContext)(sR),y=eI(i,"dropdown"),g="rtl"===(0,t.useContext)(XT).dir,k=OS((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===p?"click"===n:"inside"===p?"rootClose"!==n:"outside"!==p||"select"!==n)&&(null==l||l(e,t))})),b=fR("end"===s,a,g),w=(0,t.useMemo)((function(){return{align:s,drop:a,isRTL:g}}),[s,a,g]);return(0,$T.jsx)($A.Provider,{value:w,children:(0,$T.jsx)(YA,{placement:b,show:o,onSelect:c,onToggle:k,focusFirstItemOnShow:f,itemSelector:".".concat(y,"-item:not(.disabled):not(:disabled)"),children:m?v.children:(0,$T.jsx)(d,GT(GT({},v),{},{ref:n,className:JT()(u,o&&"show",(!a||"down"===a)&&y,"up"===a&&"dropup","end"===a&&"dropend","start"===a&&"dropstart")}))})})}));ER.displayName="Dropdown",ER.defaultProps={navbar:!1,align:"start",autoClose:!0};var TR=Object.assign(ER,{Toggle:kR,Menu:dR,Item:oR,ItemText:xR,Divider:_R,Header:wR}),IR=["as","active","eventKey"];function SR(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,u=e.disabled,s=(0,t.useContext)(_I),c=(0,t.useContext)(UA),l=i,f={role:o};if(c){o||"tablist"!==c.role||(f.role="tab");var h=c.getControllerId(null!=n?n:null),d=c.getControlledId(null!=n?n:null);f[BS("event-key")]=n,f.id=h||a,f["aria-controls"]=d,l=null==i&&null!=n?c.activeKey===n:i}return"tab"===f.role&&(u&&(f.tabIndex=-1,f["aria-disabled"]=!0),l?f["aria-selected"]=l:f.tabIndex=-1),f.onClick=OS((function(e){u||(null==r||r(e),null!=n&&s&&!e.isPropagationStopped()&&s(n,e))})),[f,{isActive:l}]}var CR=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?zA:n,a=e.active,o=e.eventKey,u=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,IR),s=SR(Object.assign({key:wI(o,u.href),active:a},u)),c=(0,i.Z)(s,2),l=c[0],f=c[1];return l[BS("active")]=f.isActive,(0,$T.jsx)(r,Object.assign({},u,l,{ref:t}))}));CR.displayName="NavItem";var NR=["bsPrefix","className","as","active","eventKey"],AR=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,o=void 0===a?rR:a,u=e.active,s=e.eventKey,c=ZT(e,NR);n=eI(n,"nav-link");var l=SR(GT({key:wI(s,c.href),active:u},c)),f=(0,i.Z)(l,2),h=f[0],d=f[1];return(0,$T.jsx)(o,GT(GT(GT({},c),h),{},{ref:t,className:JT()(r,n,c.disabled&&"disabled",d.isActive&&"active")}))}));AR.displayName="NavLink",AR.defaultProps={disabled:!1};var RR=AR,OR=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],PR=t.forwardRef((function(e,t){var n=e.id,r=e.title,i=e.children,a=e.bsPrefix,o=e.className,u=e.rootCloseEvent,s=e.menuRole,c=e.disabled,l=e.active,f=e.renderMenuOnMount,h=e.menuVariant,d=ZT(e,OR),p=eI(void 0,"nav-item");return(0,$T.jsxs)(TR,GT(GT({ref:t},d),{},{className:JT()(o,p),children:[(0,$T.jsx)(TR.Toggle,{id:n,eventKey:null,active:l,disabled:c,childBsPrefix:a,as:RR,children:r}),(0,$T.jsx)(TR.Menu,{role:s,renderOnMount:f,rootCloseEvent:u,variant:h,children:i})]}))}));PR.displayName="NavDropdown";var DR=Object.assign(PR,{Item:TR.Item,ItemText:TR.ItemText,Divider:TR.Divider,Header:TR.Header}),LR=n(1564);var MR=function(){return(0,$T.jsx)(zC,{bg:"light",expand:"lg",style:{position:"sticky"},fixed:"top",children:(0,$T.jsxs)(rI,{children:[(0,$T.jsx)(zC.Brand,{href:"/",children:"\ubc15\uc8fc\ud64d"}),(0,$T.jsx)(zC.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,$T.jsx)(zC.Collapse,{id:"basic-navbar-nav",children:(0,$T.jsxs)(DR,{title:"\ub3c4\uad6c",id:"basic-nav-dropdown",children:[(0,$T.jsx)(LR.J,{to:"/jeju",children:(0,$T.jsx)(DR.Item,{children:"\uc81c\uc8fc"})}),(0,$T.jsx)(LR.J,{to:"/",children:(0,$T.jsx)(DR.Item,{children:"\uba54\ubaa8\uc7a5"})}),(0,$T.jsx)(DR.Divider,{}),(0,$T.jsx)(LR.J,{to:"/introduce",children:(0,$T.jsx)(DR.Item,{children:"\ud504\ub85c\uc81d\ud2b8 \uc18c\uac1c"})})]})})]})})},jR=["as","className","type","tooltip"],FR={type:aI().string,tooltip:aI().bool,as:aI().elementType},UR=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,u=e.tooltip,s=void 0!==u&&u,c=ZT(e,jR);return(0,$T.jsx)(r,GT(GT({},c),{},{ref:t,className:JT()(i,"".concat(o,"-").concat(s?"tooltip":"feedback"))}))}));UR.displayName="Feedback",UR.propTypes=FR;var VR=UR,BR=t.createContext({}),qR=["id","bsPrefix","className","type","isValid","isInvalid","as"],zR=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,o=e.type,u=void 0===o?"checkbox":o,s=e.isValid,c=void 0!==s&&s,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,p=ZT(e,qR),v=(0,t.useContext)(BR).controlId;return i=eI(i,"form-check-input"),(0,$T.jsx)(d,GT(GT({},p),{},{ref:n,type:u,id:r||v,className:JT()(a,i,c&&"is-valid",f&&"is-invalid")}))}));zR.displayName="FormCheckInput";var WR=zR,HR=["bsPrefix","className","htmlFor"],KR=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,o=ZT(e,HR),u=(0,t.useContext)(BR).controlId;return r=eI(r,"form-check-label"),(0,$T.jsx)("label",GT(GT({},o),{},{ref:n,htmlFor:a||u,className:JT()(i,r)}))}));KR.displayName="FormCheckLabel";var GR=KR;var QR=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],ZR=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,u=void 0!==o&&o,s=e.disabled,c=void 0!==s&&s,l=e.isValid,f=void 0!==l&&l,h=e.isInvalid,d=void 0!==h&&h,p=e.feedbackTooltip,v=void 0!==p&&p,m=e.feedback,y=e.feedbackType,g=e.className,k=e.style,b=e.title,w=void 0===b?"":b,_=e.type,x=void 0===_?"checkbox":_,E=e.label,T=e.children,I=e.as,S=void 0===I?"input":I,C=ZT(e,QR);i=eI(i,"form-check"),a=eI(a,"form-switch");var N=(0,t.useContext)(BR).controlId,A=(0,t.useMemo)((function(){return{controlId:r||N}}),[N,r]),R=!T&&null!=E&&!1!==E||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(T,GR),O=(0,$T.jsx)(WR,GT(GT({},C),{},{type:"switch"===x?"checkbox":x,ref:n,isValid:f,isInvalid:d,disabled:c,as:S}));return(0,$T.jsx)(BR.Provider,{value:A,children:(0,$T.jsx)("div",{style:k,className:JT()(g,R&&i,u&&"".concat(i,"-inline"),"switch"===x&&a),children:T||(0,$T.jsxs)($T.Fragment,{children:[O,R&&(0,$T.jsx)(GR,{title:w,children:E}),m&&(0,$T.jsx)(VR,{type:y,tooltip:v,children:m})]})})})}));ZR.displayName="FormCheck";var YR=Object.assign(ZR,{Input:WR,Label:GR}),JR=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],$R=t.forwardRef((function(e,n){var r,i,o=e.bsPrefix,u=e.type,s=e.size,c=e.htmlSize,l=e.id,f=e.className,h=e.isValid,d=void 0!==h&&h,p=e.isInvalid,v=void 0!==p&&p,m=e.plaintext,y=e.readOnly,g=e.as,k=void 0===g?"input":g,b=ZT(e,JR),w=(0,t.useContext)(BR).controlId;(o=eI(o,"form-control"),m)?r=a({},"".concat(o,"-plaintext"),!0):(a(i={},o,!0),a(i,"".concat(o,"-").concat(s),s),r=i);return(0,$T.jsx)(k,GT(GT({},b),{},{type:u,size:c,ref:n,readOnly:y,id:l||w,className:JT()(f,r,d&&"is-valid",v&&"is-invalid","color"===u&&"".concat(o,"-color"))}))}));$R.displayName="FormControl";var XR=Object.assign($R,{Feedback:VR}),eO=DI("form-floating"),tO=["controlId","as"],nO=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,o=ZT(e,tO),u=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,$T.jsx)(BR.Provider,{value:u,children:(0,$T.jsx)(a,GT(GT({},o),{},{ref:n}))})}));nO.displayName="FormGroup";var rO=nO,iO=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],aO=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,o=e.column,u=e.visuallyHidden,s=e.className,c=e.htmlFor,l=ZT(e,iO),f=(0,t.useContext)(BR).controlId;a=eI(a,"form-label");var h="col-form-label";"string"===typeof o&&(h="".concat(h," ").concat(h,"-").concat(o));var d=JT()(s,a,u&&"visually-hidden",o&&h);return c=c||f,o?(0,$T.jsx)(yI,GT({ref:n,as:"label",className:d,htmlFor:c},l)):(0,$T.jsx)(i,GT({ref:n,className:d,htmlFor:c},l))}));aO.displayName="FormLabel",aO.defaultProps={column:!1,visuallyHidden:!1};var oO=aO,uO=["bsPrefix","className","id"],sO=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,o=ZT(e,uO),u=(0,t.useContext)(BR).controlId;return r=eI(r,"form-range"),(0,$T.jsx)("input",GT(GT({},o),{},{type:"range",ref:n,className:JT()(i,r),id:a||u}))}));sO.displayName="FormRange";var cO=sO,lO=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],fO=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,u=e.isValid,s=void 0!==u&&u,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=ZT(e,lO),d=(0,t.useContext)(BR).controlId;return r=eI(r,"form-select"),(0,$T.jsx)("select",GT(GT({},h),{},{size:a,ref:n,className:JT()(o,r,i&&"".concat(r,"-").concat(i),s&&"is-valid",l&&"is-invalid"),id:f||d}))}));fO.displayName="FormSelect";var hO=fO,dO=["bsPrefix","className","as","muted"],pO=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,u=ZT(e,dO);return n=eI(n,"form-text"),(0,$T.jsx)(a,GT(GT({},u),{},{ref:t,className:JT()(r,n,o&&"text-muted")}))}));pO.displayName="FormText";var vO=pO,mO=t.forwardRef((function(e,t){return(0,$T.jsx)(YR,GT(GT({},e),{},{ref:t,type:"switch"}))}));mO.displayName="Switch";var yO=Object.assign(mO,{Input:YR.Input,Label:YR.Label}),gO=["bsPrefix","className","children","controlId","label"],kO=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,u=ZT(e,gO);return n=eI(n,"form-floating"),(0,$T.jsxs)(rO,GT(GT({ref:t,className:JT()(r,n),controlId:a},u),{},{children:[i,(0,$T.jsx)("label",{htmlFor:a,children:o})]}))}));kO.displayName="FloatingLabel";var bO=kO,wO=["className","validated","as"],_O={_ref:aI().any,validated:aI().bool,as:aI().elementType},xO=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=ZT(e,wO);return(0,$T.jsx)(a,GT(GT({},o),{},{ref:t,className:JT()(n,r&&"was-validated")}))}));xO.displayName="Form",xO.propTypes=_O;var EO=Object.assign(xO,{Group:rO,Control:XR,Floating:eO,Check:YR,Switch:yO,Label:oO,Text:vO,Range:cO,Select:hO,FloatingLabel:bO});var TO=function(){var e=(0,t.useState)(""),n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,t.useState)(""),u=(0,i.Z)(o,2),s=u[0],c=u[1],l=(0,t.useState)(!1),f=(0,i.Z)(l,2),h=f[0],d=f[1],p=(0,t.useState)(""),v=(0,i.Z)(p,2),m=v[0],y=v[1],g=function(e){var t=e.target,n=t.name,r=t.value;"email"===n?a(r):"password"===n&&c(r)},k=function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!h){e.next=8;break}return e.next=5,qT.createUserWithEmailAndPassword(r,s);case 5:n=e.sent,e.next=12;break;case 8:return e.next=10,qT.signInWithEmailAndPassword(r,s);case 10:n=e.sent,console.log("\uc2e4\ud589\ub40c");case 12:console.log(n),a(""),c(""),y(""),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0.message),y(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}();return(0,$T.jsxs)(EO,{children:[(0,$T.jsxs)(EO.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,$T.jsx)(EO.Label,{children:"Email address"}),(0,$T.jsx)(EO.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:g})]}),(0,$T.jsxs)(EO.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,$T.jsx)(EO.Label,{children:"Password"}),(0,$T.jsx)(EO.Control,{type:"password",placeholder:"Password",name:"password",onChange:g})]}),(0,$T.jsx)(EO.Group,{className:"mb-3",controlId:"formBasicCheckbox"}),(0,$T.jsx)(mR,{variant:"primary",type:"submit",onClick:k,children:"Submit"}),(0,$T.jsx)("div",{children:(0,$T.jsx)("button",{style:{backgroundColor:"black",color:"white"},onClick:function(e){e.preventDefault(),d((function(e){return!e}))},children:h?"\ub85c\uadf8\uc778\ud560\uac8c\uc694":"\ud68c\uc6d0\uac00\uc785\ud560\uac8c\uc694"})}),m]})};var IO=function(e){var n=e.user,r=(0,t.useState)(""),a=(0,i.Z)(r,2),o=a[0],u=a[1];(0,t.useEffect)((function(){}),[]);var s=function(){var e=X(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,zT.collection("memo").add({text:o,createdAt:Date.now(),creator:n.multiFactor.user.email,creatorId:n.multiFactor.user.uid});case 3:u("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,$T.jsxs)($T.Fragment,{children:[(0,$T.jsxs)(EO.Group,{className:"mb-3",controlId:"formBasicEmail",style:{height:"100px"},children:[(0,$T.jsx)(EO.Label,{children:"Memo"}),(0,$T.jsx)(EO.Control,{type:"text",placeholder:"Enter memo",onChange:function(e){var t=e.target.value;u(t)},value:o})]}),(0,$T.jsx)(mR,{variant:"primary",type:"submit",onClick:s,children:"Submit"})]})};var SO=function(e){var n=e.user,r=void 0===n?null:n,i=e.memos;(0,t.useEffect)((function(){console.log("user : ",r)}),[]);var a=function(){var e=X(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.name,!window.confirm("Are you sure you want to delete this?")){e.next=7;break}return e.next=5,zT.doc("memo/".concat(n)).delete();case 5:e.next=7;break;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,$T.jsx)("div",{children:i.map((function(e){return(0,$T.jsxs)("div",{children:[(0,$T.jsx)("strong",{children:e.creator}),(0,$T.jsx)("br",{}),e.text,0!==Object.keys(r).length&&e.creatorId===r.multiFactor.user.uid&&(0,$T.jsx)("button",{style:{border:"1px solid skyblue",backgroundColor:"white"},name:e.id,onClick:a,children:"\uc0ad\uc81c"})]},e.id)}))})};var CO=function(e){var n=e.user,r=(0,t.useState)([]),a=(0,i.Z)(r,2),o=a[0],u=a[1];return(0,t.useEffect)((function(){zT.collection("memo").onSnapshot((function(e){var t=e.docs.map((function(e){return GT({id:e.id},e.data())}));u(t)}))}),[n]),(0,$T.jsx)($T.Fragment,{children:(0,$T.jsx)(rI,{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:(0,$T.jsxs)(hI,{children:[(0,$T.jsx)(yI,{className:"FormDataInputBox",style:{width:"80vw"},children:0!==Object.keys(n).length?(0,$T.jsx)(IO,{user:n}):(0,$T.jsx)(TO,{})}),(0,$T.jsx)(yI,{className:"DataMappingBox",style:{},children:(0,$T.jsx)(SO,{user:n,memos:o})})]})})})};var NO=function(){return(0,$T.jsx)(rI,{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:(0,$T.jsx)(hI,{children:(0,$T.jsxs)(yI,{style:{width:"48vw"},children:[(0,$T.jsx)("div",{children:"\uc800\ud76c \ubd80\ubaa8\ub2d8\uc774 \uc0ac\uc2dc\ub294 \uc81c\uc8fc\uc758 \ub0a0\uc528\uc640 \uc81c\uac00 \uc790\uc8fc \uc4f0\ub294 \uba54\ubaa8\uc7a5\uc744 \uc6f9\uc73c\ub85c \ub9cc\ub4e4\uc5b4 \ubcf4\uc558\uc2b5\ub2c8\ub2e4."}),(0,$T.jsx)("br",{}),(0,$T.jsx)("div",{children:"\uba54\ubaa8\uc7a5\uc740 \ub85c\uadf8\uc778\ud558\uba74 \ub204\uad6c\ub4e0 \uc801\uc744 \uc218 \uc788\ub3c4\ub85d \uad6c\ud604\ud558\uc5ec \ubc29\uba85\ub85d\ucc98\ub7fc \uc0ac\uc6a9\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4."})]})})})};var AO=function(){var e=(0,t.useState)(null),n=(0,i.Z)(e,2),r=n[0],a=n[1];return(0,t.useEffect)((function(){qT.onAuthStateChanged((function(e){e?a(e):(console.log("\ub85c\uadf8\uc778 \uc548\ub410\uc74c"),a(null))}))}),[]),(0,$T.jsxs)(WT.HashRouter,{basename:"/portfolio",children:[(0,$T.jsx)(MR,{}),(0,$T.jsxs)(HT.Z5,{children:[(0,$T.jsx)(HT.AW,{path:"/jeju",element:(0,$T.jsx)(bI,{})}),(0,$T.jsx)(HT.AW,{path:"/",element:(0,$T.jsx)(CO,{user:null===r?{}:r})}),(0,$T.jsx)(HT.AW,{path:"/introduce",element:(0,$T.jsx)(NO,{})})]})]})};var RO=function(){return(0,$T.jsx)($T.Fragment,{children:(0,$T.jsx)(AO,{})})};r.render((0,$T.jsx)(t.StrictMode,{children:(0,$T.jsx)(RO,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.e44cef34.js.map